"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[1375,1787],{"./node_modules/@arcgis/core/chunks/Centroid-DZi-eb9F.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>u,c:()=>a});var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),_Point2D_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js");function a(e,r){if(!e.isEmpty())switch(e.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolygon:return o(e);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPolyline:return function l(t){return m(t.getImpl())}(e);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumLine:case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumBezier:case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEllipticArc:return function i(t){const e=t.calculateLength2D();return 0===e?t.getStartXY():t.calculateWeightedCentroid2D().mul(1/e)}(e);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumMultiPoint:return function g(t){const e=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),u=t.getImpl(),o=u.getAttributeStreamRef(0),s=u.getPointCount(),c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P;for(let n=0;n<s;n++)o.queryPoint2D(2*n,c),e.add(c.x),a.add(c.y);const l=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P;return l.setCoords(e.getResult(),a.getResult()),l.divThis(s)}(e);case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope:return e.getCenterXY();case _Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumPoint:return e.getXY();default:return _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P.construct(Number.NaN,Number.NaN)}return _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P.construct(Number.NaN,Number.NaN)}function u(t,e){return o(t,e)}function o(t,e=-1){const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),o=t.getImpl();let l;const i=o.hasNonLinearSegments();let g;const m=o.getXY(0);if(-1===e){if(g=o.calculateArea2D(),0===g)return d(t);i&&(l=o.querySegmentIterator());for(let t=0,e=o.getPathCount();t<e;t++)s(m,o,t,a,u),i&&c(m,l,a,u)}else{if(g=o.calculateRingArea2D(e),0===g)return d(t,e);i&&(l=o.querySegmentIterator(),l.resetToPath(e)),s(m,o,e,a,u),i&&c(m,l,a,u)}const f=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P;return f.setCoords(a.getResult(),u.getResult()),h.assign(f.mul(1/g).add(m)),h}function s(t,e,a,u,o){const s=e.getPathStart(a),c=e.getPathEnd(a);if(c-s<3)return;const l=e.getAttributeStreamRef(0),i=l.readPoint2D(2*s),g=l.readPoint2D(2*(s+1));g.subThis(i);const d=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),m=e.hasNonLinearSegments(),f=1/3,h=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P;for(let n=s+2;n<c;n++){l.queryPoint2D(2*n,h),h.subThis(i);const t=.5*h.crossProduct(g);m&&d.add(t);const e=f*t;u.add((g.x+h.x)*e),o.add((g.y+h.y)*e),g.setCoordsPoint2D(h)}const P=m?d.getResult():e.calculateRingArea2D(a),y=i.sub(t).mul(P);u.add(y.x),o.add(y.y)}function c(t,n,r,a){let u;for(n.nextPath()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.c)("centroid");null!==(u=n.nextCurve());){const e=u.calculateWeightedAreaCentroid2D(t);r.add(e.x),a.add(e.y)}}function d(t,e=-1){return m(t.getImpl(),e)}function m(t,e=-1){const a=-1===e?t.calculateLength2D():t.calculatePathLength2D(e);if(0===a)return function f(t,e=-1){if(-1!==e)return t.getXY(t.getPathStart(e));const a=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0);for(let n=0;n<t.getPathCount();++n){const e=t.getXY(t.getPathStart(n));a.add(e.x),u.add(e.y)}return _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P.construct(a.getResult(),u.getResult()).mul(1/t.getPathCount())}(t,e);const u=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),o=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.K(0),s=t.querySegmentIterator();for(-1!==e&&s.resetToPath(e);s.nextPath();){const n=s.getPathIndex(),r=t.getXY(t.getPathStart(n));for(;s.hasNextSegment();){const t=s.nextSegment(),e=t.calculateLength2D();if(0===e)continue;const n=t.calculateWeightedCentroid2D().sub(r.mul(e));u.add(n.x),o.add(n.y)}const a=r.mul(t.calculatePathLength2D(n));if(u.add(a.x),o.add(a.y),-1!==e)break}const c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_1__.P;return c.setCoords(u.getResult(),o.getResult()),c.mul(1/a)}},"./node_modules/@arcgis/core/chunks/OperatorProximity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>OperatorProximity_m});var Geometry=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),Envelope2D=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),Point2D=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),ProjectionTransformation=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");function s(){return SideCalculator2D_BNwb5gvz_g(new Point2D.P,-1,Number.NaN)}function SideCalculator2D_BNwb5gvz_g(e,t,n){return{m_coordinate:e.clone(),m_vertexIndex:t,m_geometryIndex:0,m_distance:n,m_bRightSide:!1,isEmpty:u}}function u(){return Number.isNaN(this.m_distance)}function c(e,r,i=-1,s=-1){if(e.isEmpty())return 3;const g=e.getGeometryType();if((0,Geometry.f)(g))return function a(t,n,o,i){if(o>=0||i>=0)return(0,Geometry.t)("");if(t.isDegenerate(0))return t.getStartXY().equals(n)?2:3;if(!t.isCurve()){const r=Point2D.P.orientationRobust(n,t.getStartXY(),t.getEndXY());return r<0?1:r>0?0:2}const s=t.getClosestCoordinate(n,!1),g=t.getTangent(s),u=t.getCoord2D(s),c=Point2D.P.orientationRobust(n,u,u.add(g));return c<0?1:c>0?0:2}(e,r,i,s);if(g===Geometry.G.enumPolygon)return function f(e,t,n,s){(n>=0||s>=0)&&(0,Geometry.t)("");const g=new Envelope2D.J;e.queryEnvelope(g);const u=(0,ProjectionTransformation.i)(e,t,0);return 0===u?0:1===u?1:2}(e,r,i,s);if(g===Geometry.G.enumPolyline)return function m(t,n,o,i){(o<0&&i>=0||o>=0&&i<0)&&(0,Geometry.t)("");const s=t.querySegmentIterator();if(o<0){let t=Number.MAX_VALUE,r=0;for(;s.nextPath();)for(;s.hasNextSegment();){const g=s.nextSegment(),u=g.getClosestCoordinate(n,!1),c=g.getCoord2D(u),a=Point2D.P.sqrDistance(c,n);a<t?(r=1,o=s.getStartPointIndex(),i=s.getPathIndex(),t=a):a===t&&r++}if(0===r)return 3;if(1===r)return s.resetToVertex(o,i),c(s.nextSegment(),n)}const g=function h(t,n,r,o){const i={i1:-1,i2:-1,bRight1:!1,bRight2:!1};if(i.i1=function x(e,t,n){for(e.resetToVertex(t,n);e.hasNextSegment();)if(!e.nextSegment().isDegenerate(0))return e.getStartPointIndex();for(e.resetToVertex(t,n);e.hasPreviousSegment();)if(!e.previousSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(n,r,o),-1!==i.i1){n.resetToVertex(i.i1,-1);const r=n.nextSegment(),o=r.getClosestCoordinate(t,!1),s=r.getCoord2D(o),g=Point2D.P.sqrDistance(s,t);{const e=s.clone();e.subThis(r.getStartXY());const n=t.clone();n.subThis(r.getStartXY()),i.bRight1=e.crossProduct(n)<0}if(i.i2=function S(e,t){for(e.resetToVertex(t,-1),e.nextSegment();e.hasNextSegment();)if(!e.nextSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(n,i.i1),-1!==i.i2){n.resetToVertex(i.i2,-1);const r=n.nextSegment(),o=r.getClosestCoordinate(t,!1),s=r.getCoord2D(o);if(Point2D.P.sqrDistance(s,t)>g)i.i2=-1;else{const e=s.clone();e.subThis(r.getStartXY());const n=t.clone();n.subThis(r.getStartXY()),i.bRight2=e.crossProduct(n)<0}}if(-1===i.i2&&(i.i2=function d(e,t){for(e.resetToVertex(t,-1);e.hasPreviousSegment();)if(!e.previousSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(n,i.i1),-1!==i.i2)){n.resetToVertex(i.i2,-1);const r=n.nextSegment(),o=r.getClosestCoordinate(t,!1),s=r.getCoord2D(o);if(Point2D.P.sqrDistance(s,t)>g)i.i2=-1;else{const e=s.clone();e.subThis(r.getStartXY());const n=t.clone();n.subThis(r.getStartXY()),i.bRight2=e.crossProduct(n)<0;const o=i.i1;i.i1=i.i2,i.i2=o;const g=i.bRight1;i.bRight1=i.bRight2,i.bRight2=g}}}return i}(n,s,o,i);if(-1!==g.i1&&-1===g.i2)return g.bRight1?1:0;if(-1!==g.i1&&-1!==g.i2){if(g.bRight1===g.bRight2)return g.bRight1?1:0;{s.resetToVertex(g.i1,-1);const e=s.nextSegment().getTangent(1);s.resetToVertex(g.i2,-1);const t=s.nextSegment().getTangent(0);return e.crossProduct(t)>=0?1:0}}return s.resetToVertex(o,i),c(s.nextSegment(),n)}(e,r,i,s);if(g===Geometry.G.enumEnvelope){const t=new Envelope2D.J;return e.queryEnvelope(t),t.contains(r)?t.containsExclusive(r)?1:2:0}return 3}var Envelope=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js");class OperatorProximity_m{getOperatorType(){return 10500}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}getNearestCoordinate(n,o,i,a){if(o.isNAN()&&(0,Geometry.t)("NAN xy coordinates are not allowed"),n.isEmpty())return s();switch(n.getGeometryType()){case Geometry.G.enumPoint:return this.pointGetNearestVertex(n,o);case Geometry.G.enumMultiPoint:return this.multiVertexGetNearestVertex(n,o);case Geometry.G.enumPolyline:case Geometry.G.enumPolygon:return this.multiPathGetNearestCoordinate(n,o,i,a);default:(0,Geometry.b)("")}}getNearestVertex(n,o){if(o.isNAN()&&(0,Geometry.t)("NAN xy coordinates are not allowed"),n.isEmpty())return s();switch(n.getGeometryType()){case Geometry.G.enumPoint:return this.pointGetNearestVertex(n,o);case Geometry.G.enumMultiPoint:case Geometry.G.enumPolyline:case Geometry.G.enumPolygon:return this.multiVertexGetNearestVertex(n,o);default:(0,Geometry.b)("")}}getNearestVertices(n,s,o,i){if(0===i&&(0,Geometry.t)(""),s.isNAN()&&(0,Geometry.t)("NAN xy coordinates are not allowed"),n.isEmpty())return[];switch(n.getGeometryType()){case Geometry.G.enumPoint:return this.pointGetNearestVertices(n,s,o,i);case Geometry.G.enumMultiPoint:case Geometry.G.enumPolyline:case Geometry.G.enumPolygon:return this.multiVertexGetNearestVertices(n,s,o,i);default:(0,Geometry.b)("")}}multiPathGetNearestCoordinate(t,s,m,l){if(t.getGeometryType()===Geometry.G.enumPolygon&&m){const e=new Envelope2D.J;t.queryEnvelope(e);const r=(0,Envelope.c)(null,e,!1);let i;if(i=(0,ProjectionTransformation.i)(t,s,l?0:r),0!==i){const e=SideCalculator2D_BNwb5gvz_g(s,-1,0);return l&&(e.m_bRightSide=!0),e}}const g=t.querySegmentIterator(),y=new Point2D.P;let N=-1,p=-1,f=Number.MAX_VALUE,d=0;for(;g.nextPath();)for(;g.hasNextSegment();){const e=g.nextSegment(),t=e.getClosestCoordinate(s,!1),r=e.getCoord2D(t),n=Point2D.P.sqrDistance(r,s);n<f?(d=1,y.assign(r),N=g.getStartPointIndex(),p=g.getPathIndex(),f=n):n===f&&d++}-1===N&&(0,Geometry.t)("");const h=SideCalculator2D_BNwb5gvz_g(y,N,Math.sqrt(f));if(l)if(t.getGeometryType()!==Geometry.G.enumPolygon){let e=!1;if(d>1){const r=c(t,s,N,p);e=0!==r&&3!==r}else{g.resetToVertex(N,p);e=0!==c(g.nextSegment(),s)}h.m_bRightSide=e}else m||0!==(0,ProjectionTransformation.i)(t,s,0)&&(h.m_bRightSide=!0);return h}pointGetNearestVertex(e,t){const r=e.getXY();return SideCalculator2D_BNwb5gvz_g(r,0,Point2D.P.distance(r,t))}multiVertexGetNearestVertex(e,t){const r=e.getAttributeStreamRef(0),n=e.getPointCount();let s=-1;const i=new Point2D.P;let a=Number.MAX_VALUE;const c=new Point2D.P;for(let o=0;o<n;o++){r.queryPoint2D(2*o,c);const e=Point2D.P.sqrDistance(c,t);e<a&&(i.assign(c),s=o,a=e)}return SideCalculator2D_BNwb5gvz_g(i,s,Math.sqrt(a))}pointGetNearestVertices(e,t,r,n){const s=[];if(0!==n){const n=r*r,i=e.getXY(),a=Point2D.P.sqrDistance(i,t);a<=n&&s.push(SideCalculator2D_BNwb5gvz_g(i,0,Math.sqrt(a)))}return s}multiVertexGetNearestVertices(e,t,r,n){const s=[];if(0!==n){const i=e.getAttributeStreamRef(0),a=e.getPointCount();s.length=n+1;const c=r*r;for(let e=0;e<a;e++){const r=i.read(2*e),n=i.read(2*e+1),a=t.x-r,m=t.y-n,l=a*a+m*m;l<=c&&s.push(SideCalculator2D_BNwb5gvz_g(Point2D.P.construct(r,n),e,Math.sqrt(l)))}s.sort(((e,t)=>e.m_distance-t.m_distance))}return s.slice(0,n)}}},"./node_modules/@arcgis/core/chunks/labelPointOperator.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>u,e:()=>p,l:()=>c,s:()=>n});var _geometry_operators_gx_operatorLabelPoint_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/geometry/operators/gx/operatorLabelPoint.js"),_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js");function p(e){return(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.toPoint)((0,_geometry_operators_gx_operatorLabelPoint_js__WEBPACK_IMPORTED_MODULE_0__.g7)((0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromGeometry)(e)),(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.getSpatialReference)(e))}function u(e){const r=e.map(_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.fromGeometry),p=(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.getSpatialReference)(e);return(0,_geometry_operators_gx_operatorLabelPoint_js__WEBPACK_IMPORTED_MODULE_0__.zo)(r).map((e=>(0,_geometry_operators_support_apiConverter_js__WEBPACK_IMPORTED_MODULE_1__.toPoint)(e,p)))}const n=(0,_geometry_operators_gx_operatorLabelPoint_js__WEBPACK_IMPORTED_MODULE_0__.fz)(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:p,executeMany:u,supportsCurves:n},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/geometry/operators/gx/operatorLabelPoint.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{fz:()=>_,g7:()=>b,zo:()=>C});var _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js"),_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),_chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js"),_chunks_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/QuadraticBezier.js"),_chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js"),_chunks_Centroid_DZi_eb9F_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/chunks/Centroid-DZi-eb9F.js"),_chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorProximity.js");class x extends _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{progress_(){}tock(){return!0}getRank(){return 1}constructor(e,t){super(),this.m_index=-1,this.m_progressCounter=0,this.m_progressTracker=t,this.m_inputGeoms=e}next(){const e=this.m_inputGeoms.next();return e?((0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.labelPoint(e)):null}getGeometryID(){return this.m_index}labelPoint(e){if(null===e&&(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("null pointer is not allowed"),e.getGeometryType()===_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint)return e;if(e.isEmpty())return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({vd:e.getDescription()});switch(e.getGeometryType()){case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.labelPointPolygon(e);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:return this.labelPointPolyline(e);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.labelPointMultiPoint(e);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.labelPointEnvelope(e);default:(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)("geometry is not supported")}}labelPointPolygon(e){const t=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J;e.queryEnvelope(t);const n=(0,_chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.a)(null,t,!0).total();let r=null,o=e;if(e.hasNonLinearSegments()){const t=new _chunks_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_3__.a({copy:e}),a=(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_6__.ah)(t,.25*n,n);(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(a!==e),r=a,o=r}let u=0,h=0;for(let s=0,a=o.getPathCount();s<a;++s){const e=Math.abs(o.calculateRingArea2D(s));e>h&&(h=e,u=s)}const d=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;if(Math.abs(h)<=2*n*n?d.setNAN():d.assign((0,_chunks_Centroid_DZi_eb9F_js__WEBPACK_IMPORTED_MODULE_7__.a)(o,u)),Number.isNaN(d.x)){const e=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J;return o.queryPathEnvelope(u,e),new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({pt:e.getCenter()})}if(o.getPointCount()<4)return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:d.x,y:d.y});const x=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.getNAN(),w=[x.clone(),x.clone(),x.clone(),x.clone()],b=[Number.NaN,Number.NaN,Number.NaN,Number.NaN],C=[Number.NaN,Number.NaN,Number.NaN,Number.NaN];let _=!1,D=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(o,d,!0,!1);if(0===D.m_distance&&(_=!0,w[0]=d,D=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(o,d,!1,!1),D.m_distance>.25*t.minDimension()*1.66666666))return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:d.x,y:d.y});b[0]=D.m_distance,C[0]=0;const k=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;let A=!1,E=.25,q=-1;const v=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J;o.queryPathEnvelope(u,v);do{let e=Number.NaN;if(w[1]=this.calculateParacentroid_(o,(0,_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.q)(v.xmin,v.xmax,E),n),w[1].isNAN()||(D=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(o,w[1],!1,!1),e=D.m_distance),e>n&&1===(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_6__.i)(o,w[1],n))A=!0,b[1]=e,C[1]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[1],d);else if(e>q&&(q=e,k.setCoordsPoint2D(w[1])),E-=.01,E<.1){if(!(q>=0))break;A=!0,b[1]=q,w[1]=k,C[1]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[1],d)}}while(!A);A=!1,E=.5,q=-1;let G=.01,M=1;do{let e=Number.NaN;if(w[2]=this.calculateParacentroid_(o,(0,_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.q)(v.xmin,v.xmax,E),n),w[2].isNAN()||(D=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(o,w[2],!1,!1),e=D.m_distance),e>n&&1===(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_6__.i)(o,w[2],n))A=!0,b[2]=e,C[2]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[2],d);else if(e>q&&(q=e,k.setCoordsPoint2D(w[2])),E=.5+G*M,G+=.01,M*=-1,E<.3||E>.7){if(!(q>=0))break;A=!0,b[2]=q,w[2]=k,C[2]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[2],d)}}while(!A);A=!1,E=.75,q=-1;do{let e=Number.NaN;if(w[3]=this.calculateParacentroid_(o,(0,_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.q)(v.xmin,v.xmax,E),n),w[3].isNAN()||(D=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(o,w[3],!1,!1),e=D.m_distance),e>n&&1===(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_6__.i)(o,w[3],n))A=!0,b[3]=e,C[3]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[3],d);else if(e>q&&(q=e,k.setCoordsPoint2D(w[3])),E+=.01,E>.9){if(!(q>=0))break;A=!0,b[3]=q,w[3]=k,C[3]=_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P.sqrDistance(w[3],d)}}while(!A);const S=[0,1,2,3],j=_?0:1;for(let s=j;s<4;s++)for(let e=j;e<3;e++){const t=C[e],n=C[e+1];if((0,_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.r)(t,n)>0){const r=S[e];S[e]=S[e+1],S[e+1]=r,C[e]=n,C[e+1]=t}}let X=j,L=0,T=0;for(let s=j;s<4;s++){switch(s){case 0:T=2*b[S[s]];break;case 1:T=1.66666666*b[S[s]];break;case 2:T=1.33333333*b[S[s]];break;case 3:T=b[S[s]]}T>L&&(L=T,X=S[s])}return(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(!w[X].isNAN()),new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:w[X].x,y:w[X].y})}labelPointPolyline(e){const t=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P;if(e.getPointCount()>2*e.getPathCount()){let n=-1,r=-Number.MAX_VALUE;for(let t=0,i=e.getPathCount();t<i;t++)if(e.getPathSize(t)>2){const o=e.calculatePathLength2D(t);o>r&&(r=o,n=t)}const o=e.getPathStart(n),s=e.getPathEnd(n),a=Math.trunc((o+s)/2);t.assign(e.getXY(a))}else{let n=-Number.MAX_VALUE;const r=e.querySegmentIterator();for(;r.nextPath();)if(r.hasNextSegment()){const e=r.nextSegment(),o=e.calculateLength2D();o>n&&(n=o,t.assign(e.getCoord2D(e.lengthToT(.5*o))))}}return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:t.x,y:t.y})}labelPointMultiPoint(e){const t=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J;e.queryEnvelope(t);const n=t.getCenter(),r=(new _chunks_OperatorProximity_js__WEBPACK_IMPORTED_MODULE_8__.O).getNearestCoordinate(e,n,!1,!1).m_coordinate;return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:r.x,y:r.y})}labelPointEnvelope(e){const t=e.getCenterXY();return new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_2__.P({x:t.x,y:t.y})}calculateParacentroid_(e,t,n){const r=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J;e.queryEnvelope(r);const o=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P(t,0);let a=Number.MAX_VALUE,i=Number.MAX_VALUE,l=!1,N=!1;const g=new _chunks_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_3__.L;g.setStartXYCoords(o.x,r.ymin-1),g.setEndXYCoords(o.x,r.ymax+1);const y=new _chunks_Envelope2D_js__WEBPACK_IMPORTED_MODULE_4__.J,P=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,p=new _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,f=(0,_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.m)(_chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_5__.P,2),d=e.querySegmentIterator();for(;d.nextPath();)for(;d.hasNextSegment();){const e=d.nextSegment();if(e.queryEnvelope(y),(0,_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.isMonotoneQuickAndDirty()),P.setCoordsPoint2D(g.getStartXY()),p.setCoordsPoint2D(g.getEndXY()),0===y.clipLine(P,p))continue;if(1!==g.intersect(e,f,null,null,n))continue;const t=f[0].y;a>i?t<a&&(a=t,l=!0):t<i&&(i=t,N=!0)}return l&&N?o.y=(a+i)/2:o.setNAN(),o}}const w=new class d{getOperatorType(){return 10203}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}executeMany(e,t){return new x(e,t)}execute(e,t){return new x(null,t).labelPoint(e)}};function b(e){return w.execute(e,null)}function C(e){const n=w.executeMany(new _chunks_SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S(e),null);return Array.from(n)}function _(){return w.supportsCurves()}},"./node_modules/@arcgis/core/geometry/operators/support/apiConverter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{fromExtent:()=>M,fromGeometry:()=>x,fromMultipoint:()=>V,fromPoint:()=>w,fromPolygon:()=>v,fromPolyline:()=>P,fromSpatialReference:()=>j,getSpatialReference:()=>C,toExtent:()=>E,toGeometry:()=>Z,toMultipoint:()=>d,toPoint:()=>k,toPolygon:()=>R,toPolyline:()=>z});var _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),_chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js")),_chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js"),_chunks_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/QuadraticBezier.js"),_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js"),_Extent_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),_Multipoint_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/geometry/Multipoint.js"),_Point_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js"),_Polygon_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/geometry/Polygon.js"),_Polyline_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/geometry/Polyline.js"),_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./node_modules/@arcgis/core/geometry/operators/support/initNoPeFactory.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/operators/support/jsonConverter.js"));const p="_gxVersion",g=2,y=1;function C(e){return Array.isArray(e)?e[0].spatialReference:e.spatialReference}function x(e){switch(e.type){case"point":return w(e);case"multipoint":return V(e);case"polyline":return P(e);case"polygon":return v(e);case"extent":return M(e);default:throw new Error(`Unsupported geometry type: ${e.type}`)}}function M(e){if(!e.getCacheValue(p)){const t=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.E;t.setCoords(e.xmin,e.ymin,e.xmax,e.ymax),e.hasM&&t.setInterval(g,0,e.mmin,e.mmax),e.hasZ&&t.setInterval(y,0,e.zmin,e.zmax),e.setCacheValue(p,t)}return e.getCacheValue(p)}function V(e){if(!e.getCacheValue(p)){const t=new _chunks_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_4__.M,n=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P,a=e.points,o=e.hasM,i=e.hasZ,u=i?3:2;for(let e=0,r=a.length;e<r;e++){const r=a[e];n.setXYCoords(r[0],r[1]),i&&n.setZ(r[2]??0),o&&n.setM(r[u]??NaN),t.add(n)}e.setCacheValue(p,t)}return e.getCacheValue(p)}function w(e){if(!e.getCacheValue(p)){const t=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;t.setXYCoords(e.x,e.y),e.hasM&&t.setM(e.m),e.hasZ&&t.setZ(e.z),e.setCacheValue(p,t)}return e.getCacheValue(p)}function v(e){if(!e.getCacheValue(p)){const{curveRings:t,hasM:n,hasZ:r,rings:s}=e,a=(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.fromGeometryToGXGeometry)({curveRings:t,hasM:n,hasZ:r,rings:s});e.setCacheValue(p,a)}return e.getCacheValue(p)}function P(e){if(!e.getCacheValue(p)){const{curvePaths:t,hasM:n,hasZ:r,paths:s}=e,a=(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.fromGeometryToGXGeometry)({curvePaths:t,hasM:n,hasZ:r,paths:s});e.setCacheValue(p,a)}return e.getCacheValue(p)}function j(e){if(e.wkid)return(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__.c)(e.wkid);const t=e.wkt2||e.wkt;return t?(0,_chunks_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_5__.b)(t):null}function Z(e,n){if(e)switch(e.getGeometryType()){case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPoint:return k(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumEnvelope:return E(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumMultiPoint:return d(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolyline:return z(e,n);case _chunks_Geometry_js__WEBPACK_IMPORTED_MODULE_2__.G.enumPolygon:return R(e,n)}return null}function E(e,t){if(e.isEmpty())return null;const n=new _Extent_js__WEBPACK_IMPORTED_MODULE_6__.default({xmin:e.getXMin(),ymin:e.getYMin(),xmax:e.getXMax(),ymax:e.getYMax(),spatialReference:t}),r=e.getDescription();if(r.hasM()){const t=e.queryInterval(g,0);n.mmin=t.vmin,n.mmax=t.vmax}if(r.hasZ()){const t=e.queryInterval(y,0);n.zmin=t.vmin,n.zmax=t.vmax}return n.setCacheValue(p,e),n}function d(e,t){if(e.isEmpty())return null;const n=e.getDescription(),s=n.hasM(),a=n.hasZ(),o=[],i=new _chunks_Envelope_js__WEBPACK_IMPORTED_MODULE_3__.P;for(let r=0,u=e.getPointCount();r<u;r++){e.getPointByVal(r,i);const t=[i.getX(),i.getY()];a&&t.push(i.getZ()),s&&t.push(i.getM()),o.push(t)}const c=new _Multipoint_js__WEBPACK_IMPORTED_MODULE_7__.A({hasM:s,hasZ:a,points:o,spatialReference:t});return c.setCacheValue(p,e),c}function k(t,n){if(t instanceof _chunks_Point2D_js__WEBPACK_IMPORTED_MODULE_0__.P)return new _Point_js__WEBPACK_IMPORTED_MODULE_8__.default({x:t.x,y:t.y,spatialReference:n});if(t.isEmpty())return null;const r=new _Point_js__WEBPACK_IMPORTED_MODULE_8__.default({x:t.getX(),y:t.getY(),spatialReference:n}),s=t.getDescription();return s.hasM()&&(r.m=t.getM()),s.hasZ()&&(r.z=t.getZ()),r.setCacheValue(p,t),r}function R(e,t){if(e.isEmpty())return null;const n=_Polygon_js__WEBPACK_IMPORTED_MODULE_9__.A.fromJSON({spatialReference:t,...(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.toGeometry)(e,null)});return n.setCacheValue(p,e),n}function z(e,t){if(e.isEmpty())return null;const n=_Polyline_js__WEBPACK_IMPORTED_MODULE_10__.A.fromJSON({spatialReference:t,...(0,_jsonConverter_js__WEBPACK_IMPORTED_MODULE_12__.toGeometry)(e,null)});return n.setCacheValue(p,e),n}}}]);