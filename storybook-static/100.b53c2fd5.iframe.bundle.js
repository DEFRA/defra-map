/*! For license information please see 100.b53c2fd5.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[100],{"./node_modules/@esri/calcite-components/dist/chunks/FloatingArrow.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>S});var lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lit-html/directives/ref.js"),lit_html_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lit-html/directives/keyed.js"),lit_html__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lit-html/lit-html.js"),_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/lumina/dist/index.js");const h_arrow="calcite-floating-ui-arrow",h_arrowStroke="calcite-floating-ui-arrow__stroke",m={width:12,height:6,strokeWidth:1},S=({floatingLayout:c,key:l,ref:d})=>{const{width:t,height:r,strokeWidth:o}=m,i=t/2,e="vertical"===c,s=`M0,0 H${t} L${t-i},${r} Q${i},${r} ${i},${r} Z`;return(0,lit_html_directives_keyed_js__WEBPACK_IMPORTED_MODULE_1__.D)(l,lit_html__WEBPACK_IMPORTED_MODULE_2__.qy`<svg aria-hidden=true class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.CP)(h_arrow)} height=${t} viewBox=${`0 0 ${t} ${t+(e?0:o)}`} width=${t+(e?o:0)} ${(0,lit_html_directives_ref_js__WEBPACK_IMPORTED_MODULE_0__.K)(d)}>${lit_html__WEBPACK_IMPORTED_MODULE_2__.JW`${lit_html__WEBPACK_IMPORTED_MODULE_2__.JW`<path class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_3__.CP)(h_arrowStroke)} d=${s??lit_html__WEBPACK_IMPORTED_MODULE_2__.s6} fill=none stroke-width=${o+1} />`||""}<path d=${s??lit_html__WEBPACK_IMPORTED_MODULE_2__.s6} stroke=none />`}</svg>`)}},"./node_modules/@esri/calcite-components/dist/chunks/Heading.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>h});var lit_html_directives_keyed_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lit-html/directives/keyed.js"),lit_html_static_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/lit-html/static.js"),_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/lumina/dist/index.js");const h=({children:e,...a})=>{const t=a.level?(0,lit_html_static_js__WEBPACK_IMPORTED_MODULE_1__.Bk)(`h${a.level}`):lit_html_static_js__WEBPACK_IMPORTED_MODULE_1__.eu`div`;return(0,lit_html_directives_keyed_js__WEBPACK_IMPORTED_MODULE_0__.D)(a.key,lit_html_static_js__WEBPACK_IMPORTED_MODULE_1__.qy`<${t} class=${(0,_arcgis_lumina__WEBPACK_IMPORTED_MODULE_2__.CP)(a.class)}>${e}</${t}>`)}},"./node_modules/@esri/calcite-components/dist/chunks/key.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function t(n){return"Enter"===n||" "===n}__webpack_require__.d(__webpack_exports__,{i:()=>t,n:()=>e});const e=["0","1","2","3","4","5","6","7","8","9"]},"./node_modules/@esri/calcite-components/dist/chunks/resources2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>t,I:()=>a,S:()=>e,a:()=>i});const t={menu:"menu",defaultTrigger:"default-trigger"},e={tooltip:"tooltip",trigger:"trigger"},a={menu:"ellipsis"},i="data-active"},"./node_modules/@esri/calcite-components/dist/chunks/useFocusTrap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>k});var dist=__webpack_require__("./node_modules/@arcgis/components-controllers/dist/index.js"),candidateSelectors=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],candidateSelector=candidateSelectors.join(","),NoElement="undefined"==typeof Element,matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(element){var _element$getRootNode;return null==element||null===(_element$getRootNode=element.getRootNode)||void 0===_element$getRootNode?void 0:_element$getRootNode.call(element)}:function(element){return null==element?void 0:element.ownerDocument},isInert=function isInert(node,lookUp){var _node$getAttribute;void 0===lookUp&&(lookUp=!0);var inertAtt=null==node||null===(_node$getAttribute=node.getAttribute)||void 0===_node$getAttribute?void 0:_node$getAttribute.call(node,"inert");return""===inertAtt||"true"===inertAtt||lookUp&&node&&isInert(node.parentNode)},getCandidates=function getCandidates(el,includeContainer,filter){if(isInert(el))return[];var candidates=Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));return includeContainer&&matches.call(el,candidateSelector)&&candidates.unshift(el),candidates=candidates.filter(filter)},getCandidatesIteratively=function getCandidatesIteratively(elements,includeContainer,options){for(var candidates=[],elementsToCheck=Array.from(elements);elementsToCheck.length;){var element=elementsToCheck.shift();if(!isInert(element,!1))if("SLOT"===element.tagName){var assigned=element.assignedElements(),nestedCandidates=getCandidatesIteratively(assigned.length?assigned:element.children,!0,options);options.flatten?candidates.push.apply(candidates,nestedCandidates):candidates.push({scopeParent:element,candidates:nestedCandidates})}else{matches.call(element,candidateSelector)&&options.filter(element)&&(includeContainer||!elements.includes(element))&&candidates.push(element);var shadowRoot=element.shadowRoot||"function"==typeof options.getShadowRoot&&options.getShadowRoot(element),validShadowRoot=!isInert(shadowRoot,!1)&&(!options.shadowRootFilter||options.shadowRootFilter(element));if(shadowRoot&&validShadowRoot){var _nestedCandidates=getCandidatesIteratively(!0===shadowRoot?element.children:shadowRoot.children,!0,options);options.flatten?candidates.push.apply(candidates,_nestedCandidates):candidates.push({scopeParent:element,candidates:_nestedCandidates})}else elementsToCheck.unshift.apply(elementsToCheck,element.children)}}return candidates},hasTabIndex=function hasTabIndex(node){return!isNaN(parseInt(node.getAttribute("tabindex"),10))},getTabIndex=function getTabIndex(node){if(!node)throw new Error("No node provided");return node.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName)||function isContentEditable(node){var _node$getAttribute2,attValue=null==node||null===(_node$getAttribute2=node.getAttribute)||void 0===_node$getAttribute2?void 0:_node$getAttribute2.call(node,"contenteditable");return""===attValue||"true"===attValue}(node))&&!hasTabIndex(node)?0:node.tabIndex},sortOrderedTabbables=function sortOrderedTabbables(a,b){return a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex},isInput=function isInput(node){return"INPUT"===node.tagName},isNonTabbableRadio=function isNonTabbableRadio(node){return function isRadio(node){return isInput(node)&&"radio"===node.type}(node)&&!function isTabbableRadio(node){if(!node.name)return!0;var radioSet,radioScope=node.form||getRootNode(node),queryRadios=function queryRadios(name){return radioScope.querySelectorAll('input[type="radio"][name="'+name+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)radioSet=queryRadios(window.CSS.escape(node.name));else try{radioSet=queryRadios(node.name)}catch(err){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",err.message),!1}var checked=function getCheckedRadio(nodes,form){for(var i=0;i<nodes.length;i++)if(nodes[i].checked&&nodes[i].form===form)return nodes[i]}(radioSet,node.form);return!checked||checked===node}(node)},isZeroArea=function isZeroArea(node){var _node$getBoundingClie=node.getBoundingClientRect(),width=_node$getBoundingClie.width,height=_node$getBoundingClie.height;return 0===width&&0===height},isHidden=function isHidden(node,_ref){var displayCheck=_ref.displayCheck,getShadowRoot=_ref.getShadowRoot;if("hidden"===getComputedStyle(node).visibility)return!0;var nodeUnderDetails=matches.call(node,"details>summary:first-of-type")?node.parentElement:node;if(matches.call(nodeUnderDetails,"details:not([open]) *"))return!0;if(displayCheck&&"full"!==displayCheck&&"legacy-full"!==displayCheck){if("non-zero-area"===displayCheck)return isZeroArea(node)}else{if("function"==typeof getShadowRoot){for(var originalNode=node;node;){var parentElement=node.parentElement,rootNode=getRootNode(node);if(parentElement&&!parentElement.shadowRoot&&!0===getShadowRoot(parentElement))return isZeroArea(node);node=node.assignedSlot?node.assignedSlot:parentElement||rootNode===node.ownerDocument?parentElement:rootNode.host}node=originalNode}if(function isNodeAttached(node){var _nodeRoot,_nodeRootHost,_nodeRootHost$ownerDo,_node$ownerDocument,nodeRoot=node&&getRootNode(node),nodeRootHost=null===(_nodeRoot=nodeRoot)||void 0===_nodeRoot?void 0:_nodeRoot.host,attached=!1;if(nodeRoot&&nodeRoot!==node)for(attached=!!(null!==(_nodeRootHost=nodeRootHost)&&void 0!==_nodeRootHost&&null!==(_nodeRootHost$ownerDo=_nodeRootHost.ownerDocument)&&void 0!==_nodeRootHost$ownerDo&&_nodeRootHost$ownerDo.contains(nodeRootHost)||null!=node&&null!==(_node$ownerDocument=node.ownerDocument)&&void 0!==_node$ownerDocument&&_node$ownerDocument.contains(node));!attached&&nodeRootHost;){var _nodeRoot2,_nodeRootHost2,_nodeRootHost2$ownerD;attached=!(null===(_nodeRootHost2=nodeRootHost=null===(_nodeRoot2=nodeRoot=getRootNode(nodeRootHost))||void 0===_nodeRoot2?void 0:_nodeRoot2.host)||void 0===_nodeRootHost2||null===(_nodeRootHost2$ownerD=_nodeRootHost2.ownerDocument)||void 0===_nodeRootHost2$ownerD||!_nodeRootHost2$ownerD.contains(nodeRootHost))}return attached}(node))return!node.getClientRects().length;if("legacy-full"!==displayCheck)return!0}return!1},isNodeMatchingSelectorFocusable=function isNodeMatchingSelectorFocusable(options,node){return!(node.disabled||isInert(node)||function isHiddenInput(node){return isInput(node)&&"hidden"===node.type}(node)||isHidden(node,options)||function isDetailsWithSummary(node){return"DETAILS"===node.tagName&&Array.prototype.slice.apply(node.children).some((function(child){return"SUMMARY"===child.tagName}))}(node)||function isDisabledFromFieldset(node){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName))for(var parentNode=node.parentElement;parentNode;){if("FIELDSET"===parentNode.tagName&&parentNode.disabled){for(var i=0;i<parentNode.children.length;i++){var child=parentNode.children.item(i);if("LEGEND"===child.tagName)return!!matches.call(parentNode,"fieldset[disabled] *")||!child.contains(node)}return!0}parentNode=parentNode.parentElement}return!1}(node))},isNodeMatchingSelectorTabbable=function isNodeMatchingSelectorTabbable(options,node){return!(isNonTabbableRadio(node)||getTabIndex(node)<0||!isNodeMatchingSelectorFocusable(options,node))},isValidShadowRootTabbable=function isValidShadowRootTabbable(shadowHostNode){var tabIndex=parseInt(shadowHostNode.getAttribute("tabindex"),10);return!!(isNaN(tabIndex)||tabIndex>=0)},sortByOrder=function sortByOrder(candidates){var regularTabbables=[],orderedTabbables=[];return candidates.forEach((function(item,i){var isScope=!!item.scopeParent,element=isScope?item.scopeParent:item,candidateTabindex=function getSortOrderTabIndex(node,isScope){var tabIndex=getTabIndex(node);return tabIndex<0&&isScope&&!hasTabIndex(node)?0:tabIndex}(element,isScope),elements=isScope?sortByOrder(item.candidates):element;0===candidateTabindex?isScope?regularTabbables.push.apply(regularTabbables,elements):regularTabbables.push(element):orderedTabbables.push({documentOrder:i,tabIndex:candidateTabindex,item,isScope,content:elements})})),orderedTabbables.sort(sortOrderedTabbables).reduce((function(acc,sortable){return sortable.isScope?acc.push.apply(acc,sortable.content):acc.push(sortable.content),acc}),[]).concat(regularTabbables)},isTabbable=function isTabbable(node,options){if(options=options||{},!node)throw new Error("No node provided");return!1!==matches.call(node,candidateSelector)&&isNodeMatchingSelectorTabbable(options,node)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function isFocusable(node,options){if(options=options||{},!node)throw new Error("No node provided");return!1!==matches.call(node,focusableCandidateSelector)&&isNodeMatchingSelectorFocusable(options,node)};function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var activeFocusTraps_activateTrap=function activateTrap(trapStack,trap){if(trapStack.length>0){var activeTrap=trapStack[trapStack.length-1];activeTrap!==trap&&activeTrap._setPausedState(!0)}var trapIndex=trapStack.indexOf(trap);-1===trapIndex||trapStack.splice(trapIndex,1),trapStack.push(trap)},activeFocusTraps_deactivateTrap=function deactivateTrap(trapStack,trap){var trapIndex=trapStack.indexOf(trap);-1!==trapIndex&&trapStack.splice(trapIndex,1),trapStack.length>0&&!trapStack[trapStack.length-1]._isManuallyPaused()&&trapStack[trapStack.length-1]._setPausedState(!1)},isTabEvent=function isTabEvent(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},isKeyForward=function isKeyForward(e){return isTabEvent(e)&&!e.shiftKey},isKeyBackward=function isKeyBackward(e){return isTabEvent(e)&&e.shiftKey},delay=function delay(fn){return setTimeout(fn,0)},valueOrHandler=function valueOrHandler(value){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return"function"==typeof value?value.apply(void 0,params):value},getActualTarget=function getActualTarget(event){return event.target.shadowRoot&&"function"==typeof event.composedPath?event.composedPath()[0]:event.target},internalTrapStack=[],createFocusTrap=function createFocusTrap(elements,userOptions){var trap,doc=(null==userOptions?void 0:userOptions.document)||document,trapStack=(null==userOptions?void 0:userOptions.trapStack)||internalTrapStack,config=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward,isKeyBackward},userOptions),state={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},getOption=function getOption(configOverrideOptions,optionName,configOptionName){return configOverrideOptions&&void 0!==configOverrideOptions[optionName]?configOverrideOptions[optionName]:config[configOptionName||optionName]},findContainerIndex=function findContainerIndex(element,event){var composedPath="function"==typeof(null==event?void 0:event.composedPath)?event.composedPath():void 0;return state.containerGroups.findIndex((function(_ref){var container=_ref.container,tabbableNodes=_ref.tabbableNodes;return container.contains(element)||(null==composedPath?void 0:composedPath.includes(container))||tabbableNodes.find((function(node){return node===element}))}))},getNodeForOption=function getNodeForOption(optionName){var _ref2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref2$hasFallback=_ref2.hasFallback,hasFallback=void 0!==_ref2$hasFallback&&_ref2$hasFallback,_ref2$params=_ref2.params,params=void 0===_ref2$params?[]:_ref2$params,optionValue=config[optionName];if("function"==typeof optionValue&&(optionValue=optionValue.apply(void 0,_toConsumableArray(params))),!0===optionValue&&(optionValue=void 0),!optionValue){if(void 0===optionValue||!1===optionValue)return optionValue;throw new Error("`".concat(optionName,"` was specified but was not a node, or did not return a node"))}var node=optionValue;if("string"==typeof optionValue){try{node=doc.querySelector(optionValue)}catch(err){throw new Error("`".concat(optionName,'` appears to be an invalid selector; error="').concat(err.message,'"'))}if(!node&&!hasFallback)throw new Error("`".concat(optionName,"` as selector refers to no known node"))}return node},getInitialFocusNode=function getInitialFocusNode(){var node=getNodeForOption("initialFocus",{hasFallback:!0});if(!1===node)return!1;if(void 0===node||node&&!isFocusable(node,config.tabbableOptions))if(findContainerIndex(doc.activeElement)>=0)node=doc.activeElement;else{var firstTabbableGroup=state.tabbableGroups[0];node=firstTabbableGroup&&firstTabbableGroup.firstTabbableNode||getNodeForOption("fallbackFocus")}else null===node&&(node=getNodeForOption("fallbackFocus"));if(!node)throw new Error("Your focus-trap needs to have at least one focusable element");return node},updateTabbableNodes=function updateTabbableNodes(){if(state.containerGroups=state.containers.map((function(container){var tabbableNodes=function tabbable(container,options){var candidates;return candidates=(options=options||{}).getShadowRoot?getCandidatesIteratively([container],options.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,options),flatten:!1,getShadowRoot:options.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):getCandidates(container,options.includeContainer,isNodeMatchingSelectorTabbable.bind(null,options)),sortByOrder(candidates)}(container,config.tabbableOptions),focusableNodes=function focusable(container,options){return(options=options||{}).getShadowRoot?getCandidatesIteratively([container],options.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,options),flatten:!0,getShadowRoot:options.getShadowRoot}):getCandidates(container,options.includeContainer,isNodeMatchingSelectorFocusable.bind(null,options))}(container,config.tabbableOptions),firstTabbableNode=tabbableNodes.length>0?tabbableNodes[0]:void 0,lastTabbableNode=tabbableNodes.length>0?tabbableNodes[tabbableNodes.length-1]:void 0,firstDomTabbableNode=focusableNodes.find((function(node){return isTabbable(node)})),lastDomTabbableNode=focusableNodes.slice().reverse().find((function(node){return isTabbable(node)})),posTabIndexesFound=!!tabbableNodes.find((function(node){return getTabIndex(node)>0}));return{container,tabbableNodes,focusableNodes,posTabIndexesFound,firstTabbableNode,lastTabbableNode,firstDomTabbableNode,lastDomTabbableNode,nextTabbableNode:function nextTabbableNode(node){var forward=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],nodeIdx=tabbableNodes.indexOf(node);return nodeIdx<0?forward?focusableNodes.slice(focusableNodes.indexOf(node)+1).find((function(el){return isTabbable(el)})):focusableNodes.slice(0,focusableNodes.indexOf(node)).reverse().find((function(el){return isTabbable(el)})):tabbableNodes[nodeIdx+(forward?1:-1)]}}})),state.tabbableGroups=state.containerGroups.filter((function(group){return group.tabbableNodes.length>0})),state.tabbableGroups.length<=0&&!getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(state.containerGroups.find((function(g){return g.posTabIndexesFound}))&&state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},_getActiveElement=function getActiveElement(el){var activeElement=el.activeElement;if(activeElement)return activeElement.shadowRoot&&null!==activeElement.shadowRoot.activeElement?_getActiveElement(activeElement.shadowRoot):activeElement},_tryFocus=function tryFocus(node){!1!==node&&node!==_getActiveElement(document)&&(node&&node.focus?(node.focus({preventScroll:!!config.preventScroll}),state.mostRecentlyFocusedNode=node,function isSelectableInput(node){return node.tagName&&"input"===node.tagName.toLowerCase()&&"function"==typeof node.select}(node)&&node.select()):_tryFocus(getInitialFocusNode()))},getReturnFocusNode=function getReturnFocusNode(previousActiveElement){var node=getNodeForOption("setReturnFocus",{params:[previousActiveElement]});return node||!1!==node&&previousActiveElement},findNextNavNode=function findNextNavNode(_ref3){var target=_ref3.target,event=_ref3.event,_ref3$isBackward=_ref3.isBackward,isBackward=void 0!==_ref3$isBackward&&_ref3$isBackward;target=target||getActualTarget(event),updateTabbableNodes();var destinationNode=null;if(state.tabbableGroups.length>0){var containerIndex=findContainerIndex(target,event),containerGroup=containerIndex>=0?state.containerGroups[containerIndex]:void 0;if(containerIndex<0)destinationNode=isBackward?state.tabbableGroups[state.tabbableGroups.length-1].lastTabbableNode:state.tabbableGroups[0].firstTabbableNode;else if(isBackward){var startOfGroupIndex=state.tabbableGroups.findIndex((function(_ref4){var firstTabbableNode=_ref4.firstTabbableNode;return target===firstTabbableNode}));if(startOfGroupIndex<0&&(containerGroup.container===target||isFocusable(target,config.tabbableOptions)&&!isTabbable(target,config.tabbableOptions)&&!containerGroup.nextTabbableNode(target,!1))&&(startOfGroupIndex=containerIndex),startOfGroupIndex>=0){var destinationGroupIndex=0===startOfGroupIndex?state.tabbableGroups.length-1:startOfGroupIndex-1,destinationGroup=state.tabbableGroups[destinationGroupIndex];destinationNode=getTabIndex(target)>=0?destinationGroup.lastTabbableNode:destinationGroup.lastDomTabbableNode}else isTabEvent(event)||(destinationNode=containerGroup.nextTabbableNode(target,!1))}else{var lastOfGroupIndex=state.tabbableGroups.findIndex((function(_ref5){var lastTabbableNode=_ref5.lastTabbableNode;return target===lastTabbableNode}));if(lastOfGroupIndex<0&&(containerGroup.container===target||isFocusable(target,config.tabbableOptions)&&!isTabbable(target,config.tabbableOptions)&&!containerGroup.nextTabbableNode(target))&&(lastOfGroupIndex=containerIndex),lastOfGroupIndex>=0){var _destinationGroupIndex=lastOfGroupIndex===state.tabbableGroups.length-1?0:lastOfGroupIndex+1,_destinationGroup=state.tabbableGroups[_destinationGroupIndex];destinationNode=getTabIndex(target)>=0?_destinationGroup.firstTabbableNode:_destinationGroup.firstDomTabbableNode}else isTabEvent(event)||(destinationNode=containerGroup.nextTabbableNode(target))}}else destinationNode=getNodeForOption("fallbackFocus");return destinationNode},checkPointerDown=function checkPointerDown(e){var target=getActualTarget(e);findContainerIndex(target,e)>=0||(valueOrHandler(config.clickOutsideDeactivates,e)?trap.deactivate({returnFocus:config.returnFocusOnDeactivate}):valueOrHandler(config.allowOutsideClick,e)||e.preventDefault())},checkFocusIn=function checkFocusIn(event){var target=getActualTarget(event),targetContained=findContainerIndex(target,event)>=0;if(targetContained||target instanceof Document)targetContained&&(state.mostRecentlyFocusedNode=target);else{var nextNode;event.stopImmediatePropagation();var navAcrossContainers=!0;if(state.mostRecentlyFocusedNode)if(getTabIndex(state.mostRecentlyFocusedNode)>0){var mruContainerIdx=findContainerIndex(state.mostRecentlyFocusedNode),tabbableNodes=state.containerGroups[mruContainerIdx].tabbableNodes;if(tabbableNodes.length>0){var mruTabIdx=tabbableNodes.findIndex((function(node){return node===state.mostRecentlyFocusedNode}));mruTabIdx>=0&&(config.isKeyForward(state.recentNavEvent)?mruTabIdx+1<tabbableNodes.length&&(nextNode=tabbableNodes[mruTabIdx+1],navAcrossContainers=!1):mruTabIdx-1>=0&&(nextNode=tabbableNodes[mruTabIdx-1],navAcrossContainers=!1))}}else state.containerGroups.some((function(g){return g.tabbableNodes.some((function(n){return getTabIndex(n)>0}))}))||(navAcrossContainers=!1);else navAcrossContainers=!1;navAcrossContainers&&(nextNode=findNextNavNode({target:state.mostRecentlyFocusedNode,isBackward:config.isKeyBackward(state.recentNavEvent)})),_tryFocus(nextNode||(state.mostRecentlyFocusedNode||getInitialFocusNode()))}state.recentNavEvent=void 0},checkTabKey=function checkTabKey(event){(config.isKeyForward(event)||config.isKeyBackward(event))&&function checkKeyNav(event){var isBackward=arguments.length>1&&void 0!==arguments[1]&&arguments[1];state.recentNavEvent=event;var destinationNode=findNextNavNode({event,isBackward});destinationNode&&(isTabEvent(event)&&event.preventDefault(),_tryFocus(destinationNode))}(event,config.isKeyBackward(event))},checkEscapeKey=function checkEscapeKey(event){(function isEscapeEvent(e){return"Escape"===(null==e?void 0:e.key)||"Esc"===(null==e?void 0:e.key)||27===(null==e?void 0:e.keyCode)})(event)&&!1!==valueOrHandler(config.escapeDeactivates,event)&&(event.preventDefault(),trap.deactivate())},checkClick=function checkClick(e){var target=getActualTarget(e);findContainerIndex(target,e)>=0||valueOrHandler(config.clickOutsideDeactivates,e)||valueOrHandler(config.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},addListeners=function addListeners(){if(state.active)return activeFocusTraps_activateTrap(trapStack,trap),state.delayInitialFocusTimer=config.delayInitialFocus?delay((function(){_tryFocus(getInitialFocusNode())})):_tryFocus(getInitialFocusNode()),doc.addEventListener("focusin",checkFocusIn,!0),doc.addEventListener("mousedown",checkPointerDown,{capture:!0,passive:!1}),doc.addEventListener("touchstart",checkPointerDown,{capture:!0,passive:!1}),doc.addEventListener("click",checkClick,{capture:!0,passive:!1}),doc.addEventListener("keydown",checkTabKey,{capture:!0,passive:!1}),doc.addEventListener("keydown",checkEscapeKey),trap},removeListeners=function removeListeners(){if(state.active)return doc.removeEventListener("focusin",checkFocusIn,!0),doc.removeEventListener("mousedown",checkPointerDown,!0),doc.removeEventListener("touchstart",checkPointerDown,!0),doc.removeEventListener("click",checkClick,!0),doc.removeEventListener("keydown",checkTabKey,!0),doc.removeEventListener("keydown",checkEscapeKey),trap},mutationObserver="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function checkDomRemoval(mutations){mutations.some((function(mutation){return Array.from(mutation.removedNodes).some((function(node){return node===state.mostRecentlyFocusedNode}))}))&&_tryFocus(getInitialFocusNode())})):void 0,updateObservedNodes=function updateObservedNodes(){mutationObserver&&(mutationObserver.disconnect(),state.active&&!state.paused&&state.containers.map((function(container){mutationObserver.observe(container,{subtree:!0,childList:!0})})))};return trap={get active(){return state.active},get paused(){return state.paused},activate:function activate(activateOptions){if(state.active)return this;var onActivate=getOption(activateOptions,"onActivate"),onPostActivate=getOption(activateOptions,"onPostActivate"),checkCanFocusTrap=getOption(activateOptions,"checkCanFocusTrap");checkCanFocusTrap||updateTabbableNodes(),state.active=!0,state.paused=!1,state.nodeFocusedBeforeActivation=doc.activeElement,null==onActivate||onActivate();var finishActivation=function finishActivation(){checkCanFocusTrap&&updateTabbableNodes(),addListeners(),updateObservedNodes(),null==onPostActivate||onPostActivate()};return checkCanFocusTrap?(checkCanFocusTrap(state.containers.concat()).then(finishActivation,finishActivation),this):(finishActivation(),this)},deactivate:function deactivate(deactivateOptions){if(!state.active)return this;var options=_objectSpread2({onDeactivate:config.onDeactivate,onPostDeactivate:config.onPostDeactivate,checkCanReturnFocus:config.checkCanReturnFocus},deactivateOptions);clearTimeout(state.delayInitialFocusTimer),state.delayInitialFocusTimer=void 0,removeListeners(),state.active=!1,state.paused=!1,updateObservedNodes(),activeFocusTraps_deactivateTrap(trapStack,trap);var onDeactivate=getOption(options,"onDeactivate"),onPostDeactivate=getOption(options,"onPostDeactivate"),checkCanReturnFocus=getOption(options,"checkCanReturnFocus"),returnFocus=getOption(options,"returnFocus","returnFocusOnDeactivate");null==onDeactivate||onDeactivate();var finishDeactivation=function finishDeactivation(){delay((function(){returnFocus&&_tryFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)),null==onPostDeactivate||onPostDeactivate()}))};return returnFocus&&checkCanReturnFocus?(checkCanReturnFocus(getReturnFocusNode(state.nodeFocusedBeforeActivation)).then(finishDeactivation,finishDeactivation),this):(finishDeactivation(),this)},pause:function pause(pauseOptions){return state.active?(state.manuallyPaused=!0,this._setPausedState(!0,pauseOptions)):this},unpause:function unpause(unpauseOptions){return state.active?(state.manuallyPaused=!1,trapStack[trapStack.length-1]!==this?this:this._setPausedState(!1,unpauseOptions)):this},updateContainerElements:function updateContainerElements(containerElements){var elementsAsArray=[].concat(containerElements).filter(Boolean);return state.containers=elementsAsArray.map((function(element){return"string"==typeof element?doc.querySelector(element):element})),state.active&&updateTabbableNodes(),updateObservedNodes(),this}},Object.defineProperties(trap,{_isManuallyPaused:{value:function value(){return state.manuallyPaused}},_setPausedState:{value:function value(paused,options){if(state.paused===paused)return this;if(state.paused=paused,paused){var onPause=getOption(options,"onPause"),onPostPause=getOption(options,"onPostPause");null==onPause||onPause(),removeListeners(),updateObservedNodes(),null==onPostPause||onPostPause()}else{var onUnpause=getOption(options,"onUnpause"),onPostUnpause=getOption(options,"onPostUnpause");null==onUnpause||onUnpause(),updateTabbableNodes(),addListeners(),updateObservedNodes(),null==onPostUnpause||onPostUnpause()}return this}}}),trap.updateContainerElements(elements),trap},dom=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/dom.js"),runtime=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/runtime.js");function f(t,{focusTrapOptions:e},s){return e?.extraContainers||s?[t,...n(e?.extraContainers),...n(s)]:t}function n(t=[]){return Array.isArray(t)?t:[t]}const k=t=>(0,dist.aK)(((e,s)=>{let r,u,c;const d=t.focusTrapOptions;s.onConnected((()=>{e[t.triggerProp]&&r&&i.activate()})),s.onUpdate((a=>{e.hasUpdated&&a.has("focusTrapDisabled")&&(e.focusTrapDisabled?i.deactivate():i.activate())})),s.onDisconnected((()=>i.deactivate()));const i={activate:()=>{const a=u||e.el;if(a.isConnected){if(!r){const o={...d,...e.focusTrapOptions};c||=f(a,e),r=createFocusTrap(c,function C(t,e){return{clickOutsideDeactivates:!0,fallbackFocus:e?.fallbackFocus||t,setReturnFocus:r=>((0,dom.b)(r),!1),...e,document:t.ownerDocument,tabbableOptions:dom.p,trapStack:runtime.f}}(a,o))}("function"==typeof e.focusTrapDisabledOverride?!e.focusTrapDisabledOverride():!e.focusTrapDisabled)&&r.activate()}},deactivate:()=>r?.deactivate(),overrideFocusTrapEl:a=>{if(r)throw new Error("Focus trap already created");u=a},setExtraContainers:a=>{const o=u||e.el;c=f(o,e,a)},updateContainerElements:()=>r?.updateContainerElements(c)};return i}))},"./node_modules/@esri/calcite-components/dist/components/calcite-action-menu/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{__webpack_require__("./node_modules/@esri/calcite-components/dist/components/calcite-action/index.js"),__webpack_require__("./node_modules/@esri/calcite-components/dist/components/calcite-icon/index.js");var runtime=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/runtime.js"),keyed=__webpack_require__("./node_modules/lit-html/directives/keyed.js"),lit=__webpack_require__("./node_modules/lit/index.js"),ref=__webpack_require__("./node_modules/lit-html/directives/ref.js"),dist=__webpack_require__("./node_modules/@arcgis/lumina/dist/index.js"),floating_ui=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/floating-ui.js"),dom=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/dom.js"),guid=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/guid.js"),openCloseComponent=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/openCloseComponent.js"),Heading=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/Heading.js"),component=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/component.js"),observers=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/observers.js"),FloatingArrow=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/FloatingArrow.js"),useT9n=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/useT9n.js"),useFocusTrap=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/useFocusTrap.js"),key=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/key.js"),css_tag=__webpack_require__("./node_modules/@lit/reactive-element/css-tag.js");const o_positionContainer="position-container",o_container="container",o_closeButtonContainer="close-button-container",o_closeButton="close-button",o_content="content",o_hasHeader="has-header",o_header="header",o_headerContainer="headerContainer",o_heading="heading",v="auto",b="aria-controls",E="aria-expanded",G=css_tag.AH`:host{display:contents;--calcite-floating-ui-z-index: var(--calcite-popover-z-index, var(--calcite-z-index-popup))}.position-container{inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}.position-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset,left,opacity;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.position-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.position-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.position-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.position-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding:.5rem .75rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding:.75rem 1rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding:1rem 1.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}.position-container .calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.headerContainer{position:relative;display:flex;height:100%;flex-direction:row;flex-wrap:nowrap;border-radius:.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.headerContainer.has-header{flex-direction:column}.content{display:flex;height:100%;width:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}:host([hidden]){display:none}[hidden]{display:none}`,w=new class X{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{const{registeredElements:t}=this,i=e.find((r=>t.has(r)));return t.get(i)},this.togglePopovers=e=>{const t=e.composedPath(),i=this.queryPopover(t);i&&!i.triggerDisabled&&(i.open=!i.open),Array.from(this.registeredElements.values()).filter((r=>r!==i&&r.autoClose&&r.open&&!t.includes(r))).forEach((r=>r.open=!1))},this.keyDownHandler=e=>{e.defaultPrevented||("Escape"===e.key?this.closeAllPopovers():(0,key.i)(e.key)&&this.togglePopovers(e))},this.clickHandler=e=>{(0,dom.u)(e)||e.defaultPrevented||this.togglePopovers(e)}}registerElement(e,t){this.registeredElementCount++,this.registeredElements.set(e,t),1===this.registeredElementCount&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,0===this.registeredElementCount&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach((e=>e.open=!1))}addListeners(){window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}};class J extends dist.WF{constructor(){super(...arguments),this.closeButtonEl=(0,ref._)(),this.focusTrap=(0,useFocusTrap.u)({triggerProp:"open",focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:e=>(e.defaultPrevented||(this.open=!1,e.preventDefault()),!1)}})(this),this.guid=`calcite-popover-${(0,guid.g)()}`,this.hasLoaded=!1,this.mutationObserver=(0,observers.c)("mutation",(()=>this.focusTrap.updateContainerElements())),this.transitionProp="opacity",this.floatingLayout="vertical",this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.messages=(0,useT9n.u)(),this.offsetDistance=floating_ui.d,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=v,this.pointerDisabled=!1,this.scale="m",this.triggerDisabled=!1,this.calcitePopoverBeforeClose=(0,dist.lh)({cancelable:!1}),this.calcitePopoverBeforeOpen=(0,dist.lh)({cancelable:!1}),this.calcitePopoverClose=(0,dist.lh)({cancelable:!1}),this.calcitePopoverOpen=(0,dist.lh)({cancelable:!1})}static{this.properties={floatingLayout:16,referenceEl:16,autoClose:7,closable:7,flipDisabled:7,flipPlacements:0,focusTrapDisabled:7,focusTrapOptions:0,heading:1,headingLevel:11,label:1,messageOverrides:0,offsetDistance:11,offsetSkidding:11,open:7,overlayPositioning:3,placement:3,pointerDisabled:7,referenceElement:1,scale:3,triggerDisabled:7}}static{this.styles=G}async reposition(e=!1){const{referenceEl:t,placement:i,overlayPositioning:r,flipDisabled:l,filteredFlipPlacements:c,offsetDistance:a,offsetSkidding:d,arrowEl:p,floatingEl:x}=this;return(0,floating_ui.r)(this,{floatingEl:x,referenceEl:t,overlayPositioning:r,placement:i,flipDisabled:l,flipPlacements:c,offsetDistance:a,offsetSkidding:d,arrowEl:p,type:"popover"},e)}async setFocus(){await(0,component.c)(this),this.requestUpdate(),(0,dom.h)(this.el)}async updateFocusTrapElements(){this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),requestAnimationFrame((()=>this.setUpReferenceElement(this.hasLoaded)))}willUpdate(e){e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("open")&&(this.hasUpdated||!1!==this.open)&&this.openHandler(),(e.has("offsetDistance")&&(this.hasUpdated||this.offsetDistance!==floating_ui.d)||e.has("offsetSkidding")&&(this.hasUpdated||0!==this.offsetSkidding)||e.has("overlayPositioning")&&(this.hasUpdated||"absolute"!==this.overlayPositioning)||e.has("placement")&&(this.hasUpdated||this.placement!==v))&&this.reposition(!0),e.has("referenceElement")&&this.referenceElementHandler()}loaded(){this.referenceElement&&!this.referenceEl&&this.setUpReferenceElement(),this.hasLoaded=!0}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.removeReferences(),(0,floating_ui.a)(this)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}openHandler(){(0,openCloseComponent.o)(this),this.reposition(!0),this.setExpandedAttr()}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}setFloatingEl(e){this.floatingEl=e,e&&requestAnimationFrame((()=>this.setUpReferenceElement()))}setTransitionEl(e){e&&(this.transitionEl=e)}setFilteredPlacements(){const{el:e,flipPlacements:t}=this;this.filteredFlipPlacements=t?(0,floating_ui.f)(t,e):null}setUpReferenceElement(e=!0){this.removeReferences(),this.referenceEl=this.getReferenceElement(),(0,floating_ui.c)(this);const{el:t,referenceElement:i,referenceEl:r}=this;e&&i&&!r&&console.warn(`${t.tagName}: reference-element id "${i}" was not found.`,{el:t}),this.addReferences()}getId(){return this.el.id||this.guid}setExpandedAttr(){const{referenceEl:e,open:t}=this;e&&"setAttribute"in e&&e.setAttribute(E,(0,dom.t)(t))}addReferences(){const{referenceEl:e}=this;if(!e)return;const t=this.getId();"setAttribute"in e&&e.setAttribute(b,t),w.registerElement(e,this.el),this.setExpandedAttr()}removeReferences(){const{referenceEl:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(b),e.removeAttribute(E)),w.unregisterElement(e))}getReferenceElement(){const{referenceElement:e,el:t}=this;return("string"==typeof e?(0,dom.q)(t,{id:e}):e)||null}hide(){this.open=!1}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),this.focusTrap.activate()}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),(0,floating_ui.h)(this),this.focusTrap.deactivate()}storeArrowEl(e){this.arrowEl=e,this.reposition(!0)}renderCloseButton(){const{messages:e,closable:t}=this;return t?(0,keyed.D)(o_closeButtonContainer,lit.qy`<div class=${(0,dist.CP)(o_closeButtonContainer)}><calcite-action appearance=transparent class=${(0,dist.CP)(o_closeButton)} @click=${this.hide} .scale=${this.scale} .text=${e.close} ${(0,ref.K)(this.closeButtonEl)}><calcite-icon icon=x .scale=${(0,component.g)(this.scale)}></calcite-icon></calcite-action></div>`):null}renderHeader(){const{heading:e,headingLevel:t}=this,i=e?(0,Heading.H)({class:o_heading,level:t,children:e}):null;return i?(0,keyed.D)(o_header,lit.qy`<div class=${(0,dist.CP)(o_header)}>${i}${this.renderCloseButton()}</div>`):null}render(){const{referenceEl:e,heading:t,label:i,open:r,pointerDisabled:l,floatingLayout:c}=this,a=e&&r,d=!a,p=l?null:(0,keyed.D)("floating-arrow",(0,FloatingArrow.F)({floatingLayout:c,ref:this.storeArrowEl}));return this.el.inert=d,this.el.ariaLabel=i,this.el.ariaLive="polite",(0,dist.Bq)(this.el,"id",this.getId()),this.el.role="dialog",lit.qy`<div class=${(0,dist.CP)(o_positionContainer)} ${(0,ref.K)(this.setFloatingEl)}><div class=${(0,dist.CP)({[o_container]:!0,[floating_ui.F.animation]:!0,[floating_ui.F.animationActive]:a})} ${(0,ref.K)(this.setTransitionEl)}>${p}<div class=${(0,dist.CP)({[o_hasHeader]:!!t,[o_headerContainer]:!0})}>${this.renderHeader()}<div class=${(0,dist.CP)(o_content)}><slot></slot></div>${t?null:this.renderCloseButton()}</div></div></div>`}}function array_o(e,n){return(e+n)%n}(0,runtime.c)("calcite-popover",J);var resources2=__webpack_require__("./node_modules/@esri/calcite-components/dist/chunks/resources2.js");const C=css_tag.AH`:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`,y=["ArrowUp","ArrowDown","End","Home"];class P extends dist.WF{constructor(){super(...arguments),this.guid=`calcite-action-menu-${(0,guid.g)()}`,this.actionElements=[],this.menuButtonClick=()=>{this.toggleOpen()},this.menuButtonId=`${this.guid}-menu-button`,this.menuButtonKeyDown=t=>{const{key:e}=t,{actionElements:n,activeMenuItemIndex:o,open:i}=this;if(n.length){if((0,key.i)(e)){if(t.preventDefault(),!i)return void this.toggleOpen();const s=n[o];s?s.click():this.toggleOpen(!1)}if("Tab"===e)return void(this.open=!1);if("Escape"===e)return this.toggleOpen(!1),void t.preventDefault();this.handleActionNavigation(t,e,n)}},this.menuId=`${this.guid}-menu`,this._open=!1,this.updateAction=(t,e)=>{const{guid:n,activeMenuItemIndex:o}=this,i=`${n}-action-${e}`;t.tabIndex=-1,t.setAttribute("role","menuitem"),t.id||(t.id=i),t.toggleAttribute(resources2.a,e===o)},this.activeMenuItemIndex=-1,this.appearance="solid",this.expanded=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale="m",this.calciteActionMenuOpen=(0,dist.lh)({cancelable:!1})}static{this.properties={activeMenuItemIndex:16,menuButtonEl:16,appearance:3,expanded:7,flipPlacements:0,label:1,open:7,overlayPositioning:3,placement:3,scale:3}}static{this.styles=C}get open(){return this._open}set open(t){t!==this._open&&(this._open=t,this.openHandler(t))}async setFocus(){return await(0,component.c)(this),(0,dom.b)(this.menuButtonEl)}connectedCallback(){super.connectedCallback(),this.connectMenuButtonEl()}willUpdate(t){t.has("expanded")&&(this.hasUpdated||!1!==this.expanded)&&this.expandedHandler(),t.has("activeMenuItemIndex")&&(this.hasUpdated||-1!==this.activeMenuItemIndex)&&this.updateActions(this.actionElements)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(t){this.menuButtonEl&&(this.menuButtonEl.active=t),this.popoverEl&&(this.popoverEl.open=t),this.activeMenuItemIndex=this.open?0:-1,this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}connectMenuButtonEl(){const{menuButtonId:t,menuId:e,open:n,label:o}=this,i=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==i&&(this.disconnectMenuButtonEl(),this.menuButtonEl=i,this.setTooltipReferenceElement(),i&&(i.active=n,i.setAttribute("aria-controls",e),i.setAttribute("aria-expanded",(0,dom.t)(n)),i.setAttribute("aria-haspopup","true"),i.id||(i.id=t),i.label||(i.label=o),i.text||(i.text=o),i.addEventListener("click",this.menuButtonClick),i.addEventListener("keydown",this.menuButtonKeyDown)))}disconnectMenuButtonEl(){const{menuButtonEl:t}=this;t&&(t.removeEventListener("click",this.menuButtonClick),t.removeEventListener("keydown",this.menuButtonKeyDown),this.menuButtonEl=null)}setMenuButtonEl(t){const e=t.target.assignedElements({flatten:!0}).filter((n=>n?.matches("calcite-action")));this.slottedMenuButtonEl=e[0],this.connectMenuButtonEl()}setDefaultMenuButtonEl(t){this.defaultMenuButtonEl=t,t&&this.connectMenuButtonEl()}setPopoverEl(t){t&&(this.popoverEl=t,t.open=this.open)}handleCalciteActionClick(){this.open=!1,this.setFocus()}updateTooltip(t){const e=t.target.assignedElements({flatten:!0}).filter((n=>n?.matches("calcite-tooltip")));this.tooltipEl=e[0],this.setTooltipReferenceElement()}setTooltipReferenceElement(){const{tooltipEl:t,expanded:e,menuButtonEl:n,open:o}=this;t&&(t.referenceElement=e||o?null:n)}updateActions(t){t?.forEach(this.updateAction)}handleDefaultSlotChange(t){const e=t.target.assignedElements({flatten:!0}).reduce(((n,o)=>o?.matches("calcite-action")?(n.push(o),n):o?.matches("calcite-action-group")?n.concat(Array.from(o.querySelectorAll("calcite-action"))):n),[]);this.actionElements=e.filter((n=>!n.disabled&&!n.hidden))}isValidKey(t,e){return!!e.find((n=>n===t))}handleActionNavigation(t,e,n){if(!this.isValidKey(e,y))return;if(t.preventDefault(),!this.open)return this.toggleOpen(),("Home"===e||"ArrowDown"===e)&&(this.activeMenuItemIndex=0),void(("End"===e||"ArrowUp"===e)&&(this.activeMenuItemIndex=n.length-1));"Home"===e&&(this.activeMenuItemIndex=0),"End"===e&&(this.activeMenuItemIndex=n.length-1);const o=this.activeMenuItemIndex;"ArrowUp"===e&&(this.activeMenuItemIndex=array_o(Math.max(o-1,-1),n.length)),"ArrowDown"===e&&(this.activeMenuItemIndex=array_o(o+1,n.length))}toggleOpen(t=!this.open){this.open=t}handlePopoverOpen(){this.open=!0,this.setFocus()}handlePopoverClose(){this.open=!1}renderMenuButton(){const{appearance:t,label:e,scale:n,expanded:o}=this;return lit.qy`<slot name=${resources2.S.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${t} class=${(0,dist.CP)(resources2.C.defaultTrigger)} .icon=${resources2.I.menu} .scale=${n} .text=${e} .textEnabled=${o} ${(0,ref.K)(this.setDefaultMenuButtonEl)}></calcite-action></slot>`}renderMenuItems(){const{actionElements:t,activeMenuItemIndex:e,menuId:n,menuButtonEl:o,label:i,placement:s,overlayPositioning:p,flipPlacements:m}=this,f=t[e]?.id||null;return lit.qy`<calcite-popover auto-close .flipPlacements=${m} focus-trap-disabled .label=${i} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${p} .placement=${s} pointer-disabled .referenceElement=${o} trigger-disabled ${(0,ref.K)(this.setPopoverEl)}><div aria-activedescendant=${f??lit.s6} aria-labelledby=${o?.id??lit.s6} class=${(0,dist.CP)(resources2.C.menu)} id=${n??lit.s6} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`}render(){return lit.qy`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${resources2.S.tooltip} @slotchange=${this.updateTooltip}></slot>`}}(0,runtime.c)("calcite-action-menu",P)},"./node_modules/lit-html/static.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Bk:()=>s,eu:()=>i,qy:()=>u});var _lit_html_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/lit-html/lit-html.js");const a=Symbol.for(""),o=t=>{if(t?.r===a)return t?._$litStatic$},s=t=>({_$litStatic$:t,r:a}),i=(t,...r)=>({_$litStatic$:r.reduce(((r,e,a)=>r+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(e)+t[a+1]),t[0]),r:a}),l=new Map,n=t=>(r,...e)=>{const a=e.length;let s,i;const n=[],u=[];let c,$=0,f=!1;for(;$<a;){for(c=r[$];$<a&&void 0!==(i=e[$],s=o(i));)c+=s+r[++$],f=!0;$!==a&&u.push(i),n.push(c),$++}if($===a&&n.push(r[a]),f){const t=n.join("$$lit$$");void 0===(r=l.get(t))&&(n.raw=n,l.set(t,r=n)),e=u}return t(r,...e)},u=n(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.qy);n(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.JW),n(_lit_html_js__WEBPACK_IMPORTED_MODULE_0__.ej)}}]);