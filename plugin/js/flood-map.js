!function(){var e,t,r={42325:function(e,t,r){"use strict";r.d(t,{Pt:function(){return s},SD:function(){return i},ar:function(){return n},hL:function(){return o},z_:function(){return a}});const n=()=>{var e;const t=null===(e=document.querySelector("[data-fm-page]"))||void 0===e?void 0:e.getAttribute("data-fm-page");document.documentElement.classList.toggle("fm-page",!!t);const r=document.title.split(" - "),n=r[r.length-1];document.title=t?`${t} - ${n}`:n},o=()=>{var e;let t=document.activeElement;const r=!!document.querySelector("[data-fm-page]"),n=document.querySelector("[data-fm-page]")||(null===(e=t)||void 0===e?void 0:e.closest("[data-fm-container]")),o=null==n?void 0:n.querySelector('[aria-modal="true"][open]'),a=null==o?void 0:o.contains(t),i=null==n?void 0:n.contains(t);t=(r||i)&&a?o:r?n:null;const s=document.querySelectorAll("[data-fm-inert]");for(let e=0;e<s.length;e++){const t=s[e];t.removeAttribute("aria-hidden"),t.removeAttribute("data-fm-inert")}if(t)for(;t.parentNode&&t!==document.body;){let e=t.parentNode.firstChild;for(;e;)1===e.nodeType&&e!==t&&(e.hasAttribute("aria-hidden")||(e.setAttribute("aria-hidden",!0),e.setAttribute("data-fm-inert",""))),e=e.nextSibling;t=t.parentNode}},a=()=>{var e;let t=document.activeElement;const r=!!document.querySelector("[data-fm-page]"),n=document.querySelector("[data-fm-page]")||(null===(e=t)||void 0===e?void 0:e.closest("[data-fm-container]")),o=null==n?void 0:n.querySelector('[aria-modal="true"][open]'),a=null==o?void 0:o.contains(t),i=null==n?void 0:n.contains(t);t=(r||i)&&o&&!a?o:r&&!i?n.querySelector("[data-fm-viewport]"):null,t&&t.focus()},i=e=>{if("Tab"!==e.key)return;const t=document.activeElement.closest('[aria-modal="true"][open], [data-fm-page]');if(!t)return;let r=Array.from(t.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(",")));r=r.filter((e=>!!e.offsetParent));const n=r[0],o=r[r.length-1];e.shiftKey?document.activeElement!==t&&document.activeElement!==n||(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault())},s=(e,t)=>{const r=document.querySelectorAll("input, button, select, textarea, a[href]"),n=Array.prototype.filter.call(r,(e=>e.tabIndex>="0")),o=n.indexOf(e);return n["next"===t?o+1:o-1]||n[0]}},87899:function(e,t){"use strict";const r={on(e,t,r){e.addEventListener(t,(e=>r(e.detail)))},dispatch(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:r}))},remove(e,t,r){e.removeEventListener(t,r)}};t.A=r},35384:function(e,t,r){"use strict";r.d(t,{Ft:function(){return o},oz:function(){return n},qn:function(){return a},ww:function(){return i}});const n=e=>{try{return JSON.parse(e)}catch(t){return e}},o=(e,t)=>JSON.stringify(e)===JSON.stringify(t),a=e=>new URLSearchParams(window.location.search).get(e),i=e=>new URLSearchParams(window.location.search).has(e)},42566:function(e,t,r){"use strict";r.d(t,{AZ:function(){return n},FB:function(){return i},NT:function(){return o},W0:function(){return a}});const n={READY:"ready",CHANGE:"change",QUERY:"query",APP_READY:"appready",APP_CHANGE:"appchange",APP_QUERY:"appquery",SET_SEARCH:"setsearch",SET_INFO:"setinfo",SET_DRAW:"setdraw",SET_SELECTED:"setselected",SET_IS_KEYBOARD:"setiskeyboard",MAP_QUERY:"mapquery",MAP_CLICK:"mapclick",MAP_LOAD:"load",MAP_STYLE:"style"},o={CONTAINER_TYPE:"buttonFirst",PANEL_POSITION:"overlayRight"},a={breakpoints:{MAX_MOBILE:"640px",MIN_DESKTOP:"835px"},container:{buttonFirst:{CLASS:"fm-button-first"},hybrid:{CLASS:"fm-hybrid",HEIGHT:"600px"},inline:{CLASS:"fm-inline",HEIGHT:"400px"}},map:{BBOX:[-5.719993,49.955638,1.794689,55.825973],MAX_BBOX:[-5.719993,49.955638,1.794689,55.825973],CENTRE:[-1.4758,52.9219],ZOOM:12,MIN_ZOOM:6,MAX_ZOOM:16},params:{view:"view",centreZoom:"cz",segments:"seg",layers:"lyr",featureId:"id",targetMarker:"qxy"}},i={drag:2,pan:{ARROWLEFT:[-100,0],ARROWRIGHT:[100,0],ARROWUP:[0,-100],ARROWDOWN:[0,100]},shiftPan:{ARROWLEFT:[-5,0],ARROWRIGHT:[5,0],ARROWUP:[0,-5],ARROWDOWN:[0,5]}}},26121:function(e,t,r){const n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,o=function(){try{new n.Event("")}catch(e){return!0}return!1}(),a=function(){try{new n.EventTarget}catch(e){return!0}return!1}();o&&(n.Event=function(e,t){this.bubbles=!!t&&!!t.bubbles,this.cancelable=!!t&&!!t.cancelable,this.composed=!!t&&!!t.composed,this.type=e}),a&&(n.EventTarget=function(){function e(){this.__listeners=new Map}return e.prototype=Object.create(Object.prototype),e.prototype.addEventListener=function(e,t,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const n=this.__listeners,o=e.toString();n.has(o)||n.set(o,new Map);const a=n.get(o);a.has(t)||a.set(t,r)},e.prototype.removeEventListener=function(e,t,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const n=this.__listeners,o=e.toString();if(n.has(o)){const e=n.get(o);e.has(t)&&e.delete(t)}},e.prototype.dispatchEvent=function(e){if(!(e instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");const t=e.type,r=this.__listeners.get(t);if(r)for(var n of r.entries()){const t=n[0],o=n[1];try{"function"==typeof t?t.call(this,e):t&&"function"==typeof t.handleEvent&&t.handleEvent(e)}catch(e){setTimeout((()=>{throw e}))}o&&o.once&&r.delete(t)}return!0},e}())}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.m=r,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))},o.u=function(e){return"js/"+{100:"previewWebStyleSymbol",128:"chunks-arcgis-knowledge-client-core-simd",147:"sv_SE",154:"he_IL",160:"FeatureMedia-pieChart",243:"SubtypeGroupLayer",396:"save-groupLayerUtils",405:"save-mediaLayerUtils",524:"uk_UA",582:"WFSLayer",705:"OGCFeatureLayer",744:"rest-knowledgeGraphService",763:"previewSymbol2D",807:"layers-graphics-sources-support-MemorySourceWorker",888:"VoxelLayer",907:"chunks-geometryEngineBase",951:"@esri-calcite-components-dist-components-calcite-dropdown-group",967:"vi_VN",987:"VideoLayer",1146:"support-meshUtils-exporters-gltf-gltfexport",1178:"lt_LT",1232:"LinkChartLayer",1353:"ja_JP",1492:"support-meshFeatureSet",1520:"layers-KMLLayerView2D",1536:"portal-support-layersLoader",1711:"widgets-Popup",1769:"et_EE",1803:"layers-OGCFeatureLayerView2D",1811:"zh_Hant",1838:"smartMapping-statistics-support-statsWorker",1845:"chunks-i3s",1859:"nb_NO",1927:"@esri-calcite-components-dist-components-calcite-loader",2028:"KMLLayer",2040:"featureSources-GraphicsSnappingSource",2072:"ImageryTileLayer",2121:"@esri-calcite-components-dist-components-calcite-notice",2193:"WMSLayer",2205:"ImageMaterial.glsl",2212:"OrientedImageryLayer",2231:"save-streamLayerUtils",2237:"PointCloudLayer",2377:"geometry-geometryEngineAsync",2384:"geometry-geometryEngineWorker",2416:"sql-WhereClause",2436:"shaders-LaserlinePath.glsl",2458:"layers-BaseDynamicLayerView2D",2498:"@esri-calcite-components-dist-components-calcite-input",2523:"ColorMaterial.glsl",2525:"@esri-calcite-components-dist-components-calcite-icon",2529:"DefaultMaterial.glsl",2547:"@esri-calcite-components-dist-components-calcite-dropdown-item",2600:"layers-graphics-sources-support-CSVSourceWorker",2641:"shaders-Path.glsl",2652:"ro_RO",2659:"geometry-support-meshUtils-convertMeshVertexSpace",2663:"layers-GroupLayerView2D",2716:"layers-TileLayerView2D",2725:"chunks-lyr3DMain",2730:"WebTileLayer",2742:"layers-CatalogFootprintLayerView2D",2755:"esri-sdk",2817:"@esri-calcite-components-dist-components-calcite-modal",2896:"el_GR",2933:"views-3d-webgl-engine-lib-edgeRendering-EdgeProcessingWorker",2938:"FeatureLayer",2974:"@esri-calcite-components-dist-components-calcite-button",3008:"@esri-calcite-components-dist-components-calcite-action",3066:"pt_BR",3127:"rest-query-executeForTopCount",3128:"support-arcgisLayers",3162:"@esri-calcite-components-dist-components-calcite-list",3213:"views-3d-layers-Lyr3DWorker",3236:"BuildingSceneLayer",3240:"@esri-calcite-components-dist-components-calcite-label",3283:"layers-VideoLayerView2D",3295:"views-2d-engine-vectorTiles-WorkerTileHandler",3398:"UnknownLayer",3436:"de_DE",3449:"MapNotesLayer",3538:"layers-support-layersCreator",3569:"RibbonLine.glsl",3587:"pe-wasm",3589:"layers-RouteLayerView2D",3615:"zipjs-wrapper",3662:"save-imageryUtils",3725:"en_CA",3740:"chunks-libtess",3746:"tr_TR",3777:"FeatureMedia-xyChart",3806:"views-2d-layers-features-FeaturePipelineWorker",3824:"shaders-Laserlines.glsl",3840:"portal-support-geometryServiceUtils",3854:"IntegratedMeshLayer",3870:"nl_NL",3878:"@esri-calcite-components-dist-components-calcite-list-item",3879:"widgets-Legend-support-sizeRampUtils",3936:"chunks-lyr3DWorker",4144:"layers-ImageryLayerView2D",4172:"layers-ImageryTileLayerView2D",4241:"MapImageLayer",4254:"chunks-arcgis-knowledge-client-core",4281:"GeoRSSLayer",4292:"PortalItem",4376:"sl_SL",4401:"VectorTileLayer",4456:"core-workers-request",4460:"support-resourceUtils",4464:"rest-query-executeTopFeaturesQuery",4491:"ko_KR",4502:"@esri-calcite-components-dist-components-calcite-flow-item",4504:"arcade-functions-knowledgegraph",4547:"WMTSLayer",4550:"mask-svg",4551:"layers-CatalogDynamicGroupLayerView2D",4556:"portal-support-portalLayers",4570:"@esri-calcite-components-dist-components-calcite-action-group",4579:"ElevationLayer",4602:"views-3d-interactive-editingTools",4620:"zh_Hans",4632:"featureSources-SceneLayerSnappingSource",4676:"IntegratedMesh3DTilesLayer",4692:"MediaLayer",4695:"BingMapsLayer",4696:"geometry-geometryEngineJSON",4743:"CatalogLayer",4758:"SlicePlaneMaterial.glsl",4850:"StreamLayer",4874:"views-draw-support-GraphicMover",4900:"layers-graphics-sources-WFSSourceWorker",4916:"DimensionLayer",4957:"arcade-featureSetUtils",5066:"arcade-functions-featuresetgeom",5090:"chunks-basis_transcoder",5092:"SceneLayer",5120:"geometry-support-meshUtils-ElevationSamplerWorker",5147:"GeoJSONLayer",5169:"layers-WMSLayerView2D",5297:"image-apng",5343:"layers-VectorTileLayerView2D",5404:"views-3d-layers-SceneLayerWorker",5418:"geometry-geometryEngine",5461:"symbols-cim-CIMSymbolRasterizer",5490:"th_TH",5589:"arcade-functions-featuresetstring",5599:"LineMarker.glsl",5657:"layers-GraphicsLayerView2D",5678:"bs_BA",5716:"layers-KnowledgeGraphLayerView2D",5732:"ImageryLayer",5749:"layers-SubtypeGroupLayerView2D",5777:"functions-geomasync",5786:"chunks-libtess-asm",5825:"arcade-functions-featuresetbase",5835:"OverlayCompositing.glsl",5873:"RealisticTree.glsl",5912:"shaders-SSAO.glsl",5974:"views-interactive-snapping-featureSources-sceneLayerSource-SceneLayerSnappingSourceWorker",6005:"en_US",6022:"mapViewDeps",6162:"esri-sdk-draw",6171:"layers-MapImageLayerView2D",6221:"layers-support-RasterWorker",6266:"@esri-calcite-components-dist-components-calcite-flow",6314:"Basemap",6375:"cs_CZ",6387:"layers-GeoRSSLayerView2D",6404:"core-shaderLibrary-util-TextureOnly.glsl",6430:"layers-Lyr3DWasmPerSceneView",6459:"layers-CatalogLayerView2D",6472:"fi_FI",6479:"geometryAdapters-hydrated",6498:"layers-FeatureLayerView2D",6594:"layers-support-LercWorker",6628:"shaders-WaterSurface.glsl",6648:"@esri-calcite-components-dist-components-calcite-action-bar",6715:"layers-MapNotesLayerView2D",6840:"featureSources-FeatureServiceSnappingSource",6883:"views-3d-layers-graphics-objectResourceUtils",6928:"rest-query-executeForTopIds",6965:"FeatureMedia-chartCommon",6966:"TileLayer",7019:"chunks-lclayout",7036:"@esri-calcite-components-dist-components-calcite-list-item-group",7095:"arcade-functions-featuresetstats",7192:"ru_RU",7209:"@esri-calcite-components-dist-components-calcite-dropdown",7210:"geometry-support-meshUtils-projection",7215:"views-2d-interactive-editingTools",7224:"id_ID",7237:"rest-versionManagement-gdbVersion-support-DeleteForwardEditsParameters",7253:"layers-graphics-sources-geojson-GeoJSONSourceWorker",7269:"symbolLayerUtils",7323:"rest-versionManagement-gdbVersion-deleteForwardEdits",7326:"ar",7360:"layers-MediaLayerView2D",7500:"hu_HU",7514:"pt_PT",7528:"it_IT",7535:"chunks-lerc-wasm",7588:"de_CH",7633:"layers-WMTSLayerView2D",7793:"support-chartUtilsAm5",7809:"shaders-SSAOBlur.glsl",7835:"save-featureLayerUtils",7844:"arcade-arcadeAsyncRuntime",7876:"webglDeps",7877:"identity-IdentityManager",7968:"layers-StreamLayerView2D",8019:"loadGLTFMesh",8067:"Pattern.glsl",8083:"LineCallout.glsl",8104:"graphics-editingSupport",8121:"HUDMaterial.glsl",8246:"views-interactive-snapping-featureSources-featureServiceSource-FeatureServiceSnappingSourceWorker",8274:"layers-ElevationLayer",8286:"sr_RS",8338:"graphics-sources-connections-createConnection",8363:"OpenStreetMapLayer",8368:"CSVLayer",8473:"shadow-css",8495:"UnsupportedLayer",8534:"es_ES",8538:"hr_HR",8627:"image-gif",8643:"support-webStyleSymbolUtils",8710:"sk_SK",8737:"featureSources-FeatureCollectionSnappingSource",8798:"arcadeUtils",8835:"flood-map-ui",8852:"views-draw-support-Box",8854:"ca_ES",8857:"rest-query-executeForTopExtents",8950:"views-3d-support-PBFDecoderWorker",9003:"views-3d-layers-GraphicsLayerView3D",9033:"RouteLayer",9142:"fr_FR",9155:"arcade",9342:"support-ElevationQuery",9386:"lv_LV",9436:"rest-query-operations-queryAttachments",9500:"bg_BG",9520:"rest-query-executeRelationshipQuery",9538:"NativeLine.glsl",9552:"overlay-svg",9586:"ShadedColorMaterial.glsl",9674:"pl_PL",9686:"da_DK",9722:"views-3d-layers-PointCloudWorker",9732:"graphics-sources-FeatureLayerSource",9738:"previewCIMSymbol",9845:"views-draw-support-Reshape",9883:"GroupLayer",9920:"LineOfSightLayer",9933:"support-uploadAssets",9974:"KnowledgeGraphLayer"}[e]+".js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="defraMap:",o.l=function(r,n,a,i){if(e[r])e[r].push(n);else{var s,c;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==r||p.getAttribute("data-webpack")==t+a){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[n];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(y);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},y=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"}(),function(){var e={68:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=a);var i=o.p+o.u(t),s=new Error;o.l(i,(function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var n,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);c&&c(o)}for(t&&t(r);l<i.length;l++)a=i[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdefraMap=self.webpackChunkdefraMap||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var a={};!function(){"use strict";o.r(a),o.d(a,{FloodMap:function(){return p}});var e=o(42566),t=o(35384),r=o(42325),n=o(87899);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}o(26121);const{location:l,history:u}=window;class p extends EventTarget{constructor(o,a){var i;super(),c(this,"_search",void 0),c(this,"_info",void 0),c(this,"_selected",void 0),c(this,"_draw",void 0);const p=document.getElementById(o),d=s({},p.dataset);Object.keys(d).forEach((e=>{d[e]=(0,t.oz)(d[e])}));const y=document.getElementById(d.target||a.target||o),m=s(s({id:o,parent:y,title:document.title},a),d);this.props=m,this.el=p,this.root=null;const{type:h,maxMobile:f,buttonText:g,buttonType:v}=m,w=`(max-width: ${f||e.W0.breakpoints.MAX_MOBILE})`,b=new URLSearchParams(document.location.search);let S=null===(i=window)||void 0===i?void 0:i.matchMedia(w).matches,L=b.get("view")===o||"inline"===h||"hybrid"===h&&!S;L&&this._importComponent(),p.insertAdjacentHTML("beforebegin",`\n            <a href="${l.pathname}?view=${o}" class="${"anchor"===v?"fm-c-btn-open-map-anchor":"fm-c-btn-open-map"} govuk-body-s" ${L?'style="display:none"':""} role="button">\n                <svg focusable='false' aria-hidden='true' width='16' height='20' viewBox='0 0 16 20' fillRule='evenodd'><path d='M15 7.5c.009 3.778-4.229 9.665-7.5 12.5C4.229 17.165-.009 11.278 0 7.5a7.5 7.5 0 1 1 15 0z'/><path d='M7.5 12.961a5.46 5.46 0 1 0 0-10.922 5.46 5.46 0 1 0 0 10.922z' fill='#fff'/></svg><span>${g||"Map view"}</span>\n                <span class='fm-u-visually-hidden'>(Visual only)</span>\n            </a>\n        `);const E=p.previousElementSibling;this.button=E,this.props.handleExit=()=>{var t;if(null!==(t=u.state)&&void 0!==t&&t.isBack)return void u.back();this._removeComponent(),Object.keys(e.W0.params).forEach((t=>b.delete(e.W0.params[t])));const r=l.pathname+b.toString();u.replaceState({isBack:!1},"",r)},E.addEventListener("click",(e=>{e.preventDefault(),u.pushState({isBack:!0},"",`${e.target.getAttribute("href")}`),E.setAttribute("data-fm-open",""),this._importComponent()})),window.addEventListener("popstate",(()=>{var e;null!==(e=u.state)&&void 0!==e&&e.isBack?this._importComponent():("buttonFirst"===h||"hybrid"===h&&S)&&this._removeComponent()}));const _=e=>{S=e.matches;const t=new URLSearchParams(document.location.search).get("view")===o;L=t||"inline"===h||"hybrid"===h&&!S,L?this._importComponent():this._removeComponent()};window.matchMedia(w).addEventListener?window.matchMedia(w).addEventListener("change",_):window.matchMedia(w).addListener(_),window.addEventListener("focus",(()=>{(0,r.z_)()})),window.addEventListener("keydown",(t=>{"Tab"===t.key&&(this.isKeyboard=!0,n.A.dispatch(this.props.parent,e.AZ.SET_IS_KEYBOARD,!0))}),!0);const A=()=>{n.A.dispatch(this.props.parent,e.AZ.SET_IS_KEYBOARD,!1),document.activeElement.classList.remove("fm-u-focus-visible"),this.isKeyboard=!1};window.addEventListener("pointerdown",A),window.addEventListener("wheel",A),window.addEventListener("focusin",(()=>{this.isKeyboard&&document.activeElement.classList.add("fm-u-focus-visible")})),window.addEventListener("focusout",(e=>{e.target.classList.remove("fm-u-focus-visible")})),n.A.on(y,e.AZ.APP_READY,(t=>{this.map=t.map,this.modules=t.modules,this.isReady=!0,n.A.dispatch(this.props.parent,e.AZ.SET_IS_KEYBOARD,this.isKeyboard||!1),n.A.dispatch(this,e.AZ.READY,s({type:"ready"},t)),this._info&&n.A.dispatch(this.props.parent,e.AZ.SET_INFO,this._info),this._selected&&n.A.dispatch(this.props.parent,e.AZ.SET_SELECTED,this._selected),this._draw&&n.A.dispatch(this.props.parent,e.AZ.SET_DRAW,this._draw)})),n.A.on(y,e.AZ.APP_CHANGE,(t=>{n.A.dispatch(this,e.AZ.CHANGE,t)})),n.A.on(y,e.AZ.APP_QUERY,(t=>{n.A.dispatch(this,e.AZ.QUERY,t)}))}_importComponent(){o.e(8835).then(o.bind(o,61801)).then((e=>{this._addComponent(e)}))}_addComponent(e){this.root||(this.button.setAttribute("style","display: none"),this.root=e.default(this.el,s(s({},this.props),{},{isKeyboard:this.isKeyboard})))}_removeComponent(){var e;this.button.removeAttribute("style"),this.button.removeAttribute("data-open"),this.button.focus(),null===(e=this.root)||void 0===e||e.unmount(),this.root=null,this._selected=null,this._info=null,(0,r.ar)(),(0,r.hL)()}get info(){return this._info}set info(t){this._info=t,this.isReady&&n.A.dispatch(this.props.parent,e.AZ.SET_INFO,this._info)}get select(){return this._selected}set select(t){this._selected=t,this.isReady&&n.A.dispatch(this.props.parent,e.AZ.SET_SELECTED,this._selected)}get draw(){return this._draw}set draw(t){this._draw=t,this.isReady&&n.A.dispatch(this.props.parent,e.AZ.SET_DRAW,this._draw)}}}(),window.defraMap=a}();
//# sourceMappingURL=flood-map.js.map