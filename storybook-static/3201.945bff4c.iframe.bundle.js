"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[3201,9005],{"./node_modules/@arcgis/core/arcade/arcadeAsyncRuntime.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{executeScript:()=>Ve,extend:()=>Pe,functionHelper:()=>qe});var _arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/arcade/arcadeEnvironment.js"),_ArcadeModule_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@arcgis/core/arcade/ArcadeModule.js"),_ArcadeModuleLoader_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("./node_modules/@arcgis/core/arcade/ArcadeModuleLoader.js"),_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/arcade/containerUtils.js"),_Dictionary_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/arcade/Dictionary.js"),_executionError_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/arcade/executionError.js"),_Feature_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/arcade/Feature.js"),_FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/arcade/FunctionWrapper.js"),_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/languageUtils.js"),_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/arcade/treeAnalysis.js"),_chunks_array_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/chunks/array.js"),_functions_date_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/date.js"),_functions_feature_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/feature.js"),_functions_geomasync_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/geomasync.js"),_functions_geometry_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/geometry.js"),_functions_maths_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/maths.js"),_functions_stats_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/stats.js"),_functions_string_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/arcade/functions/string.js"),_geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@arcgis/core/geometry/Geometry.js"),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),_support_guards_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("./node_modules/@arcgis/core/support/guards.js");async function H(e,t){const n=[];for(let r=0;r<t.arguments.length;r++)n.push(await ee(e,t.arguments[r]));return n}async function J(e,t,n){return!0===t.preparsed?n(e,null,t.arguments):n(e,t,await H(e,t))}class Q extends _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.fF{constructor(e,t){super(),this.definition=null,this.context=null,this.definition=e,this.context=t}createFunction(e){return(...t)=>{const n={spatialReference:this.context.spatialReference,console:this.context.console,lrucache:this.context.lrucache,timeZone:this.context.timeZone??null,exports:this.context.exports,libraryResolver:this.context.libraryResolver,interceptor:this.context.interceptor,localScope:{},depthCounter:{depth:e.depthCounter+1},globalScope:this.context.globalScope};if(n.depthCounter.depth>64)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.MaximumCallDepth,null);return Ke(this.definition,n,t,null)}}call(e,t){return $(e,t,((n,r,o)=>{const a={spatialReference:e.spatialReference,services:e.services,console:e.console,libraryResolver:e.libraryResolver,exports:e.exports,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{},abortSignal:e.abortSignal,globalScope:e.globalScope,depthCounter:{depth:e.depthCounter.depth+1}};if(a.depthCounter.depth>64)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.MaximumCallDepth,t);return Ke(this.definition,a,o,t)}))}marshalledCall(e,t,n,r){return r(e,t,(async(o,a,i)=>{const l={spatialReference:e.spatialReference,globalScope:n.globalScope,depthCounter:{depth:e.depthCounter.depth+1},libraryResolver:e.libraryResolver,exports:e.exports,console:e.console,abortSignal:e.abortSignal,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:{}};return i=i.map((t=>!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(t)||t instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.CU?t:(0,_FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.o6)(t,e,r))),(0,_FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.o6)(await Ke(this.definition,l,i,t),n,r)}))}}class X extends _ArcadeModule_js__WEBPACK_IMPORTED_MODULE_18__.x{constructor(e){super(),this.source=e}global(t){const n=this.executingContext.globalScope[(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(t)];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(n.value)&&!(n.value instanceof _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.CU)){const e=new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.CU;e.fn=n.value,e.parameterEvaluator=$,e.context=this.executingContext,n.value=e}return n.value}setGlobal(t,n){if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(n))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(null,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.AssignModuleFunction,null);this.executingContext.globalScope[(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(t)]={value:n}}hasGlobal(t){return void 0===this.executingContext.exports[t]&&(t=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(t)),void 0!==this.executingContext.exports[t]}async loadModule(e){let t=e.spatialReference;null==t&&(t=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__.A({wkid:102100})),this.moduleScope=Ge({},e.customfunctions,e.timeZone),this.executingContext={spatialReference:t,services:e.services,libraryResolver:new _ArcadeModuleLoader_js__WEBPACK_IMPORTED_MODULE_19__.a(e.libraryResolver._moduleSingletons,this.source.syntax.loadedModules),exports:{},abortSignal:void 0===e.abortSignal||null===e.abortSignal?{aborted:!1}:e.abortSignal,globalScope:this.moduleScope,console:e.console??Le,lrucache:e.lrucache,timeZone:e.timeZone??null,interceptor:e.interceptor,localScope:null,depthCounter:{depth:1}},await me(this.executingContext,this.source.syntax)}}async function $(e,t,n){return!0===t.preparsed?n(e,null,t.arguments):n(e,t,await H(e,t))}async function ee(e,t){t.breakpoint&&await t.breakpoint();try{switch(t.type){case"UpdateExpression":return await async function pe(t,n){const r=n.argument;if("CallExpression"===r.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.NeverReach,n);if("MemberExpression"===r.type){const e=await ee(t,r.object);let o,a;if(!0===r.computed)o=await ee(t,r.property);else{if("Identifier"!==r.property.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Unrecognized,n);o=r.property.name}if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.cy)(e)){if(!(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Et)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ArrayAccessorMustBeNumber,n);if(o<0&&(o=e.length+o),o<0||o>=e.length)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,n);a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e[o]),e[o]="++"===n.operator?a+1:a-1}else if(e instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A){if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyAccessorMustBeString,n);if(!0!==e.hasField(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FieldNotFound,n,{key:o});a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e.field(o)),e.setField(o,"++"===n.operator?a+1:a-1)}else if(e instanceof X){if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ModuleAccessorMustBeString,n);if(!0!==e.hasGlobal(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ModuleExportNotFound,n);a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e.global(o)),e.setGlobal(o,"++"===n.operator?a+1:a-1)}else{if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.n)(e))throw(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.m)(e)?new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Immutable,n):new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidParameter,n);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyAccessorMustBeString,n);if(!0!==e.hasField(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FieldNotFound,n,{key:o});a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e.field(o)),e.setField(o,"++"===n.operator?a+1:a-1)}return!1===n.prefix?a:"++"===n.operator?a+1:a-1}const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(r);let a;if(null!=t.localScope&&void 0!==t.localScope[o])return a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(t.localScope[o].value),t.localScope[o]={value:"++"===n.operator?a+1:a-1},!1===n.prefix?a:"++"===n.operator?a+1:a-1;if(void 0!==t.globalScope[o])return a=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(t.globalScope[o].value),t.globalScope[o]={value:"++"===n.operator?a+1:a-1},!1===n.prefix?a:"++"===n.operator?a+1:a-1;throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n)}(e,t);case"AssignmentExpression":return await async function de(t,n){const r=n.left;if("MemberExpression"===r.type){const e=await ee(t,r.object);let o;if(!0===r.computed)o=await ee(t,r.property);else{if("Identifier"!==r.property.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n);o=r.property.name}const a=await ee(t,n.right);if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.cy)(e)){if(!(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Et)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ArrayAccessorMustBeNumber,n);if(o<0&&(o=e.length+o),o<0||o>e.length)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,n);if(o===e.length){if("="!==n.operator)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,n);e[o]=we(a,n.operator,e[o],n,t)}else e[o]=we(a,n.operator,e[o],n,t)}else if(e instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A){if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyAccessorMustBeString,n);if(!0===e.hasField(o))e.setField(o,we(a,n.operator,e.field(o),n,t));else{if("="!==n.operator)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FieldNotFound,n,{key:o});e.setField(o,we(a,n.operator,null,n,t))}}else if(e instanceof X){if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyAccessorMustBeString,n);if(!0!==e.hasGlobal(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ModuleExportNotFound,n);e.setGlobal(o,we(a,n.operator,e.global(o),n,t))}else{if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.n)(e))throw(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.m)(e)?new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Immutable,n):new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidParameter,n);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyAccessorMustBeString,n);if(!0===e.hasField(o))e.setField(o,we(a,n.operator,e.field(o),n,t));else{if("="!==n.operator)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FieldNotFound,n,{key:o});e.setField(o,we(a,n.operator,null,n,t))}}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(r);if(null!=t.localScope&&void 0!==t.localScope[o]){const e=await ee(t,n.right);return t.localScope[o]={value:we(e,n.operator,t.localScope[o].value,n,t)},_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}if(void 0!==t.globalScope[o]){const e=await ee(t,n.right);return t.globalScope[o]={value:we(e,n.operator,t.globalScope[o].value,n,t)},_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n)}(e,t);case"TemplateLiteral":return await async function je(e,t){let n="",r=0;for(const o of t.quasis)if(n+=o.value?o.value.cooked:"",!1===o.tail){if(t.expressions[r]){const o=await ee(e,t.expressions[r]);if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.NoFunctionInTemplateLiteral,t);n+=(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.f)(o)}r++}return n}(e,t);case"Identifier":return Oe(e,t);case"MemberExpression":return await async function ke(e,t){const n=await ee(e,t.object);if(null===n)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.MemberOfNull,t);if(!1===t.computed){if("Identifier"===t.property.type){if(n instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.z)(n))return n.field(t.property.name);if(n instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_16__.A)return(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.Bl)(n,t.property.name,e,t);if(n instanceof X){if(!n.hasGlobal(t.property.name))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,t);return n.global(t.property.name)}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}let r=await ee(e,t.property);if(n instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.z)(n)){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r))return n.field(r);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}if(n instanceof X){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r))return n.global(r);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}if(n instanceof _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_16__.A){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r))return(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.Bl)(n,r,e,t);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.cy)(n)){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Et)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,t);return n[r]}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.m)(n)){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Et)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length()+r),r>=n.length()||r<0)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,t);return n.get(r)}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(n)){if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Et)(r)&&isFinite(r)&&Math.floor(r)===r){if(r<0&&(r=n.length+r),r>=n.length||r<0)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,t);return n[r]}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidMemberAccessKey,t)}(e,t);case"Literal":return t.value;case"CallExpression":return await async function Ne(t,n){if("MemberExpression"===n.callee.type){const e=await ee(t,n.callee.object);if(!(e instanceof X))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FunctionNotFound,n);const r=!1===n.callee.computed?n.callee.property.name:await ee(t,n.callee.property);if(!e.hasGlobal(r))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FunctionNotFound,n);const o=e.global(r);if(!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.CallNonFunction,n);return o.call(t,n)}if("Identifier"!==n.callee.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FunctionNotFound,n);const r=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.callee);if(null!=t.localScope&&void 0!==t.localScope[r]){const e=t.localScope[r];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(e.value))return e.value.call(t,n);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.CallNonFunction,n)}if(void 0!==t.globalScope[r]){const e=t.globalScope[r];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(e.value))return e.value.call(t,n);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.CallNonFunction,n)}throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.FunctionNotFound,n)}(e,t);case"UnaryExpression":return await async function Me(e,t){const n=await ee(e,t.argument);if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(n)){if("!"===t.operator)return!n;if("-"===t.operator)return-1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);if("+"===t.operator)return 1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);if("~"===t.operator)return~(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnsupportedUnaryOperator,t)}if("-"===t.operator)return-1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);if("+"===t.operator)return 1*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);if("~"===t.operator)return~(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnsupportedUnaryOperator,t)}(e,t);case"BinaryExpression":return await async function Ae(e,t){const n=await ee(e,t.left),r=await ee(e,t.right);switch(t.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.C)((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n),(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r),t.operator);case"==":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.B)(n,r);case"!=":return!(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.B)(n,r);case"<":case">":case"<=":case">=":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.A)(n,r,t.operator);case"+":return(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(n)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r)?(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.f)(n)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.f)(r):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r);case"-":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)-(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r);case"*":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r);case"/":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)/(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r);case"%":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)%(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(r);default:throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnsupportedOperator,t)}}(e,t);case"LogicalExpression":return await async function Ce(e,t){const n=await ee(e,t.left);if(!(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(n))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.LogicalExpressionOnlyBoolean,t);switch(t.operator){case"||":{if(!0===n)return n;const r=await ee(e,t.right);if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(r))return r;throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.LogicExpressionOrAnd,t)}case"&&":{if(!1===n)return n;const r=await ee(e,t.right);if((0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(r))return r;throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.LogicExpressionOrAnd,t)}default:throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.LogicExpressionOrAnd,t)}}(e,t);case"ArrayExpression":return await async function Re(e,t){const n=[];for(let r=0;r<t.elements.length;r++)n.push(await ee(e,t.elements[r]));for(let r=0;r<n.length;r++){if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(n[r]))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.NoFunctionInArray,t);n[r]===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w&&(n[r]=null)}return n}(e,t);case"ObjectExpression":return await async function ne(e,t){const n=[];for(let i=0;i<t.properties.length;i++){const r=t.properties[i],o=await ee(e,r.value),a="Identifier"===r.key.type?r.key.name:await ee(e,r.key);n[i]={key:a,value:o}}const r={},o=new Map;for(let i=0;i<n.length;i++){const a=n[i];if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(a.value))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.NoFunctionInDictionary,t);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(a.key))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.KeyMustBeString,t);let c=a.key.toString();const u=c.toLowerCase();o.has(u)?c=o.get(u):o.set(u,c),a.value===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w?r[c]=null:r[c]=a.value}const a=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A(r);return a.immutable=!1,a}(e,t);default:throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Unrecognized,t)}}catch(n){throw(0,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.Nh)(e,t,n)}}async function te(e,t){t.breakpoint&&await t.breakpoint();try{switch(t.type){case"ImportDeclaration":return await async function Se(t,n){const r=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.specifiers[0].local),o=t.libraryResolver.loadLibrary(r);let a;return t.libraryResolver._moduleSingletons?.has(o.uri)?a=t.libraryResolver._moduleSingletons.get(o.uri):(a=new X(o),await a.loadModule(t),t.libraryResolver._moduleSingletons?.set(o.uri,a)),t.globalScope[r]={value:a},_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"ExportNamedDeclaration":return await async function xe(t,n){if(await te(t,n.declaration),"FunctionDeclaration"===n.declaration.type)t.exports[(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.declaration.id)]="function";else if("VariableDeclaration"===n.declaration.type)for(const r of n.declaration.declarations)t.exports[(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(r.id)]="variable";return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"VariableDeclaration":return await Fe(e,t,0);case"BlockStatement":return await me(e,t);case"FunctionDeclaration":return await async function ve(t,n){const r=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.id);return t.globalScope[r]={value:new Q(n,t)},_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"ReturnStatement":return await async function be(e,t){if(null===t.argument)return new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R(_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w);const n=await ee(e,t.argument);return new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R(n)}(e,t);case"IfStatement":return await async function ge(e,t){const n=await ee(e,t.test);if(!0===n)return te(e,t.consequent);if(!1===n)return null!==t.alternate?te(e,t.alternate):_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w;throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t)}(e,t);case"ExpressionStatement":return await async function he(e,t){const n=await ee(e,t.expression);return n===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w?_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w:new _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.I(n)}(e,t);case"ForStatement":return await async function oe(e,t){try{for(null!==t.init&&("VariableDeclaration"===t.init.type?await te(e,t.init):await ee(e,t.init));;){if(null!==t.test){const n=await ee(e,t.test);if(!0===e.abortSignal?.aborted)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Cancelled,t);if(!1===n)break;if(!0!==n)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t)}const n=await te(e,t.body);if(n===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(n instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return n;null!==t.update&&await ee(e,t.update)}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}catch(n){throw n}}(e,t);case"WhileStatement":return await async function re(e,t){let n=await ee(e,t.test);if(!1===n)return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w;if(!0!==n)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t);for(;!0===n;){const r=await te(e,t.body);if(r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(r instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return r;if(n=await ee(e,t.test),!0!==n&&!1!==n)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t)}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"ForInStatement":return await async function ue(t,n){const r=await ee(t,n.right);"VariableDeclaration"===n.left.type&&await te(t,n.left);const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)("VariableDeclaration"===n.left.type?n.left.declarations[0].id:n.left);let c=null;if(null!=t.localScope&&void 0!==t.localScope[o]&&(c=t.localScope[o]),null===c&&void 0!==t.globalScope[o]&&(c=t.globalScope[o]),null===c)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n);return(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.cy)(r)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r)?await ae(t,n,r,c):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.m)(r)?await ie(t,n,r,c):r instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.z)(r)?await ae(t,n,r.keys(),c,"k"):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.p)(r)?await le(t,n,r,c):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.l)(r)?await ae(t,n,(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.T)(r),c,"k"):_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"ForOfStatement":return await async function fe(t,n){const r=await ee(t,n.right);"VariableDeclaration"===n.left.type&&await te(t,n.left);const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)("VariableDeclaration"===n.left.type?n.left.declarations[0].id:n.left);let a=null;if(null!=t.localScope&&void 0!==t.localScope[o]&&(a=t.localScope[o]),null===a&&void 0!==t.globalScope[o]&&(a=t.globalScope[o]),null===a)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n);return(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.cy)(r)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(r)?await ae(t,n,r,a,"k"):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.m)(r)?await ie(t,n,r,a,"k"):r instanceof _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A||(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.z)(r)?await async function se(e,t,n,r){for(const o of n.keys()){const a=n.field(o);r.value=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A({key:o,value:a});const l=await te(e,t.body);if(l===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(l instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return l}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(t,n,r,a):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.p)(r)?await le(t,n,r,a):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.l)(r)?await async function ce(e,t,n,r){for(const l of(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.T)(n)){const a=(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.Bl)(n,l,e,t,1);r.value=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A({key:l,value:a});const s=await te(e,t.body);if(s===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(s instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return s}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(t,n,r,a):_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}(e,t);case"BreakStatement":return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x;case"EmptyStatement":return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w;case"ContinueStatement":return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.y;default:throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.Unrecognized,t)}}catch(n){throw(0,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.Nh)(e,t,n)}}async function ae(e,t,n,r,o="i"){const a=n.length;for(let i=0;i<a;i++){if("k"===o){if(i>=n.length)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.OutOfBounds,t);r.value=n[i]}else r.value=i;const a=await te(e,t.body);if(a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(a instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return a}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}async function ie(e,t,n,r,o="i"){const a=n.length();for(let i=0;i<a;i++){r.value="k"===o?n.get(i):i;const a=await te(e,t.body);if(a===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(a instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return a}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}async function le(e,t,n,r){const o=n.iterator(e.abortSignal);let a;for(;null!=(a=await o.next());){const o=_Feature_js__WEBPACK_IMPORTED_MODULE_4__.A.createFromGraphicLikeObject(a.geometry,a.attributes,n,e.timeZone);o._underlyingGraphic=a,r.value=o;const i=await te(e,t.body);if(i===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)break;if(i instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return i}return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}function we(e,t,n,r,o){switch(t){case"=":return e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w?null:e;case"/=":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)/(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e);case"*=":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)*(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e);case"-=":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)-(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e);case"+=":return(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(n)||(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Kg)(e)?(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.f)(n)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.f)(e):(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)+(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e);case"%=":return(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(n)%(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.t)(e);default:throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(o,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnsupportedOperator,r)}}async function me(e,t){return ye(e,t,0)}async function ye(e,t,n){if(n>=t.body.length)return _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w;const r=await te(e,t.body[n]);return r instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R||r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x||r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.y||n===t.body.length-1?r:ye(e,t,n+1)}async function Fe(e,t,n){return n>=t.declarations.length||(await async function Ie(t,n){let r=null;if(r=null===n.init?null:await ee(t,n.init),null!==t.localScope){if(r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w&&(r=null),"Identifier"!==n.id.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n);const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.id);return void(null!=t.localScope&&(t.localScope[o]={value:r}))}if("Identifier"!==n.id.type)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n);const o=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n.id);r===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w&&(r=null),t.globalScope[o]={value:r}}(e,t.declarations[n]),n===t.declarations.length-1||await Fe(e,t,n+1)),_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w}function Oe(t,n){const r=(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(n);if(null!=t.localScope&&void 0!==t.localScope[r])return t.localScope[r].value;if(void 0!==t.globalScope[r])return t.globalScope[r].value;throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(t,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.InvalidIdentifier,n)}const Be={};async function Ee(e,t,n,r){const o=await ee(e,t.arguments[n]);if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.B)(o,r))return ee(e,t.arguments[n+1]);const a=t.arguments.length-n;return 1===a?ee(e,t.arguments[n]):2===a?null:3===a?ee(e,t.arguments[n+2]):Ee(e,t,n+2,r)}async function De(e,t,n,r){if(!0===r)return ee(e,t.arguments[n+1]);if(3==t.arguments.length-n)return ee(e,t.arguments[n+2]);const o=await ee(e,t.arguments[n+2]);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(o))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.ModuleExportNotFound,t.arguments[n+2]);return De(e,t,n+2,o)}async function Ke(t,n,r,o){const a=t.body;if(r.length!==t.params.length)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(n,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.WrongNumberOfParameters,null);for(let l=0;l<r.length;l++){const o=t.params[l];"Identifier"===o.type&&null!=n.localScope&&(n.localScope[(0,_arcadeEnvironment_js__WEBPACK_IMPORTED_MODULE_0__.X)(o)]={value:r[l]})}const i=await te(n,a);if(i instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R)return i.value;if(i===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(n,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnexpectedToken,o);if(i===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.y)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(n,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.UnexpectedToken,o);return i instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.I?i.value:i}(0,_functions_date_js__WEBPACK_IMPORTED_MODULE_9__.d)(Be,J),(0,_functions_string_js__WEBPACK_IMPORTED_MODULE_15__.d)(Be,J),(0,_functions_feature_js__WEBPACK_IMPORTED_MODULE_10__.d)(Be,J,Oe),(0,_functions_maths_js__WEBPACK_IMPORTED_MODULE_13__.d)(Be,J),(0,_functions_geometry_js__WEBPACK_IMPORTED_MODULE_12__.d)(Be,J),(0,_functions_stats_js__WEBPACK_IMPORTED_MODULE_14__.d)(Be,J),(0,_functions_geomasync_js__WEBPACK_IMPORTED_MODULE_11__.registerFunctions)({functions:Be,compiled:!1,signatures:null,evaluateIdentifier:null,mode:"async",standardFunction:J,standardFunctionAsync:$}),Be.iif=async function(e,t){(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.D)(null===t.arguments?[]:t.arguments,3,3,e,t);const n=await ee(e,t.arguments[0]);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(n))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t);return ee(e,n?t.arguments[1]:t.arguments[2])},Be.defaultvalue=async function(e,t){(0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.D)(null===t.arguments?[]:t.arguments,2,3,e,t);const n=await ee(e,t.arguments[0]);if(3===t.arguments.length){const o=await ee(e,t.arguments[1]),a=(0,_containerUtils_js__WEBPACK_IMPORTED_MODULE_1__.jd)(n,o);return null!=a&&""!==a?a:ee(e,t.arguments[2])}return null==n||""===n?ee(e,t.arguments[1]):n},Be.decode=async function(e,t){if(t.arguments.length<2)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.WrongNumberOfParameters,t);if(2===t.arguments.length)return ee(e,t.arguments[1]);if((t.arguments.length-1)%2==0)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.WrongNumberOfParameters,t);return Ee(e,t,1,await ee(e,t.arguments[0]))},Be.when=async function(e,t){if(t.arguments.length<3)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.WrongNumberOfParameters,t);if(t.arguments.length%2==0)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.WrongNumberOfParameters,t);const n=await ee(e,t.arguments[0]);if(!1===(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.Lm)(n))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(e,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.BooleanConditionRequired,t.arguments[0]);return De(e,t,0,n)};const Ue={fixSpatialReference:_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.u,parseArguments:H,standardFunction:J,standardFunctionAsync:$,evaluateIdentifier:Oe};for(const We in Be)Be[We]={value:new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.UQ(Be[We])};const Ze=function(){};function Ge(e,t,n){const r=new Ze;null==e&&(e={}),null==t&&(t={});const o=new _Dictionary_js__WEBPACK_IMPORTED_MODULE_2__.A({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});o.immutable=!1,r.textformatting={value:o};for(const a in t)r[a]={value:new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.UQ(t[a])};for(const a in e)r[a]={value:(0,_support_guards_js__WEBPACK_IMPORTED_MODULE_20__.DU)(e[a])?_Feature_js__WEBPACK_IMPORTED_MODULE_4__.A.createFromGraphic(e[a],n):e[a]};return r}function Le(e){console.log(e)}Ze.prototype=Be,Ze.prototype.infinity={value:Number.POSITIVE_INFINITY},Ze.prototype.pi={value:Math.PI};const qe=Ue;function Pe(e){const t={mode:"async",compiled:!1,functions:{},signatures:[],standardFunction:J,standardFunctionAsync:$,evaluateIdentifier:Oe};for(let n=0;n<e.length;n++)e[n].registerFunctions(t);for(const n in t.functions)Be[n]={value:new _FunctionWrapper_js__WEBPACK_IMPORTED_MODULE_5__.UQ(t.functions[n])},Ze.prototype[n]=Be[n];for(let n=0;n<t.signatures.length;n++)(0,_treeAnalysis_js__WEBPACK_IMPORTED_MODULE_7__.WC)(t.signatures[n],"async")}async function Ve(e,t){let r=t.spatialReference;null==r&&(r=new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_17__.A({wkid:102100}));let o=null;e.usesModules&&(o=new _ArcadeModuleLoader_js__WEBPACK_IMPORTED_MODULE_19__.a(new Map,e.loadedModules));const a=Ge(t.vars,t.customfunctions,t.timeZone),i={spatialReference:r,services:t.services,exports:{},libraryResolver:o,abortSignal:void 0===t.abortSignal||null===t.abortSignal?{aborted:!1}:t.abortSignal,globalScope:a,console:t.console??Le,timeZone:t.timeZone??null,lrucache:t.lrucache,interceptor:t.interceptor,localScope:null,depthCounter:{depth:1}},c=await me(i,e);if(c instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.R||c instanceof _chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.I){const e=c.value;if(e===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w)return null;if((0,_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.i)(e))throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(i,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.IllegalResult,null);return e}if(c===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.w)return null;if(c===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.x)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(i,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.IllegalResult,null);if(c===_chunks_languageUtils_js__WEBPACK_IMPORTED_MODULE_6__.y)throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(i,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.IllegalResult,null);throw new _executionError_js__WEBPACK_IMPORTED_MODULE_3__.D$(i,_executionError_js__WEBPACK_IMPORTED_MODULE_3__.TX.NeverReach,null)}Pe([_chunks_array_js__WEBPACK_IMPORTED_MODULE_8__.A])},"./node_modules/@arcgis/core/arcade/functions/geomasync.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{registerFunctions:()=>T});var ArcadePortal=__webpack_require__("./node_modules/@arcgis/core/arcade/ArcadePortal.js"),Dictionary=__webpack_require__("./node_modules/@arcgis/core/arcade/Dictionary.js"),executionError=__webpack_require__("./node_modules/@arcgis/core/arcade/executionError.js"),kernel=__webpack_require__("./node_modules/@arcgis/core/arcade/kernel.js"),languageUtils=__webpack_require__("./node_modules/@arcgis/core/chunks/languageUtils.js"),portalUtils=__webpack_require__("./node_modules/@arcgis/core/arcade/portalUtils.js"),functions=__webpack_require__("./node_modules/@arcgis/core/arcade/geometry/functions.js"),operatorsWorkerConnection=__webpack_require__("./node_modules/@arcgis/core/arcade/geometry/operatorsWorkerConnection.js"),Extent=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),Geometry=__webpack_require__("./node_modules/@arcgis/core/geometry/Geometry.js"),Multipoint=__webpack_require__("./node_modules/@arcgis/core/geometry/Multipoint.js"),Point=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js"),Polygon=__webpack_require__("./node_modules/@arcgis/core/geometry/Polygon.js"),Polyline=__webpack_require__("./node_modules/@arcgis/core/geometry/Polyline.js"),jsonUtils=__webpack_require__("./node_modules/@arcgis/core/geometry/support/jsonUtils.js"),Portal=__webpack_require__("./node_modules/@arcgis/core/portal/Portal.js"),core_kernel=__webpack_require__("./node_modules/@arcgis/core/kernel.js"),request=__webpack_require__("./node_modules/@arcgis/core/request.js");async function utils_r(r,t,s){const u=core_kernel.id?.findCredential(r.restUrl);if(!u)return null;if("loaded"===r.loadStatus&&""===t&&r.user?.sourceJSON&&!1===s)return r.user.sourceJSON;const o={responseType:"json",query:{f:"json"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),""===t){const e=await(0,request.A)(r.restUrl+"/community/self",o);if(e.data){const n=e.data;if(n?.username)return n}return null}const i=await(0,request.A)(r.restUrl+"/community/users/"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}var guards=__webpack_require__("./node_modules/@arcgis/core/support/guards.js");function M(n){if(null==n)return n;switch(typeof n){case"string":case"number":return n;default:throw new executionError.D$(null,executionError.TX.InvalidParameter,null)}}function T(T){"async"===T.mode&&(T.functions.disjoint=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null===a[0]||null===a[1]||(0,operatorsWorkerConnection.C)("disjoint",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.intersects=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("intersects",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.touches=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("touches",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.crosses=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("crosses",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.within=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("within",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.contains=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("contains",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.overlaps=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null!==a[0]&&null!==a[1]&&(0,operatorsWorkerConnection.C)("overlaps",[a[0].toJSON(),a[1].toJSON()]))))},T.functions.equals=function(n,t){return T.standardFunctionAsync(n,t,((e,r,a)=>((0,languageUtils.D)(a,2,2,n,t),a[0]===a[1]||(a[0]instanceof Geometry.A&&a[1]instanceof Geometry.A?(0,operatorsWorkerConnection.C)("equals",[a[0].toJSON(),a[1].toJSON()]):((0,languageUtils.g)(a[0])&&(0,languageUtils.g)(a[1])||!!((0,languageUtils.k)(a[0])&&(0,languageUtils.k)(a[1])||(0,languageUtils.j)(a[0])&&(0,languageUtils.j)(a[1])))&&a[0].equals(a[1])))))},T.functions.relate=function(n,t){return T.standardFunctionAsync(n,t,((a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,3,3,n,t),c[0]instanceof Geometry.A&&c[1]instanceof Geometry.A)return(0,operatorsWorkerConnection.C)("relate",[c[0].toJSON(),c[1].toJSON(),(0,languageUtils.f)(c[2])]);if(c[0]instanceof Geometry.A&&null===c[1])return!1;if(c[1]instanceof Geometry.A&&null===c[0])return!1;if(null===c[0]&&null===c[1])return!1;throw new executionError.D$(n,executionError.TX.InvalidParameter,t)}))},T.functions.intersection=function(n,t){return T.standardFunctionAsync(n,t,(async(e,r,a)=>(a=(0,languageUtils.E)(a),(0,functions.ZL)(a,n,t),null===a[0]||null===a[1]?null:(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("intersection",[a[0].toJSON(),a[1].toJSON()])))))},T.functions.union=function(n,t){return T.standardFunctionAsync(n,t,(async(o,s,c)=>{if(0===(c=(0,languageUtils.E)(c)).length)throw new executionError.D$(n,executionError.TX.WrongNumberOfParameters,t);const l=[];if(1===c.length)if((0,guards.cy)(c[0])){for(const a of(0,languageUtils.E)(c[0]))if(null!==a){if(!(a instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);l.push(a.toJSON())}}else{if(!(0,languageUtils.m)(c[0])){if(c[0]instanceof Geometry.A)return(0,languageUtils.u)((0,kernel.Yq)(c[0]),n.spatialReference);if(null===c[0])return null;throw new executionError.D$(n,executionError.TX.InvalidParameter,t)}for(const a of(0,languageUtils.E)(c[0].toArray()))if(null!==a){if(!(a instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);l.push(a.toJSON())}}else for(const a of c)if(null!==a){if(!(a instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);l.push(a.toJSON())}return 0===l.length?null:(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("union",[l]))}))},T.functions.difference=function(n,t){return T.standardFunctionAsync(n,t,(async(e,r,o)=>(o=(0,languageUtils.E)(o),(0,functions.ZL)(o,n,t),null===o[0]?null:null===o[1]?(0,kernel.Yq)(o[0]):(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("difference",[o[0].toJSON(),o[1].toJSON()])))))},T.functions.symmetricdifference=function(n,t){return T.standardFunctionAsync(n,t,(async(e,r,o)=>(o=(0,languageUtils.E)(o),(0,functions.ZL)(o,n,t),null===o[0]&&null===o[1]?null:null===o[0]?(0,kernel.Yq)(o[1]):null===o[1]?(0,kernel.Yq)(o[0]):(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("symmetricDifference",[o[0].toJSON(),o[1].toJSON()])))))},T.functions.clip=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,2,n,t),!(c[1]instanceof Extent.default)&&null!==c[1])throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return null===c[1]?null:(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("clip",[c[0].toJSON(),c[1].toJSON()]))}))},T.functions.cut=function(n,t){return T.standardFunctionAsync(n,t,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,2,2,n,t),!(l[1]instanceof Polyline.A)&&null!==l[1])throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(null===l[0])return[];if(!(l[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return null===l[1]?[(0,kernel.Yq)(l[0])]:(await(0,operatorsWorkerConnection.C)("cut",[l[0].toJSON(),l[1].toJSON()])).map((n=>(0,jsonUtils.rS)(n)))}))},T.functions.area=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if((0,languageUtils.D)(c,1,2,n,t),c=(0,languageUtils.E)(c),(0,languageUtils.p)(c[0])){const a=await c[0].sumArea(M(c[1]),!1,n.abortSignal);if(n.abortSignal.aborted)throw new executionError.D$(n,executionError.TX.Cancelled,t);return a}let l=c[0];if(((0,guards.cy)(l)||(0,languageUtils.m)(l))&&(l=(0,languageUtils.F)(c[0],n.spatialReference)),null===l)return 0;if(!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("area",[l.toJSON(),M(c[1])])}))},T.functions.areageodetic=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if((0,languageUtils.D)(c,1,2,n,t),c=(0,languageUtils.E)(c),(0,languageUtils.p)(c[0])){const a=await c[0].sumArea(M(c[1]),!0,n.abortSignal);if(n.abortSignal.aborted)throw new executionError.D$(n,executionError.TX.Cancelled,t);return a}let l=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(l=(0,languageUtils.F)(c[0],n.spatialReference)),null===l)return 0;if(!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("geodeticArea",[l.toJSON(),M(c[1])])}))},T.functions.length=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if((0,languageUtils.D)(c,1,2,n,t),c=(0,languageUtils.E)(c),(0,languageUtils.p)(c[0])){const a=await c[0].sumLength(M(c[1]),!1,n.abortSignal);if(n.abortSignal.aborted)throw new executionError.D$(n,executionError.TX.Cancelled,t);return a}let l=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(l=(0,languageUtils.G)(c[0],n.spatialReference)),null===l)return 0;if(!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("length",[l.toJSON(),M(c[1])])}))},T.functions.length3d=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if((0,languageUtils.D)(c,1,2,n,t),null===(c=(0,languageUtils.E)(c))[0])return 0;let l=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(l=(0,languageUtils.G)(c[0],n.spatialReference)),null===l)return 0;if(!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(!0===l.hasZ){const{convertFromSpatialReferenceUnit:n,toLengthUnit:t}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/arcade/geometry/unitConversion.js")),e=(0,functions.UI)(l);return n(l.spatialReference,t(c[1]),e)}return(0,operatorsWorkerConnection.C)("length",[l.toJSON(),M(c[1])])}))},T.functions.lengthgeodetic=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if((0,languageUtils.D)(c,1,2,n,t),c=(0,languageUtils.E)(c),(0,languageUtils.p)(c[0])){const a=await c[0].sumLength(M(c[1]),!0,n.abortSignal);if(n.abortSignal.aborted)throw new executionError.D$(n,executionError.TX.Cancelled,t);return a}let l=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(l=(0,languageUtils.G)(c[0],n.spatialReference)),null===l)return 0;if(!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("geodeticLength",[l.toJSON(),M(c[1])])}))},T.functions.distance=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,3,n,t);let l=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(l=(0,languageUtils.H)(c[0],n.spatialReference)),!(l instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);let u=c[1];if(((0,guards.cy)(c[1])||(0,languageUtils.m)(c[1]))&&(u=(0,languageUtils.H)(c[1],n.spatialReference)),!(u instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("distance",[l.toJSON(),u.toJSON(),M(c[2])])}))},T.functions.distancegeodetic=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,3,n,t);const l=c[0];if(!(l instanceof Point.default))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const u=c[1];if(!(u instanceof Point.default))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const f=new Polyline.A({paths:[],spatialReference:l.spatialReference});return f.addPath([l,u]),(0,operatorsWorkerConnection.C)("geodeticLength",[f.toJSON(),M(c[2])])}))},T.functions.densify=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,3,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const l=(0,languageUtils.t)(c[1]);if(isNaN(l))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(l<=0)throw new executionError.D$(n,executionError.TX.InvalidParameter,t);switch(c[0].type){case"polygon":case"polyline":case"extent":return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("densify",[c[0].toJSON(),l,M(c[2])]));default:return c[0]}}))},T.functions.densifygeodetic=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,3,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const l=(0,languageUtils.t)(c[1]);if(isNaN(l))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(l<=0)throw new executionError.D$(n,executionError.TX.InvalidParameter,t);switch(c[0].type){case"polygon":case"polyline":case"extent":return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("geodeticDensify",[c[0].toJSON(),l,M(c[2])]));default:return c[0]}}))},T.functions.generalize=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,4,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const l=(0,languageUtils.t)(c[1]);if(isNaN(l))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const u=(0,languageUtils.e)((0,languageUtils.J)(c[2],!0));return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("generalize",[c[0].toJSON(),l,M(c[3]),{removeDegenerateParts:u}]))}))},T.functions.buffer=function(n,t){return T.standardFunctionAsync(n,t,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,2,3,n,t),null===l[0])return null;if(!(l[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const u=(0,languageUtils.t)(l[1]);if(isNaN(u))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return 0===u?(0,kernel.Yq)(l[0]):(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("buffer",[l[0].toJSON(),u,M(l[2])]))}))},T.functions.buffergeodetic=function(n,t){return T.standardFunctionAsync(n,t,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,2,3,n,t),null===l[0])return null;if(!(l[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const u=(0,languageUtils.t)(l[1]);if(isNaN(u))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return 0===u?(0,kernel.Yq)(l[0]):(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("geodesicBuffer",[l[0].toJSON(),u,M(l[2])]))}))},T.functions.offset=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,6,n,t),null===c[0])return null;if(!(c[0]instanceof Polygon.A||c[0]instanceof Polyline.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const l=(0,languageUtils.t)(c[1]);if(isNaN(l))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const f=(0,languageUtils.f)(c[3]??"round").toLowerCase();let d;switch(f){case"round":case"bevel":case"miter":case"square":d=f;break;default:d="round"}const w=(0,languageUtils.t)((0,languageUtils.J)(c[4],10));if(isNaN(w))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const m=(0,languageUtils.t)((0,languageUtils.J)(c[5],0));if(isNaN(m))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("offset",[c[0].toJSON(),l,M(c[2]),{joins:d,miterLimit:w,flattenError:m}]))}))},T.functions.rotate=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,2,3,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const l=c[0]instanceof Extent.default?Polygon.A.fromExtent(c[0]):c[0],u=(0,languageUtils.t)(c[1]);if(isNaN(u))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);const f=(0,languageUtils.J)(c[2],null);if(null===f){const n="point"===l.type?l:l.extent?.center;return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("rotate",[l.toJSON(),u,n?.x,n?.y]))}if(f instanceof Point.default)return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("rotate",[l.toJSON(),u,f.x,f.y]));throw new executionError.D$(n,executionError.TX.InvalidParameter,t)}))},T.functions.centroid=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,1,2,n,t),null===c[0])return null;const l=(0,languageUtils.f)(c[1]??"geometric").toLowerCase();if("geometric"!==l&&"labelpoint"!==l)throw new executionError.D$(n,executionError.TX.InvalidParameter,t);let d=c[0];if(((0,guards.cy)(c[0])||(0,languageUtils.m)(c[0]))&&(d="geometric"===l?(0,languageUtils.H)(c[0],n.spatialReference):(0,languageUtils.F)(c[0],n.spatialReference),null===d))return null;if(!(d instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,jsonUtils.rS)("geometric"===l?await(0,operatorsWorkerConnection.C)("centroid",[d.toJSON()]):await(0,operatorsWorkerConnection.C)("labelPoint",[d.toJSON()]))}))},T.functions.measuretocoordinate=function(n,t){return T.standardFunctionAsync(n,t,functions.Cd)},T.functions.pointtocoordinate=function(n,t){return T.standardFunctionAsync(n,t,functions.kr)},T.functions.distancetocoordinate=function(n,t){return T.standardFunctionAsync(n,t,functions.Bn)},T.functions.multiparttosinglepart=function(n,t){return T.standardFunctionAsync(n,t,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,1,1,n,t),null===l[0])return null;if(!(l[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);if(l[0]instanceof Point.default)return[(0,languageUtils.u)((0,kernel.Yq)(l[0]),n.spatialReference)];if(l[0]instanceof Extent.default)return[(0,languageUtils.u)((0,kernel.Yq)(l[0]),n.spatialReference)];const u=(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("simplify",[l[0].toJSON()]));if(u instanceof Polygon.A){const n=[],t=[];for(let e=0;e<u.rings.length;e++)if(u.isClockwise(u.rings[e])){const t=(0,jsonUtils.rS)({rings:[u.rings[e]],hasZ:!0===u.hasZ,hasM:!0===u.hasM,spatialReference:u.spatialReference.toJSON()});n.push(t)}else t.push({ring:u.rings[e],pt:u.getPoint(e,0)});for(let e=0;e<t.length;e++)for(let r=0;r<n.length;r++)if(n[r].contains(t[e].pt)){n[r].addRing(t[e].ring);break}return n}if(u instanceof Polyline.A){const n=[];for(let t=0;t<u.paths.length;t++){const e=(0,jsonUtils.rS)({paths:[u.paths[t]],hasZ:!0===u.hasZ,hasM:!0===u.hasM,spatialReference:u.spatialReference.toJSON()});n.push(e)}return n}if(l[0]instanceof Multipoint.A){const t=[],e=(0,languageUtils.u)((0,kernel.Yq)(l[0]),n.spatialReference);for(let n=0;n<e.points.length;n++)t.push(e.getPoint(n));return t}return null}))},T.functions.issimple=function(n,t){return T.standardFunctionAsync(n,t,((a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,1,1,n,t),null===c[0])return!0;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,operatorsWorkerConnection.C)("isSimple",[c[0].toJSON()])}))},T.functions.simplify=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,1,1,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("simplify",[c[0].toJSON()]))}))},T.functions.convexhull=function(n,t){return T.standardFunctionAsync(n,t,(async(a,s,c)=>{if(c=(0,languageUtils.E)(c),(0,languageUtils.D)(c,1,1,n,t),null===c[0])return null;if(!(c[0]instanceof Geometry.A))throw new executionError.D$(n,executionError.TX.InvalidParameter,t);return(0,jsonUtils.rS)(await(0,operatorsWorkerConnection.C)("convexHull",[c[0].toJSON()]))}))},T.functions.getuser=function(a,i){return T.standardFunctionAsync(a,i,(async(s,c,l)=>{(0,languageUtils.D)(l,0,2,a,i);let f=(0,languageUtils.J)(l[1],""),d=!0===f;if(f=!0===f||!1===f?"":(0,languageUtils.f)(f),0===l.length||l[0]instanceof ArcadePortal.A){let n;n=a.services?.portal?a.services.portal:Portal.A.getDefault(),l.length>0&&(n=(0,portalUtils.R)(l[0],n));const e=await utils_r(n,f,d);if(e){const n=JSON.parse(JSON.stringify(e));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return Dictionary.A.convertObjectToArcadeDictionary(n,(0,languageUtils.K)(a))}return null}let m=null;if((0,languageUtils.p)(l[0])&&(m=l[0]),m){if(d=!1,f)return null;await m.load();const e=await m.getOwningSystemUrl();if(!e){if(!f){const n=await m.getIdentityUser();return n?Dictionary.A.convertObjectToArcadeDictionary({username:n},(0,languageUtils.K)(a)):null}return null}let r;r=a.services?.portal?a.services.portal:Portal.A.getDefault(),r=(0,portalUtils.R)(new ArcadePortal.A(e),r);const i=await utils_r(r,f,d);if(i){const n=JSON.parse(JSON.stringify(i));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return Dictionary.A.convertObjectToArcadeDictionary(n,(0,languageUtils.K)(a))}return null}throw new executionError.D$(a,executionError.TX.InvalidParameter,i)}))},T.functions.nearestcoordinate=function(n,a){return T.standardFunctionAsync(n,a,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,2,2,n,a),!(l[0]instanceof Geometry.A||null===l[0]))throw new executionError.D$(n,executionError.TX.InvalidParameter,a);if(!(l[1]instanceof Point.default||null===l[1]))throw new executionError.D$(n,executionError.TX.InvalidParameter,a);if(null===l[0]||null===l[1])return null;const u=l[0]instanceof Extent.default?Polygon.A.fromExtent(l[0]):l[0],f=await(0,operatorsWorkerConnection.C)("getNearestCoordinate",[u.toJSON(),l[1].toJSON(),{calculateLeftRightSide:!0}]);return null===f?null:Dictionary.A.convertObjectToArcadeDictionary({coordinate:(0,jsonUtils.rS)(f.coordinate),distance:f.distance,sideOfLine:0===f.distance?"straddle":f.rightSide?"right":"left"},(0,languageUtils.K)(n),!1,!0)}))},T.functions.nearestvertex=function(n,a){return T.standardFunctionAsync(n,a,(async(s,c,l)=>{if(l=(0,languageUtils.E)(l),(0,languageUtils.D)(l,2,2,n,a),!(l[0]instanceof Geometry.A||null===l[0]))throw new executionError.D$(n,executionError.TX.InvalidParameter,a);if(!(l[1]instanceof Point.default||null===l[1]))throw new executionError.D$(n,executionError.TX.InvalidParameter,a);if(null===l[0]||null===l[1])return null;const u=l[0]instanceof Extent.default?Polygon.A.fromExtent(l[0]):l[0],f=await(0,operatorsWorkerConnection.C)("getNearestVertex",[u.toJSON(),l[1].toJSON()]);return null===f?null:Dictionary.A.convertObjectToArcadeDictionary({coordinate:(0,jsonUtils.rS)(f.coordinate),distance:f.distance,sideOfLine:0===f.distance?"straddle":f.rightSide?"right":"left"},(0,languageUtils.K)(n),!1,!0)}))})}},"./node_modules/@arcgis/core/arcade/geometry/operatorsWorkerConnection.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>a});var _core_workers_workers_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/workers/workers.js");let e,o,t=!1;function n(){return e??=(0,_core_workers_workers_js__WEBPACK_IMPORTED_MODULE_0__.ho)("arcadeGeometryOperatorsWorker").then((r=>{o=r,t=!0,e=void 0}))}async function a(r,e){return t?o.apply("invokeGeometryOp",[r,e]):(await n(),a(r,e))}},"./node_modules/@arcgis/core/arcade/portalUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>l});var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/portal/Portal.js");function l(l,t){return null===l?t:new _portal_Portal_js__WEBPACK_IMPORTED_MODULE_0__.A({url:l.field("url")})}}}]);