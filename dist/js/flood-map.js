/*! For license information please see flood-map.js.LICENSE.txt */
!function(){var t,e,n,r,o={121:function(t,e,n){const r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n.g&&n.g,o=function(){try{new r.Event("")}catch(t){return!0}return!1}(),i=function(){try{new r.EventTarget}catch(t){return!0}return!1}();o&&(r.Event=function(t,e){this.bubbles=!!e&&!!e.bubbles,this.cancelable=!!e&&!!e.cancelable,this.composed=!!e&&!!e.composed,this.type=t}),i&&(r.EventTarget=function(){function t(){this.__listeners=new Map}return t.prototype=Object.create(Object.prototype),t.prototype.addEventListener=function(t,e,n){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const r=this.__listeners,o=t.toString();r.has(o)||r.set(o,new Map);const i=r.get(o);i.has(e)||i.set(e,n)},t.prototype.removeEventListener=function(t,e,n){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const r=this.__listeners,o=t.toString();if(r.has(o)){const t=r.get(o);t.has(e)&&t.delete(e)}},t.prototype.dispatchEvent=function(t){if(!(t instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");const e=t.type,n=this.__listeners.get(e);if(n)for(var r of n.entries()){const e=r[0],o=r[1];try{"function"==typeof e?e.call(this,t):e&&"function"==typeof e.handleEvent&&e.handleEvent(t)}catch(t){setTimeout((()=>{throw t}))}o&&o.once&&n.delete(e)}return!0},t}())},255:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{R:function(){return i}});var o=function(t){if(!window.WebGLRenderingContext)return{isEnabled:!1,error:"WebGL is not supported"};var e,n=document.createElement("canvas"),o=!1,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;try{if((o=n.getContext(a))&&"function"==typeof o.getParameter)return{isEnabled:!0}}catch(t){}}}catch(t){i.e(t)}finally{i.f()}return{isEnabled:!1,error:"WebGL is supported, but disabled"}},i={default:{isLatest:!!window.globalThis,getDevice:function(){var t=o(["webgl2","webgl1"]),e=document.documentMode;return{isSupported:t.isEnabled,error:e?"Internet Explorer is not supported":t.error}}},esri:{getDevice:function(){var t=o(["webgl2"]),e=Array.prototype.findLast?{isSupported:!0}:{isSupported:!1,error:"Array.prototype.findLast() is not supported"};return{isSupported:t.isEnabled&&e.isSupported,error:e.error||t.error}}}}},325:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Pt:function(){return l},SD:function(){return s},ar:function(){return a},hL:function(){return c},z_:function(){return u}});var o="data-fm-page",i="aria-hidden",a=function(){var t,e=null===(t=document.querySelector("[".concat(o,"]")))||void 0===t?void 0:t.getAttribute(o);document.documentElement.classList.toggle("fm-page",!!e);var n=document.title.split(": "),r=n[n.length-1];document.title=e?"".concat(e,": ").concat(r):r},c=function(t){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw a}}}}(document.querySelectorAll("[data-fm-inert]"));try{for(n.s();!(e=n.n()).done;){var a=e.value;a.removeAttribute(i),a.removeAttribute("data-fm-inert")}}catch(t){n.e(t)}finally{n.f()}var c=function(t){var e,n,r,i=!!document.querySelector("[".concat(o,"]")),a=document.querySelector("[".concat(o,"]"))||(null==t?void 0:t.closest("[data-fm-container]")),c=null===(e=a)||void 0===e?void 0:e.querySelector('[aria-modal="true"][open]'),u=null===(n=c)||void 0===n?void 0:n.contains(t),s=null===(r=a)||void 0===r?void 0:r.contains(t);return a=i&&a,(c=(i||s)&&u&&c)||a}(t||document.activeElement);if(c)for(;c.parentNode&&c!==document.body;){for(var u=c.parentNode.firstChild;u;)1!==u.nodeType||u===c||u.hasAttribute(i)||(u.setAttribute(i,!0),u.setAttribute("data-fm-inert","")),u=u.nextSibling;c=c.parentNode}},u=function(){var t,e,n=document.activeElement,r=!!document.querySelector("[".concat(o,"]")),i=document.querySelector("[".concat(o,"]"))||(null===(t=n)||void 0===t?void 0:t.closest("[data-fm-container]")),a=null==i?void 0:i.querySelector('[aria-modal="true"][open]'),c=null===(e=a)||void 0===e?void 0:e.contains(n),u=null==i?void 0:i.contains(n);a=(r||u)&&a&&!c&&a;var s=r&&!u&&i.querySelector("[data-fm-viewport]");(n=a||s)&&n.focus()},s=function(t){if("Tab"===t.key){var e=document.activeElement.closest('[aria-modal="true"][open], ['.concat(o,"]"));if(e){var n=Array.from(e.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(","))),r=(n=n.filter((function(t){return!!t.offsetParent})))[0],i=n[n.length-1];!t.shiftKey||document.activeElement!==e&&document.activeElement!==r||(i.focus(),t.preventDefault()),t.shiftKey||document.activeElement!==i||(r.focus(),t.preventDefault())}}},l=function(t,e){var n=document.querySelectorAll("input, button, select, textarea, a[href]"),r=Array.prototype.filter.call(n,(function(t){return t.tabIndex>="0"})),o=r.indexOf(t);return r["next"===e?o+1:o-1]||r[0]}},384:function(t,e,n){"use strict";n.d(e,{Ft:function(){return o},UM:function(){return i},oU:function(){return a},oz:function(){return r}});var r=function(t){try{return JSON.parse(t)}catch(e){return t}},o=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},i=function(t){return{default:"0 0",dark:"0 -120px",aerial:"0 -240px",deuteranopia:"0 -360px",tritanopia:"0 -480px"}[t]},a=function(t,e){var n=null==t?void 0:t.replace(/\s/g,"").split(",").map((function(t){return t.includes(":")?t:"default:".concat(t)}));return null!=n&&n.length?(n.find((function(t){return t.includes(e)}))||n[0]).split(":")[1]:null}},566:function(t,e,n){"use strict";n.d(e,{AZ:function(){return r},FB:function(){return c},Lc:function(){return u},NT:function(){return o},W0:function(){return a},WD:function(){return i},Yl:function(){return s},yX:function(){return l}});var r={READY:"ready",CHANGE:"change",QUERY:"query",ACTION:"action",APP_READY:"appready",APP_CHANGE:"appchange",APP_QUERY:"appquery",APP_ACTION:"appaction",SET_SEARCH:"setsearch",SET_INFO:"setinfo",SET_SELECTED:"setselected",SET_BANNER:"setbanner",SET_INTERFACE_TYPE:"setinterfacetype",MAP_QUERY:"mapquery",MAP_CLICK:"mapclick",MAP_LOAD:"load",MAP_STYLE:"style"},o={CONTAINER_TYPE:"buttonFirst",PANEL_POSITION:"overlayRight",MIN_SEARCH_LENGTH:3,STYLES:["default","dark","aerial","deuteranopia","tritanopia"],MAX_BOUNDS_4326:[-7.57216793459,49.959999905,1.68153079591,58.6350001085],MAX_BOUNDS_27700:[167161,13123,670003,663805]},i={legend:{TITLE:"Legend",PATH:"M9.125 5V3h9v2h-9zm0 6V9h9v2h-9zm0 6v-2h9v2h-9zm-3-9v4h-4V8h4zm0-6v4h-4V2h4zm0 12v4h-4v-4h4z"},layers:{TITLE:"Layers",PATH:"M10 1l10 7-10 7L0 8l10-7zm0 2.441L3.488 8 10 12.559 16.512 8 10 3.441zm8.256 7.338L20 12l-10 7-10-7 1.744-1.221L10 16.559l8.256-5.78z"},menu:{TITLE:"Menu",PATH:"M10 .75c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25S.75 15.105.75 10 4.895.75 10 .75zm0 1.5c-4.277 0-7.75 3.473-7.75 7.75s3.473 7.75 7.75 7.75 7.75-3.473 7.75-7.75S14.277 2.25 10 2.25zm3.356 5.565L14.77 9.23 10 14 5.23 9.23l1.414-1.415L10 11.172l3.356-3.357z"}},a={breakpoints:{MAX_MOBILE:"640px",MIN_DESKTOP:"835px"},container:{buttonFirst:{CLASS:"fm-button-first"},hybrid:{CLASS:"fm-hybrid",HEIGHT:"600px"},inline:{CLASS:"fm-inline",HEIGHT:"600px"}},params:{view:"view",centerZoom:"cz",segments:"seg",layers:"lyr"}},c={drag:2,pan:{ARROWLEFT:[-100,0],ARROWRIGHT:[100,0],ARROWUP:[0,-100],ARROWDOWN:[0,100]},shiftPan:{ARROWLEFT:[-5,0],ARROWRIGHT:[5,0],ARROWUP:[0,-5],ARROWDOWN:[0,5]}},u={TOP:90,BOTTOM:15,LEFT:70},s=[{id:"edit",name:"Edit",path:"M11.298 4.666l3.536 3.536-7.071 7.071-3.536-3.536 7.071-7.071zm2.475-2.475a1.5 1.5 0 0 1 2.121 0l1.415 1.415a1.5 1.5 0 0 1 0 2.121l-1.768 1.768-3.536-3.536 1.768-1.768zM3.52 12.444l3.536 3.536-5.304 1.768 1.768-5.304z"},{id:"delete",name:"Delete",path:"M3 5.963H2V3.989h4V2h8v1.989h4v1.974h-.956V18H3V5.963zm12 0H5.044v10.063H15V5.963zm-8.547 1.04l1-.006.047 8-1 .006-.047-8zm3.024 0l1-.006.046 8-1 .006-.046-8zm3 0l1-.006.046 8-1 .006-.046-8z"}],l=[{id:"square",name:"Square",drawMode:"frame",path:"M18.002 18H2.001V2h16.001v16zM16.001 4H4.002v12h11.999V4z"},{id:"circle",name:"Circle",drawMode:"frame",path:"M9.999 2c4.415 0 8.001 3.585 8.001 8.001s-3.585 7.999-8.001 7.999S2 14.416 2 10 5.583 2 9.999 2zm0 2C6.688 3.999 4 6.689 4 10s2.688 5.999 5.999 5.999S16 13.311 16 10s-2.69-6.001-6.001-6.001z"},{id:"line",name:"Line",drawMode:"vertex",path:"M5.979 15.455V18H2.06v-4h2.546l9.414-9.415V2h3.919v4h-2.505l-9.455 9.455z"},{id:"polygon",name:"Polygon",drawMode:"vertex",path:"M2.98 6h-.919V2H5.98v1h8.041V2h3.919v4h-.96v7.996h.96v4h-3.919V17H5.98v1H2.061v-4h.919V6zm3-1v1h-1v8h1v1h8.041v-1.004h.959V6h-.959V5H5.98z"},{id:"point",name:"Point",drawMode:"frame",path:"M11.322 4.762l.323-2.282 1.306-1.305 5.874 5.874-1.305 1.306-2.282.323-2.611 2.611.977 3.593-1.306 1.305-8.485-8.485 1.305-1.306 3.593.977 2.611-2.611zm-2.91 8.953L.277 19.723l6.014-8.129 2.121 2.121z"}]},899:function(t,e){"use strict";var n={on:function(t,e,n){t.addEventListener(e,(function(t){return n(t.detail)}))},dispatch:function(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:n}))},remove:function(t,e,n){t.removeEventListener(e,n)}};e.A=n}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return o[t].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var c=2&r&&n;"object"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){i[t]=function(){return n[t]}}));return i.default=function(){return n},a.d(o,i),o},a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,n){return a.f[n](t,e),e}),[]))},a.u=function(t){return{163:"flood-map-geocode",194:"maplibre-draw",534:"flood-map-provider",689:"maplibre-legacy",803:"maplibre",835:"flood-map-ui"}[t]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n={},r="defra:",a.l=function(t,e,o,i){if(n[t])n[t].push(e);else{var c,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var f=s[l];if(f.getAttribute("src")==t||f.getAttribute("data-webpack")==r+o){c=f;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",r+o),c.src=t),n[t]=[e];var d=function(e,r){c.onerror=c.onload=null,clearTimeout(p);var o=n[t];if(delete n[t],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(r)})),e)return e(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),u&&document.head.appendChild(c)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t}(),function(){var t={68:0};a.f.j=function(e,n){var r=a.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,o){r=t[e]=[n,o]}));n.push(r[2]=o);var i=a.p+a.u(e),c=new Error;a.l(i,(function(n){if(a.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,r[1](c)}}),"chunk-"+e,e)}};var e=function(e,n){var r,o,i=n[0],c=n[1],u=n[2],s=0;if(i.some((function(e){return 0!==t[e]}))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);u&&u(a)}for(e&&e(n);s<i.length;s++)o=i[s],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkdefra=self.webpackChunkdefra||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var c={};!function(){"use strict";a.r(c),a.d(c,{FloodMap:function(){return T}});var t=a(566),e=a(255),n=a(384),r=a(325),o=a(899);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new M(r||[]);return o(a,"_invoke",{value:P(t,n,c)}),a}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function E(){}function w(){}var _={};f(_,c,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(C([])));T&&T!==n&&r.call(T,c)&&(_=T);var S=w.prototype=g.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(o,a,c,u){var s=p(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):e.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return n("throw",t,c,u)}))}u(s.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,n,r){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=p(e,n,r);if("normal"===s.type){if(o=r.done?m:v,s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(i(e)+" is not iterable")}return E.prototype=w,o(S,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:E,configurable:!0}),E.displayName=f(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===E||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(L.prototype),f(L.prototype,s,(function(){return this})),e.AsyncIterator=L,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new L(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(S),f(S,l,"Generator"),f(S,c,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function s(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function p(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(v())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&y(o,n.prototype),o}(t,arguments,m(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,t)},h(t)}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t){var e=function(t){if("object"!=i(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==i(e)?e:e+""}a(121);var E=window,w=E.location,_=E.history,A="fm-u-focus-visible",T=function(i){function c(e){var i,a,u,s,l,d,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behaviour:"buttonFirst"},y=arguments.length>2?arguments[2]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s=this,l=m(l=c),b(u=p(s,v()?Reflect.construct(l,[],m(s).constructor):l.apply(s,d)),"_search",void 0),b(u,"_info",void 0),b(u,"_selected",void 0),b(u,"_banner",void 0);var g=document.getElementById(e);u.el=g,null!==(i=h.framework)&&void 0!==i||(h.framework="default");var E=u._testDevice(h);if(!E.isSupported)return u._renderError("Your device is not supported. A map is available with a more up-to-date browser or device."),document.body.classList.remove("fm-js-hidden"),document.body.setAttribute("data-fm-error",""),E.error&&console.log(E.error),p(u);var w=f({},null===(a=u.el)||void 0===a?void 0:a.dataset);Object.keys(w).forEach((function(t){w[t]=(0,n.oz)(w[t])}));var _=document.getElementById((null==w?void 0:w.container)||(null==h?void 0:h.container)||e),T=f(f({id:e,parent:_,title:document.title},h),w);u.props=T,u.callBack=y,u.id=e,u.root=null;var S=T.maxMobile,O=window.matchMedia("(max-width: ".concat(S||t.W0.breakpoints.MAX_MOBILE,")"));return u.searchParams=new URLSearchParams(document.location.search),u._handleMobileMQ(O),u.isVisible&&u._importComponent(),u.handleFocusIn=function(t){"keyboard"===u.interfaceType&&t.target.classList.add(A)},g.addEventListener("focusin",u.handleFocusIn),u.handleFocusOut=function(t){t.target.classList.remove(A)},g.addEventListener("focusout",u.handleFocusOut),["buttonFirst","hybrid"].includes(h.behaviour)&&(u._insertButtonHTML(),u.isVisible||document.body.classList.remove("fm-js-hidden")),u.props.handleExit=u._handleExit.bind(u),O.addEventListener("change",(function(){u._handleMobileMQ(O),u.isVisible?u._importComponent():u._removeComponent()})),window.addEventListener("popstate",u._handlePopstate.bind(u)),window.addEventListener("focus",(function(){(0,r.z_)()})),window.addEventListener("keydown",u._handleKeydown.bind(u),!0),window.addEventListener("touchstart",u._handleTouchstart.bind(u),!0),window.addEventListener("pointerdown",u._handlePointerdown.bind(u)),window.addEventListener("wheel",u._handlePointerdown.bind(u)),o.A.on(_,t.AZ.APP_READY,(function(e){Object.assign(u,e.framework),u.modules=e.modules,u.isReady=!0,o.A.dispatch(u.props.parent,t.AZ.SET_INTERFACE_TYPE,u.interfaceType),o.A.dispatch(u,t.AZ.READY,f({type:"ready"},e)),u._info&&o.A.dispatch(u.props.parent,t.AZ.SET_INFO,u._info),u._selected&&o.A.dispatch(u.props.parent,t.AZ.SET_SELECTED,u._selected),u._banner&&o.A.dispatch(u.props.parent,t.AZ.SET_BANNER,u._banner)})),o.A.on(_,t.AZ.APP_CHANGE,(function(e){o.A.dispatch(u,t.AZ.CHANGE,e)})),o.A.on(_,t.AZ.APP_QUERY,(function(e){o.A.dispatch(u,t.AZ.QUERY,e)})),o.A.on(_,t.AZ.APP_ACTION,(function(e){o.A.dispatch(u,t.AZ.ACTION,e)})),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(c,i),l=c,h=[{key:"_testDevice",value:function(t){var n,r=(n=null==t?void 0:t.framework,e.R[n].getDevice()),o=r.isSupported,i=r.error,a=null==t||!t.deviceTestCallback||t.deviceTestCallback();return{isSupported:o&&a,error:i}}},{key:"_renderError",value:function(t){this.el.insertAdjacentHTML("beforebegin",'\n      <div class="fm-error">\n        <p class="fm-error__body">'.concat(t,"</p>\n      </div>\n    "))}},{key:"_insertButtonHTML",value:function(){var t=this.props,e=t.buttonText,n=t.buttonType;this.el.insertAdjacentHTML("beforebegin",'\n      <a href="'.concat(w.pathname,"?view=").concat(this.id,'" class="').concat("anchor"===n?"fm-c-btn-hyperlink":"fm-c-btn-tertiary",'" ').concat(this.isVisible?'style="display:none"':""," role=\"button\">\n          <svg focusable='false' aria-hidden='true' width='16' height='20' viewBox='0 0 16 20' fillRule='evenodd'><path d='M15 7.5c.009 3.778-4.229 9.665-7.5 12.5C4.229 17.165-.009 11.278 0 7.5a7.5 7.5 0 1 1 15 0z'/><path d='M7.5 12.961a5.46 5.46 0 1 0 0-10.922 5.46 5.46 0 1 0 0 10.922z' fill='#fff'/></svg><span>").concat(e||"Map view","</span>\n          <span class='fm-u-visually-hidden'>(Visual only)</span>\n      </a>\n    "));var r=this.el.previousElementSibling;r.addEventListener("click",this._handleClick.bind(this)),r.addEventListener("focusin",this.handleFocusIn),r.addEventListener("focusout",this.handleFocusOut),this.button=r}},{key:"_handleExit",value:function(){var e,n=this;if(null!==(e=_.state)&&void 0!==e&&e.isBack)_.back();else{this._removeComponent(),Object.keys(t.W0.params).forEach((function(e){return n.searchParams.delete(t.W0.params[e])}));var r=w.pathname+this.searchParams.toString();_.replaceState({isBack:!1},"",r)}}},{key:"_handleClick",value:function(t){t.preventDefault(),_.pushState({isBack:!0},"","".concat(t.target.getAttribute("href"))),this.button.setAttribute("data-fm-open",""),this._importComponent()}},{key:"_handleMobileMQ",value:function(t){var e=this.props.behaviour,n=new URLSearchParams(document.location.search).get("view")===this.id;this.isMobile=t.matches,this.isVisible=n||"inline"===e||"hybrid"===e&&!t.matches}},{key:"_handlePopstate",value:function(){var t,e=this.props.behaviour,n="buttonFirst"===e||"hybrid"===e&&this.isMobile;null!==(t=_.state)&&void 0!==t&&t.isBack?this._importComponent():n&&this._removeComponent()}},{key:"_handleKeydown",value:function(e){"Tab"===e.key&&(this.interfaceType="keyboard",o.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,"keyboard"))}},{key:"_handleTouchstart",value:function(){this.interfaceType="touch",o.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,"touch")}},{key:"_handlePointerdown",value:function(){o.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,null),document.activeElement.classList.remove(A),this.interfaceType=null}},{key:"_importComponent",value:(g=u().mark((function t(){var e,n,r=this;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this.button)||void 0===e||e.setAttribute("style","display: none"),(n=!!this.isLoaded)||!this.props.provider){t.next=6;break}return t.next=5,this.props.provider();case 5:this.props.provider=t.sent;case 6:if(n||this.props.provider){t.next=10;break}return t.next=9,a.e(534).then(a.bind(a,353));case 9:this.props.provider=t.sent.default;case 10:if(n||this.props.geocodeProvider){t.next=14;break}return t.next=13,a.e(163).then(a.bind(a,876));case 13:this.props.geocodeProvider=t.sent.default;case 14:if(n||this.props.reverseGeocodeProvider){t.next=18;break}return t.next=17,a.e(163).then(a.bind(a,475));case 17:this.props.reverseGeocodeProvider=t.sent.default;case 18:this.isLoaded=!0,a.e(835).then(a.bind(a,779)).then((function(t){var e=t.default;r._addComponent(e)})).catch((function(t){r._renderError("There was a problem loading the map. Please try again later"),console.log(t)}));case 20:case"end":return t.stop()}}),t,this)})),E=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=g.apply(t,e);function i(t){s(o,n,r,i,a,"next",t)}function a(t){s(o,n,r,i,a,"throw",t)}i(void 0)}))},function(){return E.apply(this,arguments)})},{key:"_addComponent",value:function(t){this.root||(this.root=t(this.el,f(f({},this.props),{},{callBack:this.callBack,interfaceType:this.interfaceType})))}},{key:"_removeComponent",value:function(){var t;this.button&&(this.button.removeAttribute("style"),this.button.removeAttribute("data-open"),this.button.focus(),null===(t=this.root)||void 0===t||t.unmount(),this.root=null,this._info=null,this._selected=null,this._banner=null,(0,r.ar)(),(0,r.hL)())}},{key:"setInfo",value:function(e){this._info=e,this.isReady&&o.A.dispatch(this.props.parent,t.AZ.SET_INFO,this._info)}},{key:"setSelected",value:function(e){this._selected=e,this.isReady&&o.A.dispatch(this.props.parent,t.AZ.SET_SELECTED,this._selected)}},{key:"setBanner",value:function(e){this._banner=e,this.isReady&&o.A.dispatch(this.props.parent,t.AZ.SET_BANNER,this._banner)}}],h&&d(l.prototype,h),Object.defineProperty(l,"prototype",{writable:!1}),l;var l,h,g,E}(h(EventTarget))}(),window.defra=c}();
//# sourceMappingURL=flood-map.js.map