"use strict";(self.webpackChunkdefraMap=self.webpackChunkdefraMap||[]).push([[2416],{9688:function(e,t,n){n.d(t,{lY:function(){return f},mT:function(){return d}});var r,a=n(50944),i=n(92955),s=n(3569);(r||(r={})).TimeZoneNotRecognized="TimeZoneNotRecognized";const o={[r.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class u extends Error{constructor(e,t){super((0,a.HC)(o[e],t)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,u)}}function l(e,t,n){return e<t?e-t:e>n?e-n:0}function c(e,t,n){return e<t?t:e>n?n:e}class f{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,t=1,n=1,r=0,a=0,i=0,o=0,u){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||isNaN(o))return null;const m=s.c9.local(e,t).daysInMonth;let h=s.c9.fromObject({day:c(n,1,m),year:e,month:c(t,1,12),hour:c(r,0,23),minute:c(a,0,59),second:c(i,0,59),millisecond:c(o,0,999)},{zone:d(u)});return h=h.plus({months:l(t,1,12),days:l(n,1,m),hours:l(r,0,23),minutes:l(a,0,59),seconds:l(i,0,59),milliseconds:l(o,0,999)}),new f(h)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,t){const n=d(t);return e.isUnknownTimeZone||n===i.GB.instance?f.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,n):new f(e._date.setZone(n))}static dateJSToArcadeDate(e){return new f(s.c9.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,t="system"){const n=d(t);return new f(s.c9.fromJSDate(e,{zone:n}))}static unknownEpochToArcadeDate(e){return new f(s.c9.fromMillis(e,{zone:i.GB.instance}))}static unknownDateJSToArcadeDate(e){return new f(s.c9.fromMillis(e.getTime(),{zone:i.GB.instance}))}static epochToArcadeDate(e,t="system"){const n=d(t);return new f(s.c9.fromMillis(e,{zone:n}))}static dateTimeToArcadeDate(e){return new f(e)}clone(){return new f(this._date)}changeTimeZone(e){const t=d(e);return f.dateTimeToArcadeDate(this._date.setZone(t))}static dateTimeAndZoneToArcadeDate(e,t){const n=d(t);return e.zone===i.GB.instance||n===i.GB.instance?f.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,n):new f(e.setZone(n))}static nowToArcadeDate(e){const t=d(e);return new f(s.c9.fromJSDate(new Date,{zone:t}))}static nowUTCToArcadeDate(){return new f(s.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===f.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===i.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const e=this.zone;return"fixed"===e.type?0===e.fixed?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new f(this._date.plus(e))}diff(e,t="milliseconds"){return this._date.diff(e._date,t)[t]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,t){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:t&&!this.isUnknownTimeZone})}toFormat(e,t){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,t)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new f(this._date.toUTC())}toLocal(){return new f(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const t=s.c9.fromISO(e,{setZone:!0});return new f(t)}}function d(e,t=!0){if(e instanceof s.bo)return e;if("system"===e.toLowerCase())return"system";if("utc"===e.toLowerCase())return"UTC";if("unknown"===e.toLowerCase())return i.GB.instance;if(/^[+-]?[0-9]{1,2}([:][0-9]{2})?$/.test(e)){const t=s.mQ.parseSpecifier("UTC"+(e.startsWith("+")||e.startsWith("-")?"":"+")+e);if(t)return t}const n=s.oh.create(e);if(!n.isValid){if(t)throw new u(r.TimeZoneNotRecognized);return null}return n}},3724:function(e,t,n){n.d(t,{D_:function(){return u},L8:function(){return o},Z7:function(){return r},dr:function(){return c}});var r,a,i=n(50944);(a=r||(r={})).InvalidFunctionParameters="InvalidFunctionParameters",a.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",a.UnsupportedSqlFunction="UnsupportedSqlFunction",a.UnsupportedOperator="UnsupportedOperator",a.UnsupportedSyntax="UnsupportedSyntax",a.UnsupportedIsRhs="UnsupportedIsRhs",a.UnsupportedIsLhs="UnsupportedIsLhs",a.InvalidDataType="InvalidDataType",a.CannotCastValue="CannotCastValue",a.FunctionNotRecognized="FunctionNotRecognized",a.InvalidTime="InvalidTime",a.InvalidParameterCount="InvalidParameterCount",a.InvalidTimeStamp="InvalidTimeStamp",a.InvalidDate="InvalidDate",a.InvalidOperator="InvalidOperator",a.IllegalInterval="IllegalInterval",a.YearMonthIntervals="YearMonthIntervals",a.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",a.MissingStatisticParameters="MissingStatisticParameters";const s={[r.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[r.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[r.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[r.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[r.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[r.UnsupportedOperator]:"Unsupported operator - {operator}",[r.UnsupportedSyntax]:"Unsupported syntax - {node}",[r.UnsupportedSqlFunction]:"Sql function not found = {function}",[r.InvalidDataType]:"Invalid sql data type",[r.InvalidDate]:"Invalid date encountered",[r.InvalidOperator]:"Invalid operator encountered",[r.InvalidTime]:"Invalid time encountered",[r.IllegalInterval]:"Illegal interval",[r.FunctionNotRecognized]:"Function not recognized",[r.InvalidTimeStamp]:"Invalid timestamp encountered",[r.InvalidParameterCount]:"Invalid parameter count for call to {name}",[r.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[r.YearMonthIntervals]:"Year-Month Intervals not supported",[r.CannotCastValue]:"Cannot cast value to the required data type"};class o extends Error{constructor(e,t){super((0,i.HC)(s[e],t)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,o)}}var u;!function(e){e.NeverReach="NeverReach",e.NotImplemented="NotImplemented",e.Cancelled="Cancelled",e.InvalidStatResponse="InvalidStatResponse",e.InvalidRequest="InvalidRequest",e.RequestFailed="RequestFailed",e.MissingFeatures="MissingFeatures",e.AggregationFieldNotFound="AggregationFieldNotFound",e.DataElementsNotFound="DataElementsNotFound"}(u||(u={}));const l={[u.Cancelled]:"Cancelled",[u.InvalidStatResponse]:"Invalid statistics response from service",[u.InvalidRequest]:"Invalid request",[u.RequestFailed]:"Request failed - {reason}",[u.MissingFeatures]:"Missing features",[u.AggregationFieldNotFound]:"Aggregation field not found",[u.DataElementsNotFound]:"Data elements not found on service",[u.NeverReach]:"Encountered unreachable logic",[u.NotImplemented]:"Not implemented"};class c extends Error{constructor(e,t){super((0,i.HC)(l[e],t)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,c)}}},80749:function(e,t,n){n.d(t,{Fq:function(){return u},SQ:function(){return s},Yc:function(){return i},Yq:function(){return o},uf:function(){return a}});var r=n(91484);function a(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function i(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r.default({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function s(e){if(null==e)return null;if("number"==typeof e)return e;let t=e.toLowerCase();switch(t=t.replaceAll(/\s/g,""),t=t.replaceAll("-",""),t){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function o(e){if(null==e)return null;const t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}function u(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},42042:function(e,t,n){n.d(t,{n:function(){return o}});var r=n(9688),a=n(22739),i=n(3569);function s(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const n=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of e.match(n)||[])switch(r){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=r;break;default:r.length>=2&&"["===r.slice(0,1)&&"]"===r.slice(-1)?t+=`'${r.slice(1,-1)}'`:t+=`'${r}'`}return t}class o{constructor(e,t,n){this._year=e,this._month=t,this._day=n,this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return e instanceof o&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new o(this._year,this._month,this._day)}toDateTime(e){return i.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toDateTimeLuxon(e){return i.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,t=!0){if(null===e||""===e)return this.toString();if(t&&(e=s(e)),!e)return"";const n=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(n).toFormat(e,{locale:(0,a.JK)(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return i.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const t=i.c9.fromMillis(e,{zone:i.mQ.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){const t=i.c9.fromSeconds(e,{zone:i.mQ.utcInstance});return t.isValid?o.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;const t=e.split("-");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,n){const r=new o(e,t,n);return!1===r.isValid?null:r}static fromDateJS(e){return o.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return o.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const n=[];if(t)(t=s(t))&&n.push(t);else if(null===t||""===t){const t=i.c9.fromISO(e,{setZone:!0});return t.isValid?o.fromParts(t.year,t.month,t.day):null}for(const r of n){const n=i.c9.fromFormat(e,t??r);if(n.isValid)return new o(n.year,n.month,n.day)}return null}static fromNow(e="system"){const t=i.c9.fromJSDate(new Date).setZone((0,r.mT)(e));return new o(t.year,t.month,t.day)}}},359:function(e,t,n){n.d(t,{g:function(){return i}});var r=n(3569);function a(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}class i{constructor(e){this._timeStampOffset=e,this._date=null}toDateTime(){return this._date??=r.c9.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return a(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return a(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return i.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new i(r.c9.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(e){return new i(e.toISO({includeOffset:!0}))}static fromParts(e,t,n=0,r=0,a=0,s=0,o=0,u=!1,l=0,c=0){const f=`${e.toString().padStart(4,"0")}-${t.toString().padStart(2,"0")}-${n.toString().padStart(2,"0")}`;let d="";s<10&&(d="0");let m=`${r.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${d+s.toString()}`;0!==o&&(m+="."+o.toString().padStart(3,"0"));const h=`${u?"-":"+"}${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`;return new i(f+"T"+m+h)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(e){const t=this.toDateTime().plus(e);return i.fromDateTime(t)}}},70891:function(e,t,n){n.d(t,{k:function(){return o}});var r=n(80749),a=n(22739),i=n(3569);function s(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let n="";for(const r of e.match(t)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":n+=r;break;case"A":case"a":n+="a";break;default:n+=`'${r}'`}return n}class o{constructor(e,t,n,r){this._hour=e,this._minute=t,this._second=n,this._millisecond=r,this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return e instanceof o&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new o(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,r.Fq)(this.hour)&&(0,r.Fq)(this.minute)&&(0,r.Fq)(this.second)&&(0,r.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return null===e||""===e?this.toString():(e=s(e))?i.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,a.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,t,n,r){const a=new o(e,t,n,r);return a.isValid()?a:null}static fromReader(e){if(!e)return null;const t=e.split(":");return 3!==t.length?null:new o(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),a=Math.floor(e%1e3);return new o(r,n,t,a)}static fromDateJS(e){return new o(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new o(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,t=null){if(""===e)return null;if(null===e)return null;const n=[];t?(t=s(t))&&n.push(t):null!==t&&""!==t||(n.push("HH:mm:ss"),n.push("HH:mm:ss.SSS"),n.push("hh:mm:ss a"),n.push("hh:mm:ss.SSS a"),n.push("HH:mm"),n.push("hh:mm a"),n.push("H:mm"),n.push("h:mm a"),n.push("H:mm:ss"),n.push("h:mm:ss a"),n.push("H:mm:ss.SSS"),n.push("h:mm:ss.SSS a"));for(const t of n){const n=i.c9.fromFormat(e,t);if(n.isValid)return new o(n.hour,n.minute,n.second,n.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return o.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return i.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},92955:function(e,t,n){n.d(t,{GB:function(){return a},Qo:function(){return s},Y4:function(){return i}});var r=n(3569);class a{}function i(e){return e instanceof r.bo?e===a.instance:"unknown"===e?.toString().toLowerCase()}function s(e){return i(e)?a.instance:e}a.instance=new r.oh("Etc/UTC")},34601:function(e,t,n){n.r(t),n.d(t,{WhereClause:function(){return de},defaultAttributeAdapter:function(){return Le}});var r=n(9688),a=n(3724),i=n(58941),s=n(42042),o=n(359),u=n(70891),l=n(3569);function c(e,t){const n=d[e.toLowerCase()];if(null==n)throw new a.L8(a.Z7.FunctionNotRecognized);if(t.length<n.minParams||t.length>n.maxParams)throw new a.L8(a.Z7.InvalidParameterCount,{name:e.toUpperCase()});return n.evaluate(t)}function f(e,t){const n=d[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}const d={min:{minParams:1,maxParams:1,evaluate:e=>p(e[0],"min")},max:{minParams:1,maxParams:1,evaluate:e=>p(e[0],"max")},avg:{minParams:1,maxParams:1,evaluate:e=>m(e[0])},sum:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;let t=0;for(let n=0;n<e.length;n++){const r=e[n];if(null!==r){if(!h(r))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);t+=r}}return t}(e[0])},stddev:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;const t=v(e);return null===t?null:Math.sqrt(t)}(e[0])},count:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].length},var:{minParams:1,maxParams:1,evaluate:e=>v(e[0])}};function m(e){if(null===e)return null;let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r];if(null!==i){if(!h(i))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);n++,t+=i}}return 0===n?null:t/e.length}function h(e){return"number"==typeof e}function p(e,t){if(null===e)return null;let n=null,r=null;for(const a of e){let e=a;e=a instanceof s.n||a instanceof u.k?a.toNumber():a instanceof l.c9?a.toMillis():a instanceof o.g?a.toMilliseconds():a,(null===n||"max"===t&&null!==r&&null!==e&&r<=e||"min"===t&&null!==r&&null!==e&&r>=e)&&(n=a,r=e)}return n}function v(e){if(null===e)return null;if(0===(e=e.filter((e=>null!==e))).length)return null;const t=m(e);if(null===t)return null;let n=0;for(const r of e){if(!h(r))throw new a.L8(a.Z7.InvalidValueForAggregateFunction);n+=(t-r)**2}return n/(e.length-1)}class w{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(e){if(null!==e.precision||null!==e.secondary)throw new a.L8(a.Z7.PrimarySecondaryQualifiers)}static _parseSecondsComponent(e,t){if(t.includes(".")){const n=t.split(".");e.second=parseFloat(n[0]),e.millis=parseInt(n[1],10)}else e.second=parseFloat(t)}static createFromMilliseconds(e){const t=new w;return t.second=e/1e3,t}static createFromValueAndQualifier(e,t,n){let r=null;const i=new w;if(i.op="-"===n?"-":"+","interval-period"===t.type){w._fixDefaults(t);const n=new RegExp("^[0-9]{1,}$");if("year"===t.period||"month"===t.period)throw new a.L8(a.Z7.YearMonthIntervals);if("second"===t.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new a.L8(a.Z7.IllegalInterval);w._parseSecondsComponent(i,e)}else{if(!n.test(e))throw new a.L8(a.Z7.IllegalInterval);i[t.period]=parseFloat(e)}}else{if(w._fixDefaults(t.start),w._fixDefaults(t.end),"year"===t.start.period||"month"===t.start.period||"year"===t.end.period||"month"===t.end.period)throw new a.L8(a.Z7.YearMonthIntervals);switch(t.start.period){case"day":switch(t.end.period){case"hour":if(r=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);i[t.start.period]=parseFloat(e.split(" ")[0]),i[t.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(r=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);{i[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");i.hour=parseFloat(n[0]),i.minute=parseFloat(n[1])}break;case"second":if(r=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);{i[t.start.period]=parseFloat(e.split(" ")[0]);const n=e.split(" ")[1].split(":");i.hour=parseFloat(n[0]),i.minute=parseFloat(n[1]),w._parseSecondsComponent(i,n[2])}break;default:throw new a.L8(a.Z7.IllegalInterval)}break;case"hour":switch(t.end.period){case"minute":if(r=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);i.hour=parseFloat(e.split(":")[0]),i.minute=parseFloat(e.split(":")[1]);break;case"second":if(r=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);{const t=e.split(":");i.hour=parseFloat(t[0]),i.minute=parseFloat(t[1]),w._parseSecondsComponent(i,t[2])}break;default:throw new a.L8(a.Z7.IllegalInterval)}break;case"minute":if("second"!==t.end.period)throw new a.L8(a.Z7.IllegalInterval);if(r=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!r.test(e))throw new a.L8(a.Z7.IllegalInterval);{const t=e.split(":");i.minute=parseFloat(t[0]),w._parseSecondsComponent(i,t[1])}break;default:throw new a.L8(a.Z7.IllegalInterval)}}return i}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}var g=n(92955);const y=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,T=/^(\d{1,2}):(\d{1,2})$/,I=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,S=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,L=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,N=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,C=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,O=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function Z(e,t){if(t instanceof l.bo)return t===g.GB.instance?l.c9.fromMillis(e.getTime(),{zone:g.GB.instance}):l.c9.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return l.c9.fromJSDate(e);default:return"unknown"===t?.toLowerCase()?l.c9.fromMillis(e.getTime(),{zone:g.GB.instance}):l.c9.fromJSDate(e,{zone:t})}}function D(e){return"number"==typeof e}function b(e){return"string"==typeof e||e instanceof String}function A(e){return e instanceof w}function M(e){return e instanceof Date}function x(e){return e instanceof l.c9}function _(e){return e instanceof s.n}function F(e){return e instanceof u.k}function E(e){return e instanceof o.g}function P(e){let t=y.exec(e);if(null!==t){const[,e,n,r]=t,i=u.k.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),0);if(null!==i)return i;throw new a.L8(a.Z7.InvalidTime)}if(t=T.exec(e),null!==t){const[,e,n]=t,r=u.k.fromParts(parseInt(e,10),parseInt(n,10),0,0);if(null!==r)return r;throw new a.L8(a.Z7.InvalidTime)}if(t=I.exec(e),null!==t){const[,e,n,r,i]=t,s=u.k.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),parseInt(i,10));if(null!==s)return s;throw new a.L8(a.Z7.InvalidTime)}throw new a.L8(a.Z7.InvalidTime)}function U(e,t,n=!1){let r=L.exec(e);if(null!==r){const[,e,n,i,s,o,u,c]=r,f=l.c9.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(i,10),hour:parseInt(s,10),minute:parseInt(o,10),second:parseInt(u,10),millisecond:c?parseInt(c.replace(".",""),10):0},{zone:(0,g.Qo)(t)});if(!1===f.isValid)throw new a.L8(a.Z7.InvalidTimeStamp);return f}if(r=N.exec(e),null!==r){const[,e,t,n,i,s,u,l,c,f,d]=r,m=o.g.fromParts(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseInt(i,10),parseInt(s,10),parseInt(u,10),l?parseInt(l.replace(".",""),10):0,"-"===c,parseInt(f,10),parseInt(d,10));if(!1===m.isValid)throw new a.L8(a.Z7.InvalidTimeStamp);return m}if(r=C.exec(e),null!==r){const[,e,t,n,i,s,u,l,c]=r,f=o.g.fromParts(parseInt(e,10),parseInt(t,10),parseInt(n,10),parseInt(i,10),parseInt(s,10),0,0,"-"===u,parseInt(l,10),parseInt(c,10));if(!1===f.isValid)throw new a.L8(a.Z7.InvalidTimeStamp);return f}if(r=O.exec(e),null!==r){const[,e,n,i,s,o]=r,u=l.c9.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(i,10),hour:parseInt(s,10),minute:parseInt(o,10),second:0},{zone:(0,g.Qo)(t)});if(!1===u.isValid)throw new a.L8(a.Z7.InvalidTimeStamp);return u}if(r=S.exec(e),null!==r){const[,e,n,i]=r,s=l.c9.fromObject({year:parseInt(e,10),month:parseInt(n,10),day:parseInt(i,10),hour:0,minute:0,second:0},{zone:(0,g.Qo)(t)});if(!1===s.isValid)throw new a.L8(a.Z7.InvalidTimeStamp);return s}throw new a.L8(a.Z7.InvalidTimeStamp)}function k(e,t){const n=S.exec(e);if(null===n)try{return U(e,t)}catch{throw new a.L8(a.Z7.InvalidDate)}const[,r,i,o]=n,u=s.n.fromParts(parseInt(r,10),parseInt(i,10),parseInt(o,10));if(null===u)throw new a.L8(a.Z7.InvalidDate);return u}var R=n(50944);const J=321408e5,V=26784e5,$=864e5,q=36e5,z=6e4;function H(e){return!!x(e)||!!E(e)}function Y(e){return!!(x(e)||_(e)||E(e)||F(e))}function Q(e){if(x(e))return e.toMillis();if(_(e))return e.toNumber();if(E(e))return e.toMilliseconds();throw new a.L8(a.Z7.InvalidDataType)}function G(e,t,n,r){if(null==e||null==t)return null;if(D(e)){if(D(t))return B(e,t,n);if(b(t))return function(e,t,n){const r=parseFloat(t);if(!isNaN(r))return B(e,r,n);const a=e.toString();switch(n){case"<>":return a!==t;case"=":return a===t;case">":return a>t;case"<":return a<t;case">=":return a>=t;case"<=":return a<=t}}(e,t,n);if(Y(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))throw new a.L8(a.Z7.InvalidOperator)}else if(b(e)){if(D(t))return function(e,t,n){const r=parseFloat(e);if(!isNaN(r))return B(r,t,n);const a=t.toString();switch(n){case"<>":return e!==a;case"=":return e===a;case">":return e>a;case"<":return e<a;case">=":return e>=a;case"<=":return e<=a}}(e,t,n);if(b(t))return function(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}(e,t,n);if(x(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))throw new a.L8(a.Z7.InvalidOperator);if(F(t))throw new a.L8(a.Z7.InvalidOperator);if(E(t))throw new a.L8(a.Z7.InvalidOperator)}else if(x(e)){if(H(t)){if(e instanceof l.c9&&(0,g.Y4)(e.zone)){if(t instanceof l.c9&&!1===(0,g.Y4)(t.zone))return W(e,t,n);if(t instanceof o.g)return W(e,t,n)}else if(t instanceof l.c9&&(0,g.Y4)(t.zone)){if(e instanceof l.c9&&!1===(0,g.Y4)(e.zone))return W(e,t,n);if(e instanceof o.g)return W(e,t,n)}return B(Q(e),Q(t),n)}if(b(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))return function(e,t,n){const r=t.toDateTimeLuxon(e.zone);return B((e=e.startOf("day")).toMillis(),r.toMillis(),n)}(e,t,n);if(F(t))throw new a.L8(a.Z7.InvalidOperator);if(D(t))throw new a.L8(a.Z7.InvalidOperator)}else if(_(e)){if(E(t))return function(e,t,n){const r=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),B(r.toMillis(),t.toMilliseconds(),n)}(e,t,n);if(x(t))return function(e,t,n){const r=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),B(r.toMillis(),t.toMillis(),n)}(e,t,n);if(b(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))return B(e.toNumber(),t.toNumber(),n);if(F(t))throw new a.L8(a.Z7.InvalidOperator);if(D(t))throw new a.L8(a.Z7.InvalidOperator)}else if(F(e)){if(F(t))return B(e.toNumber(),t.toNumber(),n);if(b(t))throw new a.L8(a.Z7.InvalidOperator);if(D(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))throw new a.L8(a.Z7.InvalidOperator);if(H(t))throw new a.L8(a.Z7.InvalidOperator)}else if(E(e)){if(H(t))return t instanceof l.c9&&(0,g.Y4)(t.zone)?W(e,t,n):B(Q(e),Q(t),n);if(b(t))throw new a.L8(a.Z7.InvalidOperator);if(_(t))return function(e,t,n){const r=t.toDateTimeLuxon(e.toDateTime().zone);return B((e=e.startOfDay()).toMilliseconds(),r.toMillis(),n)}(e,t,n);if(F(t))throw new a.L8(a.Z7.InvalidOperator);if(D(t))throw new a.L8(a.Z7.InvalidOperator)}switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function B(e,t,n){switch(n){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function W(e,t,n){e instanceof o.g&&(e=e.toDateTime()),t instanceof o.g&&(t=t.toDateTime());const r=j(e),a=j(t);switch(n){case"<>":return r!==a;case"=":return r===a;case">":return r>a;case"<":return r<a;case">=":return r>=a;case"<=":return r<=a}}function j(e){return e.year*J+e.month*V+e.day*$+e.hour*q+e.minute*z+1e3*e.second+e.millisecond}function K(e,t,n){const r=ne[e.toLowerCase()];if(null==r)throw new a.L8(a.Z7.FunctionNotRecognized);if(t.length<r.minParams||t.length>r.maxParams)throw new a.L8(a.Z7.InvalidParameterCount,{name:e.toUpperCase()});return r.evaluate(t,n)}function X(e){return"string"==typeof e||e instanceof String}function ee(e){return!(M(e)||_(e)||x(e)||F(e)||E(e))}function te(e){return _(e)||F(e)?e.toString():E(e)?e.toSQLValue():x(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):M(e)?te(l.c9.fromJSDate(e)):e.toString()}const ne={extract:{minParams:2,maxParams:2,evaluate:([e,t])=>{if(null==t)return null;if(M(t))switch(e.toUpperCase()){case"SECOND":return t.getSeconds();case"MINUTE":return t.getMinutes();case"HOUR":return t.getHours();case"DAY":return t.getDate();case"MONTH":return t.getMonth()+1;case"YEAR":return t.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(x(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new a.L8(a.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(_(t))switch(e.toUpperCase()){case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new a.L8(a.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}else if(F(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour}else if(E(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":return t.timezoneOffsetHour;case"TIMEZONE_MINUTE":return t.timezoneOffsetMinutes}throw new a.L8(a.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const[t,n]=e;return null==t||null==n?null:t.toString().substring(n-1)}if(3===e.length){const[t,n,r]=e;return null==t||null==n||null==r?null:r<=0?"":t.toString().substring(n-1,n+r-1)}}},position:{minParams:2,maxParams:2,evaluate:([e,t])=>null==e||null==t?null:t.indexOf(e)+1},trim:{minParams:2,maxParams:3,evaluate:e=>{const t=3===e.length,n=t?e[1]:" ",r=t?e[2]:e[1];if(null==n||null==r)return null;const i=`(${(0,R.Cj)(n)})`;switch(e[0]){case"BOTH":return r.replaceAll(new RegExp(`^${i}*|${i}*$`,"g"),"");case"LEADING":return r.replaceAll(new RegExp(`^${i}*`,"g"),"");case"TRAILING":return r.replaceAll(new RegExp(`${i}*$`,"g"),"")}throw new a.L8(a.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0]>0?1:e[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const t=e[0],n=2===e.length?10**e[1]:1;return null==t?null:Math.round(t*n)/n}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>X(e[0])?e[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:e=>{let t="";for(let n=0;n<e.length;n++){if(null==e[n])return null;t+=e[n].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:e=>{for(const t of e)if(null!==t)return t;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,t)=>G(e[0],e[1],"=")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(e,t)=>{const n=e[0],r=e[1];if(null===n)return null;switch(r.type){case"integer":{if(!ee(n))throw new a.L8(a.Z7.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new a.L8(a.Z7.CannotCastValue);return e}case"smallint":{if(!ee(n))throw new a.L8(a.Z7.CannotCastValue);const e=parseInt(n,10);if(isNaN(e))throw new a.L8(a.Z7.CannotCastValue);if(e>32767||e<-32767)throw new a.L8(a.Z7.CannotCastValue);return e}case"float":case"real":{if(!ee(n))throw new a.L8(a.Z7.CannotCastValue);const e=parseFloat(n);if(isNaN(e))throw new a.L8(a.Z7.CannotCastValue);return e}case"time":return function(e){if(M(e))return u.k.fromDateJS(e);if(x(e))return u.k.fromDateTime(e);if(_(e))throw new a.L8(a.Z7.CannotCastValue);if(F(e))return e;if(E(e))return u.k.fromSqlTimeStampOffset(e);if(X(e))return P(e);throw new a.L8(a.Z7.CannotCastValue)}(n);case"date":return function(e){if(M(e))return s.n.fromDateJS(e);if(x(e))return s.n.fromParts(e.year,e.month,e.day);if(_(e))return e;if(F(e))throw new a.L8(a.Z7.CannotCastValue);if(E(e)&&null===s.n.fromParts(e.year,e.month,e.day))throw new a.L8(a.Z7.CannotCastValue);if(X(e)){const t=s.n.fromReader(e);if(null!==t&&t.isValid)return t}throw new a.L8(a.Z7.CannotCastValue)}(n);case"timestamp":return function(e,t,n){if(M(e))return Z(e,t);if(x(e))return e;if(_(e))return e.toDateTimeLuxon("unknown");if(F(e))throw new a.L8(a.Z7.CannotCastValue);if(E(e))return e;if(X(e))return U(e,"unknown",n);throw new a.L8(a.Z7.CannotCastValue)}(n,t,!0===r.withtimezone);case"varchar":{const e=te(n);if(e.length>r.size)throw new a.L8(a.Z7.CannotCastValue);return e}default:throw new a.L8(a.Z7.InvalidDataType)}}}};function re(e,t,n,r){if("||"===e)return K("concat",[t,n],r);if(null===t||null===n)return null;if(D(t)){if(D(n))return ae(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return w.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return w.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return w.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return w.createFromMilliseconds(e/t.valueInMilliseconds())}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(E(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(x(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(b(n))return function(e,t,n){const r=parseFloat(t);if(isNaN(r))throw new a.L8(a.Z7.InvalidOperator);return ae(e,r,n)}(t,n,e);throw new a.L8(a.Z7.InvalidOperator)}if(_(t)){if(D(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",r);case"-":return e.plus("milliseconds",-1*r)}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(x(n))return function(e,t,n){if("-"===n)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(b(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();throw new a.L8(a.Z7.InvalidOperator)}if(F(t)){if(D(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus("milliseconds",r);case"-":return e.plus("milliseconds",-1*r)}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(E(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(x(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(b(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();throw new a.L8(a.Z7.InvalidOperator)}if(A(t)){if(D(n))return function(e,t,n){switch(n){case"+":return w.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return w.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return w.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return w.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return w.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return w.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return w.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return w.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(_(n))return function(e,t,n){if("+"===n)return t.plus("milliseconds",e.valueInMilliseconds());throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(e,t,n){if("+"===n)return t.addMilliseconds(e.valueInMilliseconds());throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(x(n))return function(e,t,n){switch(n){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(b(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();throw new a.L8(a.Z7.InvalidOperator)}if(x(t)){if(D(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.plus({milliseconds:r});case"-":return e.minus({milliseconds:r})}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){if("-"===n)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(e,t,n){if("-"===n)return e.diff(t.toDateTime()).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(x(n))return function(e,t,n){if("-"===n)return e.diff(t).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(b(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();throw new a.L8(a.Z7.InvalidOperator)}if(E(t)){if(D(n))return function(e,t,n){const r=1e3*t*24*60*60;switch(n){case"+":return e.addMilliseconds(r);case"-":return e.addMilliseconds(-1*r)}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(A(n))return function(e,t,n){switch(n){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(E(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t.toDateTime()).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(x(n))return function(e,t,n){if("-"===n)return e.toDateTime().diff(t).as("days");throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);if(b(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();throw new a.L8(a.Z7.InvalidOperator)}if(b(t)){if(D(n))return function(e,t,n){const r=parseFloat(e);if(isNaN(r))throw new a.L8(a.Z7.InvalidOperator);return ae(r,t,n)}(t,n,e);if(A(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(F(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(_(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(E(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(x(n))return function(e,t,n){throw new a.L8(a.Z7.InvalidOperator)}();if(b(n))return function(e,t,n){if("+"===n)return e+t;throw new a.L8(a.Z7.InvalidOperator)}(t,n,e);throw new a.L8(a.Z7.InvalidOperator)}throw new a.L8(a.Z7.InvalidOperator)}function ae(e,t,n){switch(n){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new a.L8(a.Z7.InvalidOperator)}n(32150);var ie,se,oe={exports:{}};se=function(){function e(t,n,r,a){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,e.prototype),i.expected=n,i.found=r,i.location=a,i.name="SyntaxError",i}function t(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),e.prototype.format=function(e){var n="Error: "+this.message;if(this.location){var r,a=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){a=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,o=this.location.source+":"+s.line+":"+s.column;if(a){var u=this.location.end,l=t("",s.line.toString().length," "),c=a[i.line-1],f=(i.line===u.line?u.column:c.length+1)-i.column||1;n+="\n --\x3e "+o+"\n"+l+" |\n"+s.line+" | "+c+"\n"+l+" | "+t("",i.column-1," ")+t("",f,"^")}else n+="\n at "+o}return n},e.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,n){var r,a={},i=(n=void 0!==n?n:{}).grammarSource,s={start:Va},o=Va,u="!",l="=",c=">=",f=">",d="<=",m="<>",h="<",p="!=",v="+",w="-",g="||",y="*",T="/",I="@",S="'",L="N'",N="''",C=".",O="null",Z="true",D="false",b="in",A="is",M="like",x="escape",_="not",F="and",E="or",P="between",U="from",k="for",R="substring",J="extract",V="trim",$="position",q="timestamp",z="date",H="time",Y="leading",Q="trailing",G="both",B="cast",W="as",j="integer",K="smallint",X="float",ee="real",te="varchar",ne="to",re="interval",ae="year",ie="timezone_hour",se="timezone_minute",oe="month",ue="day",le="hour",ce="minute",fe="second",de="case",me="end",he="when",pe="then",ve="else",we=",",ge="(",ye=")",Te="`",Ie=/^[A-Za-z_\x80-\uFFFF]/,Se=/^[A-Za-z0-9_]/,Le=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ne=/^["]/,Ce=/^[^']/,Oe=/^[0-9]/,Ze=/^[eE]/,De=/^[+\-]/,be=/^[ \t\n\r]/,Ae=/^[^`]/,Me=Ea("!",!1),xe=Ea("=",!1),_e=Ea(">=",!1),Fe=Ea(">",!1),Ee=Ea("<=",!1),Pe=Ea("<>",!1),Ue=Ea("<",!1),ke=Ea("!=",!1),Re=Ea("+",!1),Je=Ea("-",!1),Ve=Ea("||",!1),$e=Ea("*",!1),qe=Ea("/",!1),ze=Pa([["A","Z"],["a","z"],"_",["",""]],!1,!1),He=Pa([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Ye=Pa([["A","Z"],["a","z"],["0","9"],"_",".",["",""]],!1,!1),Qe=Pa(['"'],!1,!1),Ge=Ea("@",!1),Be=Ea("'",!1),We=Ea("N'",!1),je=Ea("''",!1),Ke=Pa(["'"],!0,!1),Xe=Ea(".",!1),et=Pa([["0","9"]],!1,!1),tt=Pa(["e","E"],!1,!1),nt=Pa(["+","-"],!1,!1),rt=Ea("NULL",!0),at=Ea("TRUE",!0),it=Ea("FALSE",!0),st=Ea("IN",!0),ot=Ea("IS",!0),ut=Ea("LIKE",!0),lt=Ea("ESCAPE",!0),ct=Ea("NOT",!0),ft=Ea("AND",!0),dt=Ea("OR",!0),mt=Ea("BETWEEN",!0),ht=Ea("FROM",!0),pt=Ea("FOR",!0),vt=Ea("SUBSTRING",!0),wt=Ea("EXTRACT",!0),gt=Ea("TRIM",!0),yt=Ea("POSITION",!0),Tt=Ea("TIMESTAMP",!0),It=Ea("DATE",!0),St=Ea("TIME",!0),Lt=Ea("LEADING",!0),Nt=Ea("TRAILING",!0),Ct=Ea("BOTH",!0),Ot=Ea("CAST",!0),Zt=Ea("AS",!0),Dt=Ea("INTEGER",!0),bt=Ea("SMALLINT",!0),At=Ea("FLOAT",!0),Mt=Ea("REAL",!0),xt=Ea("VARCHAR",!0),_t=Ea("TO",!0),Ft=Ea("INTERVAL",!0),Et=Ea("YEAR",!0),Pt=Ea("TIMEZONE_HOUR",!0),Ut=Ea("TIMEZONE_MINUTE",!0),kt=Ea("MONTH",!0),Rt=Ea("DAY",!0),Jt=Ea("HOUR",!0),Vt=Ea("MINUTE",!0),$t=Ea("SECOND",!0),qt=Ea("CASE",!0),zt=Ea("END",!0),Ht=Ea("WHEN",!0),Yt=Ea("THEN",!0),Qt=Ea("ELSE",!0),Gt=Ea(",",!1),Bt=Ea("(",!1),Wt=Ea(")",!1),jt=Pa([" ","\t","\n","\r"],!1,!1),Kt=Ea("`",!1),Xt=Pa(["`"],!0,!1),en=function(e){return e},tn=function(e,t){var n={type:"expression-list"},r=function(e,t,n){return function(e,t){for(var n=[e],r=0;r<t.length;r++)n.push(t[r][3]);return n}(e,t)}(e,t);return n.value=r,n},nn=function(e,t){return Ls(e,t)},rn=function(e,t){return Ls(e,t)},an=function(e){return function(e,t){return{type:"unary-expression",operator:"NOT",expr:t}}(0,e)},sn=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?Ls(e,t.tail):Ss(t.op,e,t.right,t.escape)},on=function(e){return{type:"arithmetic",tail:e}},un=function(e,t){return{op:e+"NOT",right:t}},ln=function(e,t){return{op:e,right:t}},cn=function(e,t,n){return{op:"NOT"+e,right:{type:"expression-list",value:[t,n]}}},fn=function(e,t,n){return{op:e,right:{type:"expression-list",value:[t,n]}}},dn=function(e){return e[0]+" "+e[2]},mn=function(e){return e[0]+" "+e[2]},hn=function(e,t,n){return{op:e,right:t,escape:n.value}},pn=function(e,t){return{op:e,right:t,escape:""}},vn=function(e,t){return{op:e,right:t}},wn=function(e){return{op:e,right:{type:"expression-list",value:[]}}},gn=function(e,t){return{op:e,right:t}},yn=function(e,t){return Ls(e,t)},Tn=function(e,t){return Ls(e,t)},In=function(e){return e.paren=!0,e},Sn=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}},Ln=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}},Nn=function(e){return e},Cn=function(e,t){return e+t.join("")},On=function(e,t){return e+t.join("")},Zn=function(e){return e},Dn=function(e){return e.join("")},bn=function(){return'"'},An=function(e){return{type:"parameter",value:e[1]}},Mn=function(e,t){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},t]}}},xn=function(e,t,n){return{type:"function",name:"substring",args:{type:"expression-list",value:n?[e,t,n[2]]:[e,t]}}},_n=function(e,t){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,t]}}},Fn=function(){return{type:"data-type",value:{type:"integer"}}},En=function(){return{type:"data-type",value:{type:"smallint"}}},Pn=function(){return{type:"data-type",value:{type:"float"}}},Un=function(){return{type:"data-type",value:{type:"real"}}},kn=function(){return{type:"data-type",value:{type:"date"}}},Rn=function(){return{type:"data-type",value:{type:"timestamp"}}},Jn=function(){return{type:"data-type",value:{type:"time"}}},Vn=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}},$n=function(e,t,n){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t,n]}}},qn=function(e,t){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t]}}},zn=function(e,t){return{type:"function",name:"position",args:{type:"expression-list",value:[e,t]}}},Hn=function(e,t){return{type:"function",name:e,args:t||{type:"expression-list",value:[]}}},Yn=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Fa("Timestamp literal is invalid")}(e.value),{type:"timestamp",value:e.value}},Qn=function(e){return"string"===e.type&&function(e){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(e)&&Fa("Time literal is invalid")}(e.value),{type:"time",value:e.value}},Gn=function(e,t,n){return{type:"interval",value:t,qualifier:n,op:e}},Bn=function(e,t){return{type:"interval",value:e,qualifier:t,op:""}},Wn=function(e,t){return{type:"interval-qualifier",start:e,end:t}},jn=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},Kn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},Xn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},er=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},tr=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},nr=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},rr=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},ar=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},ir=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},sr=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},or=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},ur=function(){return{type:"string",value:"day"}},lr=function(){return{type:"string",value:"hour"}},cr=function(){return{type:"string",value:"minute"}},fr=function(){return{type:"string",value:"month"}},dr=function(){return{type:"string",value:"year"}},mr=function(e){return parseFloat(e)},hr=function(e){return parseFloat(e)},pr=function(e){return"string"===e.type&&function(e){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(e)&&Fa("Date literal is invalid")}(e.value),{type:"date",value:e.value}},vr=function(){return{type:"null",value:null}},wr=function(){return{type:"boolean",value:!0}},gr=function(){return{type:"boolean",value:!1}},yr=function(){return"'"},Tr=function(e){return{type:"string",value:e.join("")}},Ir=function(e,t){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:null}},Sr=function(e,t,n){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:n.value}},Lr=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}},Nr=function(e,t){return{type:"case-expression",format:"searched",clauses:e,else:t.value}},Cr=function(e,t){return{type:"when-clause",operand:e,value:t}},Or=function(e,t){return{type:"when-clause",operand:e,value:t}},Zr=function(e){return{type:"else-clause",value:e}},Dr=function(e){return{type:"number",value:e}},br=function(e,t,n){return parseFloat(e+t+n)},Ar=function(e,t){return parseFloat(e+t)},Mr=function(e,t){return parseFloat(e+t)},xr=function(e){return parseFloat(e)},_r=function(e,t){return e[0]+t},Fr=function(e){return"."+(null!=e?e:"")},Er=function(e,t){return e+t},Pr=function(e){return e.join("")},Ur=function(e,t){return"e"+(null===t?"":t)},kr=function(){return"IN"},Rr=function(){return"IS"},Jr=function(){return"LIKE"},Vr=function(){return"ESCAPE"},$r=function(){return"NOT"},qr=function(){return"AND"},zr=function(){return"OR"},Hr=function(){return"BETWEEN"},Yr=function(){return"FROM"},Qr=function(){return"FOR"},Gr=function(){return"SUBSTRING"},Br=function(){return"EXTRACT"},Wr=function(){return"TRIM"},jr=function(){return"POSITION"},Kr=function(){return"TIMESTAMP"},Xr=function(){return"DATE"},ea=function(){return"TIME"},ta=function(){return"LEADING"},na=function(){return"TRAILING"},ra=function(){return"BOTH"},aa=function(){return"CAST"},ia=function(){return"AS"},sa=function(){return"INTEGER"},oa=function(){return"SMALLINT"},ua=function(){return"FLOAT"},la=function(){return"REAL"},ca=function(){return"VARCHAR"},fa=function(){return"TO"},da=function(){return"INTERVAL"},ma=function(){return"YEAR"},ha=function(){return"TIMEZONE_HOUR"},pa=function(){return"TIMEZONE_MINUTE"},va=function(){return"MONTH"},wa=function(){return"DAY"},ga=function(){return"HOUR"},ya=function(){return"MINUTE"},Ta=function(){return"SECOND"},Ia=function(){return"CASE"},Sa=function(){return"END"},La=function(){return"WHEN"},Na=function(){return"THEN"},Ca=function(){return"ELSE"},Oa=function(e){return e},Za=function(e){return e.join("")},Da=0,ba=0,Aa=[{line:1,column:1}],Ma=0,xa=[],_a=0;if("startRule"in n){if(!(n.startRule in s))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=s[n.startRule]}function Fa(e,t){throw Ja(e,t=void 0!==t?t:ka(ba,Da))}function Ea(e,t){return{type:"literal",text:e,ignoreCase:t}}function Pa(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Ua(e){var n,r=Aa[e];if(r)return r;for(n=e-1;!Aa[n];)n--;for(r={line:(r=Aa[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Aa[e]=r,r}function ka(e,t,n){var r=Ua(e),a=Ua(t);return{source:i,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function Ra(e){Da<Ma||(Da>Ma&&(Ma=Da,xa=[]),xa.push(e))}function Ja(t,n){return new e(t,null,null,n)}function Va(){var e,t;return e=Da,ys(),(t=qa())!==a?(ys(),ba=e,e=en(t)):(Da=e,e=a),e}function $a(){var e,t,n,r,i,s,o,u;if(e=Da,(t=qa())!==a){for(n=[],r=Da,i=ys(),(s=vs())!==a?(o=ys(),(u=qa())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);r!==a;)n.push(r),r=Da,i=ys(),(s=vs())!==a?(o=ys(),(u=qa())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);ba=e,e=tn(t,n)}else Da=e,e=a;return e}function qa(){var e,t,n,r,i,s,o,u;if(e=Da,(t=za())!==a){for(n=[],r=Da,i=ys(),(s=Fi())!==a?(o=ys(),(u=za())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);r!==a;)n.push(r),r=Da,i=ys(),(s=Fi())!==a?(o=ys(),(u=za())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);ba=e,e=nn(t,n)}else Da=e,e=a;return e}function za(){var e,t,n,r,i,s,o,u;if(e=Da,(t=Ha())!==a){for(n=[],r=Da,i=ys(),(s=_i())!==a?(o=ys(),(u=Ha())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);r!==a;)n.push(r),r=Da,i=ys(),(s=_i())!==a?(o=ys(),(u=Ha())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);ba=e,e=rn(t,n)}else Da=e,e=a;return e}function Ha(){var e,n,r,i,s;return e=Da,(n=xi())===a&&(n=Da,33===t.charCodeAt(Da)?(r=u,Da++):(r=a,0===_a&&Ra(Me)),r!==a?(i=Da,_a++,61===t.charCodeAt(Da)?(s=l,Da++):(s=a,0===_a&&Ra(xe)),_a--,s===a?i=void 0:(Da=i,i=a),i!==a?n=r=[r,i]:(Da=n,n=a)):(Da=n,n=a)),n!==a?(r=ys(),(i=Ha())!==a?(ba=e,e=an(i)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=function(){var e,t,n;return e=Da,(t=Ba())!==a?(ys(),(n=function(){var e;return(e=function(){var e,t,n,r,i,s,o;if(e=Da,t=[],n=Da,r=ys(),(i=Ya())!==a?(s=ys(),(o=Ba())!==a?n=r=[r,i,s,o]:(Da=n,n=a)):(Da=n,n=a),n!==a)for(;n!==a;)t.push(n),n=Da,r=ys(),(i=Ya())!==a?(s=ys(),(o=Ba())!==a?n=r=[r,i,s,o]:(Da=n,n=a)):(Da=n,n=a);else t=a;return t!==a&&(ba=e,t=on(t)),t}())===a&&(e=function(){var e,t,n,r;return e=Da,(t=Ga())!==a?(ys(),(n=ws())!==a?(ys(),(r=$a())!==a?(ys(),gs()!==a?(ba=e,e=vn(t,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=Ga())!==a?(ys(),(n=ws())!==a?(ys(),(r=gs())!==a?(ba=e,e=wn(t)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=Ga())!==a?(ys(),(n=oi())!==a?(ba=e,e=gn(t,n)):(Da=e,e=a)):(Da=e,e=a))),e}())===a&&(e=function(){var e,t,n,r,i,s;return e=Da,(t=xi())!==a?(ys(),(n=Ei())!==a?(ys(),(r=Ba())!==a?(ys(),(i=_i())!==a?(ys(),(s=Ba())!==a?(ba=e,e=cn(n,r,s)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=Ei())!==a?(ys(),(n=Ba())!==a?(ys(),(r=_i())!==a?(ys(),(i=Ba())!==a?(ba=e,e=fn(t,n,i)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)),e}())===a&&(e=function(){var e,t,n,r;return e=Da,(t=bi())!==a?(ys(),(n=xi())!==a?(ys(),(r=Ba())!==a?(ba=e,e=un(t,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=bi())!==a?(ys(),(n=Ba())!==a?(ba=e,e=ln(t,n)):(Da=e,e=a)):(Da=e,e=a)),e}())===a&&(e=function(){var e,t,n,r;return e=Da,(t=Qa())!==a?(ys(),(n=hi())!==a?(ys(),Mi()!==a?(ys(),(r=pi())!==a?(ba=e,e=hn(t,n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=Qa())!==a?(ys(),(n=hi())!==a?(ba=e,e=pn(t,n)):(Da=e,e=a)):(Da=e,e=a)),e}()),e}())===a&&(n=null),ba=e,e=sn(t,n)):(Da=e,e=a),e}()),e}function Ya(){var e;return t.substr(Da,2)===c?(e=c,Da+=2):(e=a,0===_a&&Ra(_e)),e===a&&(62===t.charCodeAt(Da)?(e=f,Da++):(e=a,0===_a&&Ra(Fe)),e===a&&(t.substr(Da,2)===d?(e=d,Da+=2):(e=a,0===_a&&Ra(Ee)),e===a&&(t.substr(Da,2)===m?(e=m,Da+=2):(e=a,0===_a&&Ra(Pe)),e===a&&(60===t.charCodeAt(Da)?(e=h,Da++):(e=a,0===_a&&Ra(Ue)),e===a&&(61===t.charCodeAt(Da)?(e=l,Da++):(e=a,0===_a&&Ra(xe)),e===a&&(t.substr(Da,2)===p?(e=p,Da+=2):(e=a,0===_a&&Ra(ke)))))))),e}function Qa(){var e,t,n,r,i;return e=Da,t=Da,(n=xi())!==a?(r=ys(),(i=Ai())!==a?t=n=[n,r,i]:(Da=t,t=a)):(Da=t,t=a),t!==a&&(ba=e,t=dn(t)),(e=t)===a&&(e=Ai()),e}function Ga(){var e,t,n,r,i;return e=Da,t=Da,(n=xi())!==a?(r=ys(),(i=Di())!==a?t=n=[n,r,i]:(Da=t,t=a)):(Da=t,t=a),t!==a&&(ba=e,t=mn(t)),(e=t)===a&&(e=Di()),e}function Ba(){var e,t,n,r,i,s,o,u;if(e=Da,(t=ja())!==a){for(n=[],r=Da,i=ys(),(s=Wa())!==a?(o=ys(),(u=ja())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);r!==a;)n.push(r),r=Da,i=ys(),(s=Wa())!==a?(o=ys(),(u=ja())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);ba=e,e=yn(t,n)}else Da=e,e=a;return e}function Wa(){var e;return 43===t.charCodeAt(Da)?(e=v,Da++):(e=a,0===_a&&Ra(Re)),e===a&&(45===t.charCodeAt(Da)?(e=w,Da++):(e=a,0===_a&&Ra(Je)),e===a&&(t.substr(Da,2)===g?(e=g,Da+=2):(e=a,0===_a&&Ra(Ve)))),e}function ja(){var e,t,n,r,i,s,o,u;if(e=Da,(t=Xa())!==a){for(n=[],r=Da,i=ys(),(s=Ka())!==a?(o=ys(),(u=Xa())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);r!==a;)n.push(r),r=Da,i=ys(),(s=Ka())!==a?(o=ys(),(u=Xa())!==a?r=i=[i,s,o,u]:(Da=r,r=a)):(Da=r,r=a);ba=e,e=Tn(t,n)}else Da=e,e=a;return e}function Ka(){var e;return 42===t.charCodeAt(Da)?(e=y,Da++):(e=a,0===_a&&Ra($e)),e===a&&(47===t.charCodeAt(Da)?(e=T,Da++):(e=a,0===_a&&Ra(qe))),e}function Xa(){var e,t;return(e=function(){var e;return(e=pi())===a&&(e=function(){var e,t,n,r;return e=Da,(t=function(){var e,t,n,r;return e=Da,(t=yi())!==a&&(n=Ti())!==a&&(r=Ii())!==a?(ba=e,e=br(t,n,r)):(Da=e,e=a),e===a&&(e=Da,(t=yi())!==a&&(n=Ti())!==a?(ba=e,e=Ar(t,n)):(Da=e,e=a),e===a&&(e=Da,(t=yi())!==a&&(n=Ii())!==a?(ba=e,e=Mr(t,n)):(Da=e,e=a),e===a&&(e=Da,(t=yi())!==a&&(ba=e,t=xr(t)),e=t))),e}())!==a?(n=Da,_a++,r=ti(),_a--,r===a?n=void 0:(Da=n,n=a),n!==a?(ba=e,e=Dr(t)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t;return e=Da,(t=Oi())!==a&&(ba=e,t=wr()),(e=t)===a&&(e=Da,(t=Zi())!==a&&(ba=e,t=gr()),e=t),e}())===a&&(e=function(){var e,t;return e=Da,(t=Ci())!==a&&(ba=e,t=vr()),t}())===a&&(e=function(){var e,t;return e=Da,qi()!==a?(ys(),(t=hi())!==a?(ba=e,e=pr(t)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t;return e=Da,$i()!==a?(ys(),(t=hi())!==a?(ba=e,e=Yn(t)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=li())===a&&(e=function(){var e,t;return e=Da,zi()!==a?(ys(),(t=hi())!==a?(ba=e,e=Qn(t)):(Da=e,e=a)):(Da=e,e=a),e}()),e}())===a&&(e=function(){var e,t,n;return e=Da,Ri()!==a?(ys(),ws()!==a?(ys(),(t=function(){var e;return(e=rs())===a&&(e=ss())===a&&(e=os())===a&&(e=us())===a&&(e=ls())===a&&(e=cs())===a&&(e=as())===a&&(e=is()),e}())!==a?(ys(),Pi()!==a?(ys(),(n=qa())!==a?(ys(),gs()!==a?(ba=e,e=Mn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t,n,r,i,s,o;return e=Da,ki()!==a?(ys(),ws()!==a?(ys(),(t=qa())!==a?(ys(),Pi()!==a?(ys(),(n=qa())!==a?(ys(),r=Da,(i=Ui())!==a?(s=ys(),(o=qa())!==a?r=i=[i,s,o,ys()]:(Da=r,r=a)):(Da=r,r=a),r===a&&(r=null),(i=gs())!==a?(ba=e,e=xn(t,n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t,n,r;return e=Da,Ji()!==a?(ys(),ws()!==a?(ys(),(t=ui())===a&&(t=null),ys(),(n=qa())!==a?(ys(),Pi()!==a?(ys(),(r=qa())!==a?(ys(),gs()!==a?(ba=e,e=$n(t,n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,Ji()!==a?(ys(),ws()!==a?(ys(),(t=ui())===a&&(t=null),ys(),(n=qa())!==a?(ys(),gs()!==a?(ba=e,e=qn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)),e}())===a&&(e=function(){var e,t,n;return e=Da,Vi()!==a?(ys(),ws()!==a?(ys(),(t=qa())!==a?(ys(),Di()!==a?(ys(),(n=qa())!==a?(ys(),gs()!==a?(ba=e,e=zn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t,n;return e=Da,Gi()!==a?(ys(),ws()!==a?(ys(),(t=qa())!==a?(ys(),Bi()!==a?(ys(),(n=function(){var e,t,n;return e=Da,(t=Wi())!==a&&(ba=e,t=Fn()),(e=t)===a&&(e=Da,(t=ji())!==a&&(ba=e,t=En()),(e=t)===a&&(e=Da,(t=Ki())!==a&&(ba=e,t=Pn()),(e=t)===a&&(e=Da,(t=Xi())!==a&&(ba=e,t=Un()),(e=t)===a&&(e=Da,(t=qi())!==a&&(ba=e,t=kn()),(e=t)===a&&(e=Da,(t=$i())!==a&&(ba=e,t=Rn()),(e=t)===a&&(e=Da,(t=zi())!==a&&(ba=e,t=Jn()),(e=t)===a&&(e=Da,(t=es())!==a?(ys(),ws()!==a?(ys(),(n=Si())!==a?(ys(),gs()!==a?(ba=e,e=Vn(n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)))))))),e}())!==a?(ys(),gs()!==a?(ba=e,e=_n(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e,t,n;return e=Da,(t=Is())!==a?(ys(),ws()!==a?(ys(),(n=$a())===a&&(n=null),ys(),gs()!==a?(ba=e,e=Hn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}())===a&&(e=function(){var e;return(e=function(){var e,t,n,r,i;if(e=Da,fs()!==a)if(ys(),(t=qa())!==a){for(ys(),n=[],r=wi();r!==a;)n.push(r),r=wi();r=ys(),(i=ds())!==a?(ba=e,e=Ir(t,n)):(Da=e,e=a)}else Da=e,e=a;else Da=e,e=a;if(e===a)if(e=Da,fs()!==a)if(ys(),(t=qa())!==a){for(ys(),n=[],r=wi();r!==a;)n.push(r),r=wi();r=ys(),(i=gi())!==a?(ys(),ds()!==a?(ba=e,e=Sr(t,n,i)):(Da=e,e=a)):(Da=e,e=a)}else Da=e,e=a;else Da=e,e=a;return e}())===a&&(e=function(){var e,t,n,r;if(e=Da,fs()!==a){for(ys(),t=[],n=vi();n!==a;)t.push(n),n=vi();n=ys(),(r=ds())!==a?(ba=e,e=Lr(t)):(Da=e,e=a)}else Da=e,e=a;if(e===a)if(e=Da,fs()!==a){for(ys(),t=[],n=vi();n!==a;)t.push(n),n=vi();n=ys(),(r=gi())!==a?(ys(),ds()!==a?(ba=e,e=Nr(t,r)):(Da=e,e=a)):(Da=e,e=a)}else Da=e,e=a;return e}()),e}())===a&&(e=function(){var e,t;return e=Da,(t=function(){var e,t;return e=Da,(t=function(){var e,t,n,r;if(e=Da,(t=ti())!==a){for(n=[],r=ri();r!==a;)n.push(r),r=ri();ba=e,e=Cn(t,n)}else Da=e,e=a;return e}())!==a&&(ba=e,t=Nn(t)),t}())!==a&&(ba=e,t=Sn(t)),(e=t)===a&&(e=Da,(t=function(){var e,t;return e=Da,si()!==a?(t=function(){var e,t,n;for(e=Da,t=[],n=ai();n!==a;)t.push(n),n=ai();return ba=e,Dn(t)}(),si()!==a?(ba=e,e=Zn(t)):(Da=e,e=a)):(Da=e,e=a),e}())!==a&&(ba=e,t=Ln(t)),e=t),e}())===a&&(e=oi())===a&&(e=Da,ws()!==a?(ys(),(t=qa())!==a?(ys(),gs()!==a?(ba=e,e=In(t)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)),e}function ei(){var e,t,n,r;if(e=Da,(t=ti())!==a){for(n=[],r=ni();r!==a;)n.push(r),r=ni();ba=e,e=On(t,n)}else Da=e,e=a;return e}function ti(){var e;return Ie.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(ze)),e}function ni(){var e;return Se.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(He)),e}function ri(){var e;return Le.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(Ye)),e}function ai(){var e;return(e=ii())===a&&(e=function(){var e;return e=Da,si()!==a&&si()!==a?(ba=e,e=bn()):(Da=e,e=a),e}()),e}function ii(){var e;return Le.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(Ye)),e}function si(){var e;return Ne.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(Qe)),e}function oi(){var e,n,r,i;return e=Da,n=Da,64===t.charCodeAt(Da)?(r=I,Da++):(r=a,0===_a&&Ra(Ge)),r!==a&&(i=ei())!==a?n=r=[r,i]:(Da=n,n=a),n!==a&&(ba=e,n=An(n)),n}function ui(){var e;return(e=Hi())===a&&(e=Yi())===a&&(e=Qi()),e}function li(){var e,n,r,i;return e=Da,ns()!==a?(ys(),45===t.charCodeAt(Da)?(n=w,Da++):(n=a,0===_a&&Ra(Je)),n===a&&(43===t.charCodeAt(Da)?(n=v,Da++):(n=a,0===_a&&Ra(Re))),n!==a?(ys(),(r=hi())!==a?(ys(),(i=ci())!==a?(ba=e,e=Gn(n,r,i)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,ns()!==a?(ys(),(n=hi())!==a?(ys(),(r=ci())!==a?(ba=e,e=Bn(n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)),e}function ci(){var e,t,n;return e=Da,(t=function(){var e,t,n;return e=Da,(t=fi())!==a?(ys(),ws()!==a?(ys(),(n=mi())!==a?(ys(),gs()!==a?(ba=e,e=jn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=fi())!==a&&(ba=e,t=Kn(t)),e=t),e}())!==a?(ys(),ts()!==a?(ys(),(n=function(){var e,t,n,r;return e=Da,(t=fi())!==a&&(ba=e,t=Xn(t)),(e=t)===a&&(e=Da,(t=cs())!==a?(ys(),ws()!==a?(ys(),(n=mi())!==a?(ys(),vs()!==a?(ys(),(r=di())!==a?(ys(),gs()!==a?(ba=e,e=er(n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=cs())!==a?(ys(),ws()!==a?(ys(),(n=mi())!==a?(ys(),gs()!==a?(ba=e,e=tr(n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=cs())!==a&&(ba=e,t=nr()),e=t))),e}())!==a?(ba=e,e=Wn(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=function(){var e,t,n,r;return e=Da,(t=fi())!==a?(ys(),ws()!==a?(ys(),(n=di())!==a?(ys(),gs()!==a?(ba=e,e=rr(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=fi())!==a&&(ba=e,t=ar(t)),(e=t)===a&&(e=Da,(t=cs())!==a?(ys(),ws()!==a?(ys(),(n=mi())!==a?(ys(),vs()!==a?(ys(),(r=di())!==a?(ys(),gs()!==a?(ba=e,e=ir(n,r)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=cs())!==a?(ys(),ws()!==a?(ys(),(n=di())!==a?(ys(),gs()!==a?(ba=e,e=sr(n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e===a&&(e=Da,(t=cs())!==a&&(ba=e,t=or()),e=t)))),e}()),e}function fi(){var e,t;return e=Da,(t=os())!==a&&(ba=e,t=ur()),(e=t)===a&&(e=Da,(t=us())!==a&&(ba=e,t=lr()),(e=t)===a&&(e=Da,(t=ls())!==a&&(ba=e,t=cr()),(e=t)===a&&(e=Da,(t=ss())!==a&&(ba=e,t=fr()),(e=t)===a&&(e=Da,(t=rs())!==a&&(ba=e,t=dr()),e=t)))),e}function di(){var e,t;return e=Da,(t=Si())!==a&&(ba=e,t=mr(t)),t}function mi(){var e,t;return e=Da,(t=Si())!==a&&(ba=e,t=hr(t)),t}function hi(){var e;return(e=pi())===a&&(e=oi()),e}function pi(){var e,n,r,i,s;if(e=Da,39===t.charCodeAt(Da)?(n=S,Da++):(n=a,0===_a&&Ra(Be)),n===a&&(t.substr(Da,2)===L?(n=L,Da+=2):(n=a,0===_a&&Ra(We))),n!==a){for(r=[],i=Da,t.substr(Da,2)===N?(s=N,Da+=2):(s=a,0===_a&&Ra(je)),s!==a&&(ba=i,s=yr()),(i=s)===a&&(Ce.test(t.charAt(Da))?(i=t.charAt(Da),Da++):(i=a,0===_a&&Ra(Ke)));i!==a;)r.push(i),i=Da,t.substr(Da,2)===N?(s=N,Da+=2):(s=a,0===_a&&Ra(je)),s!==a&&(ba=i,s=yr()),(i=s)===a&&(Ce.test(t.charAt(Da))?(i=t.charAt(Da),Da++):(i=a,0===_a&&Ra(Ke)));39===t.charCodeAt(Da)?(i=S,Da++):(i=a,0===_a&&Ra(Be)),i!==a?(ba=e,e=Tr(r)):(Da=e,e=a)}else Da=e,e=a;return e}function vi(){var e,t,n;return e=Da,ms()!==a?(ys(),(t=qa())!==a?(ys(),hs()!==a?(ys(),(n=qa())!==a?(ba=e,e=Cr(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}function wi(){var e,t,n;return e=Da,ms()!==a?(ys(),(t=qa())!==a?(ys(),hs()!==a?(ys(),(n=qa())!==a?(ba=e,e=Or(t,n)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a)):(Da=e,e=a),e}function gi(){var e,t;return e=Da,ps()!==a?(ys(),(t=qa())!==a?(ba=e,e=Zr(t)):(Da=e,e=a)):(Da=e,e=a),e}function yi(){var e,n,r;return(e=Si())===a&&(e=Da,45===t.charCodeAt(Da)?(n=w,Da++):(n=a,0===_a&&Ra(Je)),n===a&&(43===t.charCodeAt(Da)?(n=v,Da++):(n=a,0===_a&&Ra(Re))),n!==a&&(r=Si())!==a?(ba=e,e=_r(n,r)):(Da=e,e=a)),e}function Ti(){var e,n,r;return e=Da,46===t.charCodeAt(Da)?(n=C,Da++):(n=a,0===_a&&Ra(Xe)),n!==a?((r=Si())===a&&(r=null),ba=e,e=Fr(r)):(Da=e,e=a),e}function Ii(){var e,t,n;return e=Da,(t=Ni())!==a&&(n=Si())!==a?(ba=e,e=Er(t,n)):(Da=e,e=a),e}function Si(){var e,t,n;if(e=Da,t=[],(n=Li())!==a)for(;n!==a;)t.push(n),n=Li();else t=a;return t!==a&&(ba=e,t=Pr(t)),t}function Li(){var e;return Oe.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(et)),e}function Ni(){var e,n,r;return e=Da,Ze.test(t.charAt(Da))?(n=t.charAt(Da),Da++):(n=a,0===_a&&Ra(tt)),n!==a?(De.test(t.charAt(Da))?(r=t.charAt(Da),Da++):(r=a,0===_a&&Ra(nt)),r===a&&(r=null),ba=e,e=Ur(n,r)):(Da=e,e=a),e}function Ci(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===O?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(rt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?e=n=[n,r]:(Da=e,e=a)):(Da=e,e=a),e}function Oi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===Z?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(at)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?e=n=[n,r]:(Da=e,e=a)):(Da=e,e=a),e}function Zi(){var e,n,r,i;return e=Da,t.substr(Da,5).toLowerCase()===D?(n=t.substr(Da,5),Da+=5):(n=a,0===_a&&Ra(it)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?e=n=[n,r]:(Da=e,e=a)):(Da=e,e=a),e}function Di(){var e,n,r,i;return e=Da,t.substr(Da,2).toLowerCase()===b?(n=t.substr(Da,2),Da+=2):(n=a,0===_a&&Ra(st)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=kr()):(Da=e,e=a)):(Da=e,e=a),e}function bi(){var e,n,r,i;return e=Da,t.substr(Da,2).toLowerCase()===A?(n=t.substr(Da,2),Da+=2):(n=a,0===_a&&Ra(ot)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Rr()):(Da=e,e=a)):(Da=e,e=a),e}function Ai(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===M?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(ut)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Jr()):(Da=e,e=a)):(Da=e,e=a),e}function Mi(){var e,n,r,i;return e=Da,t.substr(Da,6).toLowerCase()===x?(n=t.substr(Da,6),Da+=6):(n=a,0===_a&&Ra(lt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Vr()):(Da=e,e=a)):(Da=e,e=a),e}function xi(){var e,n,r,i;return e=Da,t.substr(Da,3).toLowerCase()===_?(n=t.substr(Da,3),Da+=3):(n=a,0===_a&&Ra(ct)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=$r()):(Da=e,e=a)):(Da=e,e=a),e}function _i(){var e,n,r,i;return e=Da,t.substr(Da,3).toLowerCase()===F?(n=t.substr(Da,3),Da+=3):(n=a,0===_a&&Ra(ft)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=qr()):(Da=e,e=a)):(Da=e,e=a),e}function Fi(){var e,n,r,i;return e=Da,t.substr(Da,2).toLowerCase()===E?(n=t.substr(Da,2),Da+=2):(n=a,0===_a&&Ra(dt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=zr()):(Da=e,e=a)):(Da=e,e=a),e}function Ei(){var e,n,r,i;return e=Da,t.substr(Da,7).toLowerCase()===P?(n=t.substr(Da,7),Da+=7):(n=a,0===_a&&Ra(mt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Hr()):(Da=e,e=a)):(Da=e,e=a),e}function Pi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===U?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(ht)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Yr()):(Da=e,e=a)):(Da=e,e=a),e}function Ui(){var e,n,r,i;return e=Da,t.substr(Da,3).toLowerCase()===k?(n=t.substr(Da,3),Da+=3):(n=a,0===_a&&Ra(pt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Qr()):(Da=e,e=a)):(Da=e,e=a),e}function ki(){var e,n,r,i;return e=Da,t.substr(Da,9).toLowerCase()===R?(n=t.substr(Da,9),Da+=9):(n=a,0===_a&&Ra(vt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Gr()):(Da=e,e=a)):(Da=e,e=a),e}function Ri(){var e,n,r,i;return e=Da,t.substr(Da,7).toLowerCase()===J?(n=t.substr(Da,7),Da+=7):(n=a,0===_a&&Ra(wt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Br()):(Da=e,e=a)):(Da=e,e=a),e}function Ji(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===V?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(gt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Wr()):(Da=e,e=a)):(Da=e,e=a),e}function Vi(){var e,n,r,i;return e=Da,t.substr(Da,8).toLowerCase()===$?(n=t.substr(Da,8),Da+=8):(n=a,0===_a&&Ra(yt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=jr()):(Da=e,e=a)):(Da=e,e=a),e}function $i(){var e,n,r,i;return e=Da,t.substr(Da,9).toLowerCase()===q?(n=t.substr(Da,9),Da+=9):(n=a,0===_a&&Ra(Tt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Kr()):(Da=e,e=a)):(Da=e,e=a),e}function qi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===z?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(It)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Xr()):(Da=e,e=a)):(Da=e,e=a),e}function zi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===H?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(St)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ea()):(Da=e,e=a)):(Da=e,e=a),e}function Hi(){var e,n,r,i;return e=Da,t.substr(Da,7).toLowerCase()===Y?(n=t.substr(Da,7),Da+=7):(n=a,0===_a&&Ra(Lt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ta()):(Da=e,e=a)):(Da=e,e=a),e}function Yi(){var e,n,r,i;return e=Da,t.substr(Da,8).toLowerCase()===Q?(n=t.substr(Da,8),Da+=8):(n=a,0===_a&&Ra(Nt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=na()):(Da=e,e=a)):(Da=e,e=a),e}function Qi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===G?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Ct)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ra()):(Da=e,e=a)):(Da=e,e=a),e}function Gi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===B?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Ot)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=aa()):(Da=e,e=a)):(Da=e,e=a),e}function Bi(){var e,n,r,i;return e=Da,t.substr(Da,2).toLowerCase()===W?(n=t.substr(Da,2),Da+=2):(n=a,0===_a&&Ra(Zt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ia()):(Da=e,e=a)):(Da=e,e=a),e}function Wi(){var e,n,r,i;return e=Da,t.substr(Da,7).toLowerCase()===j?(n=t.substr(Da,7),Da+=7):(n=a,0===_a&&Ra(Dt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=sa()):(Da=e,e=a)):(Da=e,e=a),e}function ji(){var e,n,r,i;return e=Da,t.substr(Da,8).toLowerCase()===K?(n=t.substr(Da,8),Da+=8):(n=a,0===_a&&Ra(bt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=oa()):(Da=e,e=a)):(Da=e,e=a),e}function Ki(){var e,n,r,i;return e=Da,t.substr(Da,5).toLowerCase()===X?(n=t.substr(Da,5),Da+=5):(n=a,0===_a&&Ra(At)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ua()):(Da=e,e=a)):(Da=e,e=a),e}function Xi(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===ee?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Mt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=la()):(Da=e,e=a)):(Da=e,e=a),e}function es(){var e,n,r,i;return e=Da,t.substr(Da,7).toLowerCase()===te?(n=t.substr(Da,7),Da+=7):(n=a,0===_a&&Ra(xt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ca()):(Da=e,e=a)):(Da=e,e=a),e}function ts(){var e,n,r,i;return e=Da,t.substr(Da,2).toLowerCase()===ne?(n=t.substr(Da,2),Da+=2):(n=a,0===_a&&Ra(_t)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=fa()):(Da=e,e=a)):(Da=e,e=a),e}function ns(){var e,n,r,i;return e=Da,t.substr(Da,8).toLowerCase()===re?(n=t.substr(Da,8),Da+=8):(n=a,0===_a&&Ra(Ft)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=da()):(Da=e,e=a)):(Da=e,e=a),e}function rs(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===ae?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Et)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ma()):(Da=e,e=a)):(Da=e,e=a),e}function as(){var e,n,r,i;return e=Da,t.substr(Da,13).toLowerCase()===ie?(n=t.substr(Da,13),Da+=13):(n=a,0===_a&&Ra(Pt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ha()):(Da=e,e=a)):(Da=e,e=a),e}function is(){var e,n,r,i;return e=Da,t.substr(Da,15).toLowerCase()===se?(n=t.substr(Da,15),Da+=15):(n=a,0===_a&&Ra(Ut)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=pa()):(Da=e,e=a)):(Da=e,e=a),e}function ss(){var e,n,r,i;return e=Da,t.substr(Da,5).toLowerCase()===oe?(n=t.substr(Da,5),Da+=5):(n=a,0===_a&&Ra(kt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=va()):(Da=e,e=a)):(Da=e,e=a),e}function os(){var e,n,r,i;return e=Da,t.substr(Da,3).toLowerCase()===ue?(n=t.substr(Da,3),Da+=3):(n=a,0===_a&&Ra(Rt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=wa()):(Da=e,e=a)):(Da=e,e=a),e}function us(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===le?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Jt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ga()):(Da=e,e=a)):(Da=e,e=a),e}function ls(){var e,n,r,i;return e=Da,t.substr(Da,6).toLowerCase()===ce?(n=t.substr(Da,6),Da+=6):(n=a,0===_a&&Ra(Vt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=ya()):(Da=e,e=a)):(Da=e,e=a),e}function cs(){var e,n,r,i;return e=Da,t.substr(Da,6).toLowerCase()===fe?(n=t.substr(Da,6),Da+=6):(n=a,0===_a&&Ra($t)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Ta()):(Da=e,e=a)):(Da=e,e=a),e}function fs(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===de?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(qt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Ia()):(Da=e,e=a)):(Da=e,e=a),e}function ds(){var e,n,r,i;return e=Da,t.substr(Da,3).toLowerCase()===me?(n=t.substr(Da,3),Da+=3):(n=a,0===_a&&Ra(zt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Sa()):(Da=e,e=a)):(Da=e,e=a),e}function ms(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===he?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Ht)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=La()):(Da=e,e=a)):(Da=e,e=a),e}function hs(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===pe?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Yt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Na()):(Da=e,e=a)):(Da=e,e=a),e}function ps(){var e,n,r,i;return e=Da,t.substr(Da,4).toLowerCase()===ve?(n=t.substr(Da,4),Da+=4):(n=a,0===_a&&Ra(Qt)),n!==a?(r=Da,_a++,i=ni(),_a--,i===a?r=void 0:(Da=r,r=a),r!==a?(ba=e,e=Ca()):(Da=e,e=a)):(Da=e,e=a),e}function vs(){var e;return 44===t.charCodeAt(Da)?(e=we,Da++):(e=a,0===_a&&Ra(Gt)),e}function ws(){var e;return 40===t.charCodeAt(Da)?(e=ge,Da++):(e=a,0===_a&&Ra(Bt)),e}function gs(){var e;return 41===t.charCodeAt(Da)?(e=ye,Da++):(e=a,0===_a&&Ra(Wt)),e}function ys(){var e,t;for(e=[],t=Ts();t!==a;)e.push(t),t=Ts();return e}function Ts(){var e;return be.test(t.charAt(Da))?(e=t.charAt(Da),Da++):(e=a,0===_a&&Ra(jt)),e}function Is(){var e,n,r,i;if(e=Da,(n=ei())!==a&&(ba=e,n=Oa(n)),(e=n)===a)if(e=Da,96===t.charCodeAt(Da)?(n=Te,Da++):(n=a,0===_a&&Ra(Kt)),n!==a){if(r=[],Ae.test(t.charAt(Da))?(i=t.charAt(Da),Da++):(i=a,0===_a&&Ra(Xt)),i!==a)for(;i!==a;)r.push(i),Ae.test(t.charAt(Da))?(i=t.charAt(Da),Da++):(i=a,0===_a&&Ra(Xt));else r=a;r!==a?(96===t.charCodeAt(Da)?(i=Te,Da++):(i=a,0===_a&&Ra(Kt)),i!==a?(ba=e,e=Za(r)):(Da=e,e=a)):(Da=e,e=a)}else Da=e,e=a;return e}function Ss(e,t,n,r){var a={type:"binary-expression",operator:e,left:t,right:n};return void 0!==r&&(a.escape=r),a}function Ls(e,t){for(var n=e,r=0;r<t.length;r++)n=Ss(t[r][1],n,t[r][3]);return n}if((r=o())!==a&&Da===t.length)return r;throw r!==a&&Da<t.length&&Ra({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(xa,Ma<t.length?t.charAt(Ma):null,Ma<t.length?ka(Ma,Ma+1):ka(Ma,Ma))}}},(ie=oe).exports&&(ie.exports=se());var ue=oe.exports;class le{static parse(e){return ue.parse(e)}}const ce=new Set(["current_timestamp","current_date","current_time"]);class fe{static makeBool(e){return me(e)}static featureValue(e,t,n,r){return Se(e,t,n,r)}static equalsNull(e){return null===e}static applyLike(e,t,n){return Ie(e,t,n)}static ensureArray(e){return he(e)}static applyIn(e,t,n){return ge(e,t)}static currentDate(e){return s.n.fromNow(e)}static makeSqlInterval(e,t,n){return w.createFromValueAndQualifier(e,t,n)}static convertInterval(e){return e instanceof w?e.valueInMilliseconds():e}static currentTimestamp(e){return Z(new Date,e)}static compare(e,t,n,r){return G(t,n,e)}static calculate(e,t,n,r){return re(e,t,n,r)}static evaluateTime(e){return P(e)}static evaluateTimestamp(e,t,n){return U(e,t,n)}static evaluateDate(e,t){return k(e,t)}static evaluateFunction(e,t,n){return K(e,t,n)}static lookup(e,t){const n=t[e];return void 0===n?null:n}static between(e,t,n){return null==e||null==t[0]||null==t[1]?null:G(e,t[0],">=")&&G(e,t[1],"<=")}static notbetween(e,t,n){return null==e||null==t[0]||null==t[1]?null:G(e,t[0],"<")||G(e,t[1],">")}static ternaryNot(e){return pe(e)}static ternaryAnd(e,t){return ve(e,t)}static ternaryOr(e,t){return we(e,t)}}class de{constructor(e,t,n="UTC"){this.fieldsIndex=t,this.timeZone=n,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=le.parse(e);const{isStandardized:r,isAggregate:a,referencedFieldNames:i}=this._extractExpressionInfo(t);this._referencedFieldNames=i,this.isStandardized=r,this.isAggregate=a}static convertValueToStorageFormat(e,t=null){if(null===t)return M(e)?e.getTime():x(e)?e.toMillis():E(e)?e.toStorageFormat():F(e)?e.toStorageString():_(e)?e.toStorageFormat():e;switch(t){case"date":return M(e)?e.getTime():x(e)?e.toMillis():E(e)?e.toMilliseconds():_(e)?e.toNumber():e;case"date-only":return M(e)?s.n.fromDateJS(e).toString():E(e)?s.n.fromSqlTimeStampOffset(e).toString():x(e)?s.n.fromDateTime(e).toString():e;case"time-only":return M(e)?u.k.fromDateJS(e).toStorageString():x(e)?u.k.fromDateTime(e).toStorageString():E(e)?u.k.fromSqlTimeStampOffset(e).toStorageString():F(e)?e.toStorageString():e;case"timestamp-offset":if(M(e))return o.g.fromJSDate(e).toStorageFormat();if(x(e))return o.g.fromDateTime(e).toStorageFormat();if(E(e))return e.toStorageFormat()}return e}static create(e,t,n="UTC"){return new de(e,t,n)}get fieldNames(){return this._referencedFieldNames}testSet(e,t=Le){return!!this._evaluateNode(this.parseTree,null,t,e)}calculateValue(e,t=Le){const n=this._evaluateNode(this.parseTree,e,t,null);return n instanceof w?n.valueInMilliseconds()/864e5:n}calculateValueCompiled(e,t=Le){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):(0,i.A)("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}testFeature(e,t=Le){return!!this._evaluateNode(this.parseTree,e,t,null)}testFeatureCompiled(e,t=Le){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):(0,i.A)("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||ce.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return this._visitAll(this.parseTree,(t=>{if("function"===t.type){const n=t.name.toLowerCase(),r=t.args.value[0];if("column-reference"===r.type){const t=r.column,a=`${n}-${t}`;e.has(a)||e.set(a,{aggregateType:n,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",e).bind(fe)}_extractExpressionInfo(e){const t=[],n=new Set;let r=!0,a=!1;return this._visitAll(this.parseTree,(i=>{switch(i.type){case"column-reference":{const r=e?.get(i.column);let a,s;r?a=s=r.name??"":(s=i.column,a=s.toLowerCase()),n.has(a)||(n.add(a),t.push(s)),i.column=s;break}case"function":{const{name:e,args:t}=i,n=t.value.length;r&&(r=function(e,t){const n=ne[e.toLowerCase()];return null!=n&&t>=n.minParams&&t<=n.maxParams}(e,n)),!1===a&&(a=f(e,n));break}}})),{referencedFieldNames:Array.from(t),isStandardized:r,isAggregate:a}}_visitAll(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":this._visitAll(e.operand,t),this._visitAll(e.value,t);break;case"case-expression":for(const n of e.clauses)this._visitAll(n,t);"simple"===e.format&&this._visitAll(e.operand,t),null!==e.else&&this._visitAll(e.else,t);break;case"expression-list":for(const n of e.value)this._visitAll(n,t);break;case"unary-expression":this._visitAll(e.expr,t);break;case"binary-expression":this._visitAll(e.left,t),this._visitAll(e.right,t);break;case"function":this._visitAll(e.args,t)}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const n=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let r=0;r<e.clauses.length;r++)t+=" (this.compare('=',"+n+","+this.evaluateNodeToJavaScript(e.clauses[r].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[r].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(let n=0;n<e.clauses.length;n++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[n].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[n].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t}case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const n of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(n);return t+="]",t}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new a.L8(a.Z7.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new a.L8(a.Z7.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone)";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"), timeZone))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)"}throw new a.L8(a.Z7.UnsupportedOperator,{operator:e.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime("+JSON.stringify(e.value)+")";case"date":return"this.evaluateDate("+JSON.stringify(e.value)+", 'unknown')";case"timestamp":return"this.evaluateTimestamp("+JSON.stringify(e.value)+", 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new a.L8(a.Z7.UnsupportedSyntax,{node:e.type})}_evaluateNode(e,t,n,i){let o;switch(e.type){case"interval":{const r=this._evaluateNode(e.value,t,n,i);return w.createFromValueAndQualifier(r,e.qualifier,e.op)}case"case-expression":if("simple"===e.format){const r=this._evaluateNode(e.operand,t,n,i);for(let a=0;a<e.clauses.length;a++)if(G(r,this._evaluateNode(e.clauses[a].operand,t,n,i),"=",this.timeZone))return this._evaluateNode(e.clauses[a].value,t,n,i);if(null!==e.else)return this._evaluateNode(e.else,t,n,i)}else{for(let r=0;r<e.clauses.length;r++)if(me(this._evaluateNode(e.clauses[r].operand,t,n,i)))return this._evaluateNode(e.clauses[r].value,t,n,i);if(null!==e.else)return this._evaluateNode(e.else,t,n,i)}return null;case"parameter":return o=this.parameters[e.value.toLowerCase()],M(o)?l.c9.fromJSDate(o):o instanceof r.lY?o.toDateTime():o;case"expression-list":{const r=[];for(const a of e.value)r.push(this._evaluateNode(a,t,n,i));return r}case"unary-expression":return pe(this._evaluateNode(e.expr,t,n,i));case"binary-expression":switch(e.operator){case"AND":return ve(this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i));case"OR":return we(this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i));case"IS":if("null"!==e.right.type)throw new a.L8(a.Z7.UnsupportedIsRhs);return null===this._evaluateNode(e.left,t,n,i);case"ISNOT":if("null"!==e.right.type)throw new a.L8(a.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(e.left,t,n,i);case"IN":{const r=he(this._evaluateNode(e.right,t,n,i));return ge(this._evaluateNode(e.left,t,n,i),r,this.timeZone)}case"NOT IN":{const r=he(this._evaluateNode(e.right,t,n,i));return pe(ge(this._evaluateNode(e.left,t,n,i),r,this.timeZone))}case"BETWEEN":{const r=this._evaluateNode(e.left,t,n,i),a=this._evaluateNode(e.right,t,n,i);return null==r||null==a[0]||null==a[1]?null:G(r,a[0],">=",this.timeZone)&&G(r,a[1],"<=",this.timeZone)}case"NOTBETWEEN":{const r=this._evaluateNode(e.left,t,n,i),a=this._evaluateNode(e.right,t,n,i);return null==r||null==a[0]||null==a[1]?null:G(r,a[0],"<",this.timeZone)||G(r,a[1],">",this.timeZone)}case"LIKE":return Ie(this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i),e.escape);case"NOT LIKE":return pe(Ie(this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i),e.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return G(this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i),e.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return re(e.operator,this._evaluateNode(e.left,t,n,i),this._evaluateNode(e.right,t,n,i),this.timeZone)}case"null":case"boolean":case"string":case"number":return e.value;case"date":return e.parsedValue??=k(e.value,"unknown"),e.parsedValue;case"timestamp":return e.parsedValue??=U(e.value,"unknown"),e.parsedValue;case"time":return P(e.value);case"current-time":return"date"===e.mode?s.n.fromNow(this.timeZone):Z(new Date,this.timeZone);case"column-reference":return Se(t,e.column,this.fieldsIndex,n);case"data-type":return e.value;case"function":{if(this.isAggregate&&f(e.name,e.args.value.length)){const t=[];for(const r of e.args?.value||[]){const e=[];for(const t of i||[])e.push(this._evaluateNode(r,t,n,null));t.push(e)}return c(e.name,t)}const r=this._evaluateNode(e.args,t,n,i);return K(e.name,r,this.timeZone)}}throw new a.L8(a.Z7.UnsupportedSyntax,{node:e.type})}}function me(e){return!0===e}function he(e){return Array.isArray(e)?e:[e]}function pe(e){return null!==e?!0!==e:null}function ve(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function we(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function ge(e,t,n){if(null==e)return null;let r=!1;for(const n of t)if(null==n)r=null;else{if(e===n){r=!0;break}if(Y(e)&&Y(n)&&(r=G(e,n,"="),r))break}return r}const ye="-[]/{}()*+?.\\^$|";var Te;function Ie(e,t,n){return null==e?null:function(e,t){const n=t;let r="",a=Te.Normal;for(let t=0;t<e.length;t++){const i=e.charAt(t);switch(a){case Te.Normal:i===n?a=Te.Escaped:ye.includes(i)?r+="\\"+i:r+="%"===i?".*":"_"===i?".":i;break;case Te.Escaped:ye.includes(i)?r+="\\"+i:r+=i,a=Te.Normal}}return new RegExp("^"+r+"$","m")}(t,n).test(e)}function Se(e,t,n,r){const a=r.getAttribute(e,t),i=n?.get(t);return null==a||"esriFieldTypeDate"!==i?.type&&"date"!==i?.type?null==a||"esriFieldTypeDateOnly"!==i?.type&&"date-only"!==i?.type?null==a||"esriFieldTypeTimeOnly"!==i?.type&&"time-only"!==i?.type?null==a||"esriFieldTypeTimestampOffset"!==i?.type&&"timestamp-offset"!==i?.type?a:new o.g(a):u.k.fromReader(a):s.n.fromReader(a):Z(new Date(a),n?.getLuxonTimeZone(i.name)??l.mQ.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(Te||(Te={}));const Le={getAttribute:(e,t)=>(function(e){return e&&"object"==typeof e.attributes}(e)?e.attributes:e)[t]}}}]);
//# sourceMappingURL=sql-WhereClause.js.map