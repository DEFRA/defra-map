{"version":3,"file":"js/graphics-editingSupport.js","mappings":"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","sources":["webpack://defraMap/./node_modules/@arcgis/core/core/uuid.js","webpack://defraMap/./node_modules/@arcgis/core/geometry/support/normalizeUtils.js","webpack://defraMap/./node_modules/@arcgis/core/rest/geometryService/cut.js","webpack://defraMap/./node_modules/@arcgis/core/rest/geometryService/simplify.js","webpack://defraMap/./node_modules/@arcgis/core/geometry/support/normalizeUtilsCommon.js","webpack://defraMap/./node_modules/@arcgis/core/layers/graphics/editingSupport.js","webpack://defraMap/./node_modules/@arcgis/core/layers/mixins/EditBusLayer.js","webpack://defraMap/./node_modules/@arcgis/core/layers/support/infoFor3D.js","webpack://defraMap/./node_modules/@arcgis/core/rest/geometryService/utils.js","webpack://defraMap/./node_modules/@arcgis/core/rest/utils.js","webpack://defraMap/./node_modules/@arcgis/core/versionManagement/support/versionManagementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst t=\"randomUUID\"in crypto;function n(){if(t)return crypto.randomUUID();const n=crypto.getRandomValues(new Uint16Array(8));n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;const r=t=>n[t].toString(16).padStart(4,\"0\");return r(0)+r(1)+\"-\"+r(2)+\"-\"+r(3)+\"-\"+r(4)+\"-\"+r(5)+r(6)+r(7)}function r(){return`{${n().toUpperCase()}}`}function o(){return`{${n()}}`}export{r as generateBracedUUID,o as generateLowercaseBracedUUID,n as generateUUID};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport t from\"../../config.js\";import e from\"../../core/Error.js\";import n from\"../../core/Logger.js\";import o from\"../Polygon.js\";import s from\"../Polyline.js\";import{getGeometryParts as r,cutParams as i,offsetMagnitude as l,updatePolyGeometry as c}from\"./normalizeUtilsCommon.js\";import{getInfo as f}from\"./spatialReferenceUtils.js\";import{geographicToWebMercator as u,webMercatorToGeographic as p}from\"./webMercatorUtils.js\";import{cut as a}from\"../../rest/geometryService/cut.js\";import{simplify as h}from\"../../rest/geometryService/simplify.js\";const m=()=>n.getLogger(\"esri.geometry.support.normalizeUtils\");function g(t){return\"polygon\"===t.type}function y(t){return\"polygon\"===t[0].type}function x(t){return\"polyline\"===t[0].type}function d(t){const e=[];let n=0,o=0;for(let s=0;s<t.length;s++){const r=t[s];let i=null;for(let t=0;t<r.length;t++)i=r[t],e.push(i),0===t?(n=i[0],o=n):(n=Math.min(n,i[0]),o=Math.max(o,i[0]));i&&e.push([(n+o)/2,0])}return e}function M(t,n){if(!(t instanceof s||t instanceof o)){const t=\"straightLineDensify: the input geometry is neither polyline nor polygon\";throw m().error(t),new e(t)}const i=r(t),l=[];for(const e of i){const t=[];l.push(t),t.push([e[0][0],e[0][1]]);for(let o=0;o<e.length-1;o++){const s=e[o][0],r=e[o][1],i=e[o+1][0],l=e[o+1][1],c=Math.sqrt((i-s)*(i-s)+(l-r)*(l-r)),f=(l-r)/c,u=(i-s)/c,p=c/n;if(p>1){for(let l=1;l<=p-1;l++){const e=l*n,o=u*e+s,i=f*e+r;t.push([o,i])}const e=(c+Math.floor(p-1)*n)/2,o=u*e+s,i=f*e+r;t.push([o,i])}t.push([i,l])}}return g(t)?new o({rings:l,spatialReference:t.spatialReference}):new s({paths:l,spatialReference:t.spatialReference})}function w(t,e,n){if(e){const e=M(t,1e6);t=p(e,!0)}return n&&(t=c(t,n)),t}function b(t,e,n){if(Array.isArray(t)){const o=t[0];if(o>e){const n=l(o,e);t[0]=o+n*(-2*e)}else if(o<n){const e=l(o,n);t[0]=o+e*(-2*n)}}else{const o=t.x;if(o>e){const n=l(o,e);t=t.clone().offset(n*(-2*e),0)}else if(o<n){const e=l(o,n);t=t.clone().offset(e*(-2*n),0)}}return t}function j(t,e){let n=-1;for(let o=0;o<e.cutIndexes.length;o++){const s=e.cutIndexes[o],i=e.geometries[o],c=r(i);for(let t=0;t<c.length;t++){const e=c[t];e.some((n=>{if(n[0]<180)return!0;{let n=0;for(let t=0;t<e.length;t++){const o=e[t][0];n=o>n?o:n}n=Number(n.toFixed(9));const o=-360*l(n,180);for(let s=0;s<e.length;s++){const e=i.getPoint(t,s);i.setPoint(t,s,e.clone().offset(o,0))}return!0}}))}if(s===n){if(y(t))for(const e of r(i))t[s]=t[s].addRing(e);else if(x(t))for(const e of r(i))t[s]=t[s].addPath(e)}else n=s,t[s]=i}return t}async function R(e,n,r){if(!Array.isArray(e))return R([e],n);n&&\"string\"!=typeof n&&m().warn(\"normalizeCentralMeridian()\",\"The url object is deprecated, use the url string instead\");const p=\"string\"==typeof n?n:n?.url??t.geometryServiceUrl;let g,y,x,d,M,v,P,L,U=0;const z=[],A=[];for(const t of e)if(null!=t)if(g||(g=t.spatialReference,y=f(g),x=g.isWebMercator,v=x?102100:4326,d=i[v].maxX,M=i[v].minX,P=i[v].plus180Line,L=i[v].minus180Line),y)if(\"mesh\"===t.type)A.push(t);else if(\"point\"===t.type)A.push(b(t.clone(),d,M));else if(\"multipoint\"===t.type){const e=t.clone();e.points=e.points.map((t=>b(t,d,M))),A.push(e)}else if(\"extent\"===t.type){const e=t.clone()._normalize(!1,!1,y);A.push(e.rings?new o(e):e)}else if(t.extent){const e=t.extent,n=l(e.xmin,M)*(2*d);let o=0===n?t.clone():c(t.clone(),n);e.offset(n,0);let{xmin:s,xmax:r}=e;s=Number(s.toFixed(9)),r=Number(r.toFixed(9)),e.intersects(P)&&r!==d?(U=r>U?r:U,o=w(o,x),z.push(o),A.push(\"cut\")):e.intersects(L)&&s!==M?(U=r*(2*d)>U?r*(2*d):U,o=w(o,x,360),z.push(o),A.push(\"cut\")):A.push(o)}else A.push(t.clone());else A.push(t);else A.push(t);let F=l(U,d),N=-90;const S=F,k=new s;for(;F>0;){const t=360*F-180;k.addPath([[t,N],[t,-1*N]]),N*=-1,F--}if(z.length>0&&S>0){const t=j(z,await a(p,z,k,r)),n=[],o=[];for(let r=0;r<A.length;r++){const s=A[r];if(\"cut\"!==s)o.push(s);else{const s=t.shift(),i=e[r];null!=i&&\"polygon\"===i.type&&i.rings&&i.rings.length>1&&s.rings.length>=i.rings.length?(n.push(s),o.push(\"simplify\")):o.push(x?u(s):s)}}if(!n.length)return o;const s=await h(p,n,r),i=[];for(let e=0;e<o.length;e++){const t=o[e];\"simplify\"!==t?i.push(t):i.push(x?u(s.shift()):s.shift())}return i}const C=[];for(let t=0;t<A.length;t++){const e=A[t];if(\"cut\"!==e)C.push(e);else{const t=z.shift();C.push(!0===x?u(t):t)}}return C}function v(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&f(t.spatialReference);if(!n)return e;const[o,s]=n.valid,r=2*s,{width:i}=e;let l,{xmin:c,xmax:u}=e;if([c,u]=[u,c],\"extent\"===t.type||0===i||i<=s||i>r||c<o||u>s)return e;switch(t.type){case\"polygon\":if(!(t.rings.length>1))return e;l=d(t.rings);break;case\"polyline\":if(!(t.paths.length>1))return e;l=d(t.paths);break;case\"multipoint\":l=t.points}const p=e.clone();for(let f=0;f<l.length;f++){let t=l[f][0];t<0?(t+=s,u=Math.max(t,u)):(t-=s,c=Math.min(t,c))}return p.xmin=c,p.xmax=u,p.width<i?(p.xmin-=s,p.xmax-=s,p):e}function P(t,e,n){const o=f(n);if(null==o)return t;const[s,r]=o.valid,i=2*r;let l=0,c=0;e>r?l=Math.ceil(Math.abs(e-r)/i):e<s&&(l=-Math.ceil(Math.abs(e-s)/i)),t>r?c=Math.ceil(Math.abs(t-r)/i):t<s&&(c=-Math.ceil(Math.abs(t-s)/i));let u=t+(l-c)*i;const p=u-e;return p>r?u-=i:p<s&&(u+=i),u}function L(t,e){const n=f(e);if(n){const[e,o]=n.valid,s=o-e;if(t<e)for(;t<e;)t+=s;if(t>o)for(;t>o;)t-=s}return t}export{P as getClosestDenormalizedXToReference,v as getDenormalizedExtent,R as normalizeCentralMeridian,L as normalizeMapX,M as straightLineDensify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../geometry.js\";import e from\"../../request.js\";import{getJsonType as t,fromJSON as r}from\"../../geometry/support/jsonUtils.js\";import{srToRESTValue as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{parseUrl as o}from\"../utils.js\";async function i(i,n,p,m){const a=o(i),u=n[0].spatialReference,c={...m,responseType:\"json\",query:{...a.query,f:\"json\",sr:s(u),target:JSON.stringify({geometryType:t(n[0]),geometries:n}),cutter:JSON.stringify(p)}},f=await e(a.path+\"/cut\",c),{cutIndexes:y,geometries:g=[]}=f.data;return{cutIndexes:y,geometries:g.map((e=>{const t=r(e);return t.spatialReference=u,t}))}}export{i as cut};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport r from\"../../request.js\";import{urlToObject as t}from\"../../core/urlUtils.js\";import{getJsonType as e}from\"../../geometry/support/jsonUtils.js\";import{srToRESTValue as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{encodeGeometries as o,decodeGeometries as i}from\"./utils.js\";async function m(m,p,f){const n=\"string\"==typeof m?t(m):m,a=p[0].spatialReference,u=e(p[0]),l={...f,query:{...n.query,f:\"json\",sr:s(a),geometries:JSON.stringify(o(p))}},{data:y}=await r(n.path+\"/simplify\",l);return i(y.geometries,u,a)}export{m as simplify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../Polyline.js\";import n from\"../SpatialReference.js\";import{isPolygon as t}from\"./jsonUtils.js\";const r={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new e({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator}),minus180Line:new e({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:n.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:n.WGS84})}};function i(e,n){return Math.ceil((e-n)/(2*n))}function s(e,n){const t=o(e);for(const r of t)for(const e of r)e[0]+=n;return e}function o(e){return t(e)?e.rings:e.paths}export{r as cutParams,o as getGeometryParts,i as offsetMagnitude,s as updatePolyGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{getMimeTypeFormatId as y,getFilenameFormatId as g}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as b,getEffectiveLayerCapabilities as w}from\"../support/layerUtils.js\";function F(e){return null!=e?.applyEdits}function A(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function v(e){return e.every(A)}function I(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function $(e){return e.every(I)}async function E(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await S(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function S(e,t,r,s){if(await e.load(),!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!b(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await R(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function R(e,t,r){const i=w(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(M(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=V(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>U(t,e,p,c))),u.updateFeatures.forEach((t=>L(t,e,p,c))),u.deleteFeatures.forEach((t=>k(t,e,p,c))),u.addAttachments.forEach((t=>B(t,e))),u.updateAttachments.forEach((t=>B(t,e))),l&&await z(u,e);return{edits:await D(u),options:d}}function j(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function O(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function U(e,t,a,r){j(e,t,a,r),O(e,t)}function k(e,t,a,r){j(e,t,a,r)}function L(e,t,r,s){j(e,t,r,s),O(e,t);const i=w(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function B(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function D(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function G(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function V(e,t,r){const s=G(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(x),s.updateFeatures=s.updateFeatures.map(x),s.addAssetFeatures=[],s}function M(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function x(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function z(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=y(\"model/gltf-binary\",r.supportedFormats)??g(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:i}=e;for(const a of e.addFeatures??[])q(a)&&i.push(a);for(const a of e.updateFeatures??[])q(a)&&i.push(a)}function q(e){return\"mesh\"===e?.geometry?.type}function W(e,t,r,s){if(!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{E as applyEdits,M as checkEditingCapabilities,$ as isFeatureIdentifierArrayWithGlobalId,v as isFeatureIdentifierArrayWithObjectId,I as isFeatureIdentifierWithGlobalId,A as isFeatureIdentifierWithObjectId,G as normalizeCollections,V as normalizeEdits,D as normalizeGeometries,x as shallowCloneFeature,W as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultVersionNameLookup as o,isVersionInEditSession as n}from\"../../versionManagement/support/versionManagementUtils.js\";const a=new e.EventEmitter;function l(t){return a.on(\"apply-edits\",new WeakRef(t))}function h(t){return a.on(\"update-moment\",new WeakRef(t))}function c(t,e,i=null,r=!1){const d=s();return r=null==e||r,a.emit(\"apply-edits\",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:d.promise}),d}function u(t,e,i=null,s){a.emit(\"update-moment\",{serviceUrl:t,layerId:e,gdbVersion:i,moment:s})}const m=Symbol();function p(t){return null!=t&&\"object\"==typeof t&&m in t}function b(t){return null!=t&&\"object\"==typeof t&&\"gdbVersion\"in t}function g(t,e,i){const s=new URL(t).host,r=o.get(s),d=t=>!t||t===r;return d(e)&&d(i)||e===i}const F=e=>{var s;let o=class extends e{constructor(...t){super(...t),this[s]=!0,this._applyEditsHandler=t=>{const{serviceUrl:e,layerId:s,gdbVersion:r,mayReceiveServiceEdits:d,result:o}=t,n=e===this.url,a=null!=s&&null!=this.layerId&&s===this.layerId,l=b(this),h=b(this)&&g(e,r,this.gdbVersion);if(!n||l&&!h||!a&&!d)return;this.lastEditsEventDate=new Date;const c=o.then((t=>{if(a&&(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length))return this.emit(\"edits\",i(t)),t;const s=t.editedFeatures?.find((({layerId:t})=>t===this.layerId));if(s){const{adds:e,updates:r,deletes:d}=s.editedFeatures,o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],deletedFeatures:d?d.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:t}})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return this.emit(\"edits\",o),o}const d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,d.historicMoment)&&this.emit(\"edits\",d),d})).then((t=>(\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,t.historicMoment)&&(this.historicMoment=t.historicMoment),t)));this.emit(\"apply-edits\",{result:c})},this._updateMomentHandler=t=>{const{serviceUrl:e,gdbVersion:i,moment:s}=t,r=e===this.url,d=b(this),o=b(this)&&g(e,i,this.gdbVersion),n=b(this)&&!g(e,this.gdbVersion,null);r&&d&&o&&n&&\"historicMoment\"in this&&this.historicMoment!==s&&(this.historicMoment=s)},this.when().then((()=>{this.addHandles(l(this._applyEditsHandler)),\"historicMoment\"in this&&this.addHandles(h(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(t,e,i){return\"historicMoment\"in this&&this.historicMoment!==i&&n(t,e)}};return s=m,t([r()],o.prototype,\"lastEditsEventDate\",void 0),o=t([d(\"esri.layers.mixins.EditBusLayer\")],o),o};export{F as EditBusLayer,c as emitApplyEditsEvent,u as emitUpdateMomentEvent,p as isEditBusLayer,b as isLayerWithGDBVersion,l as onApplyEditsEvent,h as onUpdateMomentEvent,g as versionMatches};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n=[[\"binary\",\"application/octet-stream\",\"bin\",\"\"]];function t(n,t){return null!=d(t.name,n?.supportedFormats??[])}function r(n,t){if(!n)return!1;const r=c(t,n.supportedFormats??[]);return null!=r&&n.editFormats.includes(r)}function o(n){return a(n?.supportedFormats??[]).flatMap(w).map((n=>`.${n}`))}function e(n){const t={};for(const r of a(n?.supportedFormats??[])){const[n,o]=l(r).split(\";\"),e=n.trim().toLowerCase(),u=w(r).map((n=>`.${n}`));t[e]??=[],t[e].push(...u)}return{description:\"3D Models\",accept:t}}function u(n,t){return m(p(n,t))}function i(n,t){return m(d(n,t))}function s(n,t){return l(f(n,t))}function c(n,t){return i(n.name,t)??u(n.type,t)}function a(t){return[...n,...t]}function f(n,t){return a(t).find((t=>m(t)===n))}function p(n,t){const r=n.toLowerCase();return a(t).find((n=>l(n)===r))}function d(n,t){const r=n.toLowerCase();return a(t).find((n=>w(n).some((n=>r.endsWith(n)))))}function m(n){return n?.[0]}function l(n){return n?.[1].toLowerCase()}function w(n){return n?.[2].split(\",\").map((n=>n.toLowerCase()))??[]}function C(n){return n?.[3]}function F(n){return n.tables?.find((n=>\"assetMaps\"===n.role))}export{F as getAssetMapTable,c as getFileFormatId,e as getFilePickerAcceptType,i as getFilenameFormatId,C as getFormatDescription,w as getFormatExtensions,m as getFormatId,s as getFormatIdMimeType,l as getFormatMimeType,u as getMimeTypeFormatId,o as getSupportedExtensions,r as isFileEditFormat,t as isFileSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getJsonType as e,getGeometryType as t}from\"../../geometry/support/jsonUtils.js\";function r(t){return{geometryType:e(t[0]),geometries:t.map((e=>e.toJSON()))}}function o(e,r,o){const n=t(r);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=o,t}))}export{o as decodeGeometries,r as encodeGeometries};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport r from\"../config.js\";import{id as t}from\"../kernel.js\";import{clone as o}from\"../core/lang.js\";import{urlToObject as n}from\"../core/urlUtils.js\";import{supportsApiKey as e}from\"../support/apiKeyUtils.js\";function i(r,t){return t?{...t,query:{...r??{},...t.query}}:{query:r}}function f(r){return\"string\"==typeof r?n(r):o(r)}function s(r,t,o){const n={};for(const e in r){if(\"declaredClass\"===e)continue;const i=r[e];if(null!=i&&\"function\"!=typeof i)if(Array.isArray(i))n[e]=i.map((r=>s(r)));else if(\"object\"==typeof i)if(i.toJSON){const r=i.toJSON(o?.[e]);n[e]=t?r:JSON.stringify(r)}else n[e]=t?i:JSON.stringify(i);else n[e]=i}return n}function u(o,n){return o?e(o)&&(n||r.apiKey)?n||r.apiKey:t?.findCredential(o)?.token:null}export{i as asValidOptions,s as encode,u as getToken,f as parseUrl};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{generateLowercaseBracedUUID as r}from\"../../core/uuid.js\";const t=r(),n=new Map,s=new Map,a=new Map;async function o(r,t,s){if(!r||!s)return!1;if(!t)return!0;const a=new URL(r).host;let o=n.get(a);if(!o){const t=r.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\");o=(await e(t,{responseType:\"json\",query:{f:\"json\"}})).data.defaultVersionName}return o===t}async function i(e,r,n=!1){if(!e||!r)return!0;const a=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),o=s.get(a)?.entries();if(o)for(const[s,i]of o)if(i.name===r){const e=!i.stack?.hasForwardEdits();if(!e&&n){const[{deleteForwardEdits:e},{default:r}]=await Promise.all([import(/* webpackChunkName: \"rest-versionManagement-gdbVersion-deleteForwardEdits\" */ \"../../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(/* webpackChunkName: \"rest-versionManagement-gdbVersion-support-DeleteForwardEditsParameters\" */ \"../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),n=await e(a,s,new r({sessionId:t,moment:i.moment}));return n.success&&i.stack?.clearForwardEdits(),n.success}return e}return!0}function c(e,r){if(!e)return!1;const t=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),n=s.get(t)?.entries();if(n)for(const[s,a]of n)if(a.name===r){return\"edit\"===a.lockType}return!1}export{t as currentSessionId,n as defaultVersionNameLookup,o as isHistoricVersion,i as isSafeToEditVersion,c as isVersionInEditSession,s as versionCollection,a as versionCollectionCount};\n"],"names":["t","crypto","n","randomUUID","getRandomValues","Uint16Array","r","toString","padStart","toUpperCase","o","getLogger","y","type","x","d","e","s","length","i","push","Math","min","max","w","error","l","c","sqrt","f","u","p","floor","g","rings","spatialReference","paths","M","b","Array","isArray","clone","offset","j","cutIndexes","geometries","some","Number","toFixed","getPoint","setPoint","addRing","addPath","async","R","warn","url","geometryServiceUrl","v","P","L","U","z","A","isWebMercator","maxX","minX","plus180Line","minus180Line","points","map","_normalize","extent","xmin","xmax","intersects","F","N","S","k","m","a","responseType","query","sr","target","JSON","stringify","geometryType","cutter","path","data","shift","C","valid","width","ceil","abs","WebMercator","WGS84","applyEdits","objectId","every","I","globalId","$","E","gdbVersion","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","load","layer","options","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","infoFor3D","editing","supportsGlobalId","globalIdUsed","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","from","isCollection","toArray","G","operations","supportsAdd","supportsUpdate","supportsDelete","addAssetFeatures","V","fields","filter","globalIdField","forEach","attributes","T","O","geometry","supportsGeometryUpdate","B","supportedFormats","editFormats","includes","q","D","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","name","MAX_SAFE_INTEGER","feature","hasZ","capabilities","supportsZ","hasM","supportsM","vertexSpace","h","wkid","attachment","uploadId","File","supportsUploadWithItemId","isBase64","concat","slice","W","uploadAssets","EventEmitter","serviceUrl","mayReceiveServiceEdits","Symbol","URL","host","get","constructor","super","this","_applyEditsHandler","lastEditsEventDate","find","adds","updates","deletes","objectIdField","current","_shouldUpdateHistoricMoment","_updateMomentHandler","moment","when","addHandles","on","WeakRef","prototype","toLowerCase","split","endsWith","tables","role","toJSON","fromJSON","Map","replace","defaultVersionName","entries","stack","hasForwardEdits","deleteForwardEdits","default","Promise","all","sessionId","success","clearForwardEdits","lockType"],"sourceRoot":""}