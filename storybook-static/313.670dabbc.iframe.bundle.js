"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[313],{"./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmDataModelWrapperInterfaces.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var e,r,i,t,o,p,n;__webpack_require__.d(__webpack_exports__,{Eq:()=>e,bV:()=>i,nP:()=>o,r5:()=>r,ti:()=>p,vy:()=>n,wr:()=>t}),function(e){e[e.Regular=0]="Regular",e[e.Provenance=1]="Provenance",e[e.Document=2]="Document"}(e||(e={})),function(e){e[e.esriFieldTypeSmallInteger=0]="esriFieldTypeSmallInteger",e[e.esriFieldTypeInteger=1]="esriFieldTypeInteger",e[e.esriFieldTypeSingle=2]="esriFieldTypeSingle",e[e.esriFieldTypeDouble=3]="esriFieldTypeDouble",e[e.esriFieldTypeString=4]="esriFieldTypeString",e[e.esriFieldTypeDate=5]="esriFieldTypeDate",e[e.esriFieldTypeOID=6]="esriFieldTypeOID",e[e.esriFieldTypeGeometry=7]="esriFieldTypeGeometry",e[e.esriFieldTypeBlob=8]="esriFieldTypeBlob",e[e.esriFieldTypeRaster=9]="esriFieldTypeRaster",e[e.esriFieldTypeGUID=10]="esriFieldTypeGUID",e[e.esriFieldTypeGlobalID=11]="esriFieldTypeGlobalID",e[e.esriFieldTypeXML=12]="esriFieldTypeXML",e[e.esriFieldTypeBigInteger=13]="esriFieldTypeBigInteger",e[e.esriFieldTypeDateOnly=14]="esriFieldTypeDateOnly",e[e.esriFieldTypeTimeOnly=15]="esriFieldTypeTimeOnly",e[e.esriFieldTypeTimestampOffset=16]="esriFieldTypeTimestampOffset"}(r||(r={})),function(e){e[e.esriGeometryNull=0]="esriGeometryNull",e[e.esriGeometryPoint=1]="esriGeometryPoint",e[e.esriGeometryMultipoint=2]="esriGeometryMultipoint",e[e.esriGeometryPolyline=3]="esriGeometryPolyline",e[e.esriGeometryPolygon=4]="esriGeometryPolygon",e[e.esriGeometryEnvelope=5]="esriGeometryEnvelope",e[e.esriGeometryAny=6]="esriGeometryAny",e[e.esriGeometryMultiPatch=7]="esriGeometryMultiPatch"}(i||(i={})),function(e){e[e.esriMethodHintUNSPECIFIED=0]="esriMethodHintUNSPECIFIED",e[e.esriUUIDESRI=1]="esriUUIDESRI",e[e.esriUUIDRFC4122=2]="esriUUIDRFC4122"}(t||(t={})),function(e){e[e.esriTypeUNSPECIFIED=0]="esriTypeUNSPECIFIED",e[e.esriTypeEntity=1]="esriTypeEntity",e[e.esriTypeRelationship=2]="esriTypeRelationship",e[e.esriTypeBoth=4]="esriTypeBoth"}(o||(o={})),function(e){e[e.esriGraphPropertyUNSPECIFIED=0]="esriGraphPropertyUNSPECIFIED",e[e.esriGraphPropertyRegular=1]="esriGraphPropertyRegular",e[e.esriGraphPropertyDocumentName=2]="esriGraphPropertyDocumentName",e[e.esriGraphPropertyDocumentTitle=3]="esriGraphPropertyDocumentTitle",e[e.esriGraphPropertyDocumentUrl=4]="esriGraphPropertyDocumentUrl",e[e.esriGraphPropertyDocumentText=5]="esriGraphPropertyDocumentText",e[e.esriGraphPropertyDocumentKeywords=6]="esriGraphPropertyDocumentKeywords",e[e.esriGraphPropertyDocumentContentType=7]="esriGraphPropertyDocumentContentType",e[e.esriGraphPropertyDocumentMetadata=8]="esriGraphPropertyDocumentMetadata",e[e.esriGraphPropertyDocumentFileExtension=9]="esriGraphPropertyDocumentFileExtension",e[e.esriGraphPropertyProvenanceInstanceId=10]="esriGraphPropertyProvenanceInstanceId",e[e.esriGraphPropertyProvenanceSourceType=11]="esriGraphPropertyProvenanceSourceType",e[e.esriGraphPropertyProvenanceSourceName=12]="esriGraphPropertyProvenanceSourceName",e[e.esriGraphPropertyProvenanceSource=13]="esriGraphPropertyProvenanceSource",e[e.esriGraphPropertyProvenanceComment=14]="esriGraphPropertyProvenanceComment",e[e.esriGraphPropertyProvenanceTypeName=15]="esriGraphPropertyProvenanceTypeName",e[e.esriGraphPropertyProvenancePropertyName=16]="esriGraphPropertyProvenancePropertyName"}(p||(p={})),function(e){e[e.esriIdentifierInfoTypeUNSPECIFIED=0]="esriIdentifierInfoTypeUNSPECIFIED",e[e.esriIdentifierInfoTypeDatabaseNative=1]="esriIdentifierInfoTypeDatabaseNative",e[e.esriIdentifierInfoTypeUniformProperty=2]="esriIdentifierInfoTypeUniformProperty"}(n||(n={}))},"./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/knowledgeWasmAccess.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>r});var _assets_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/assets.js"),_core_has_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/has.js");const t="esri/rest/knowledgeGraph/wasmInterface/";let s,n=null;async function r(){const e=n??s;if(e)return e;const t=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__.A)("wasm-simd");return s=o(t),s}async function o(s){if(s){const{default:s}=await __webpack_require__.e(5853).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/chunks/arcgis-knowledge-client-core-simd.js")).then((e=>e.a));return s({locateFile:s=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.s)(t+s)})}const{default:n}=await __webpack_require__.e(4811).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/chunks/arcgis-knowledge-client-core.js")).then((e=>e.a));return n({locateFile:s=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__.s)(t+s)})}},"./node_modules/@arcgis/core/rest/knowledgeGraphService.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{_esriRequestWrapper:()=>knowledgeGraphService_J,_fetchWrapper:()=>$,_getClientDataCacheCopy:()=>C,_setMaxQueryParsingDurationForTesting:()=>ne,_submitJobWrapper:()=>knowledgeGraphService_O,clearClientDataCache:()=>B,clientDataCache:()=>knowledgeGraphService_E,executeApplyEdits:()=>knowledgeGraphService_P,executeFindPaths:()=>knowledgeGraphService_N,executeFindPathsAsynchronous:()=>knowledgeGraphService_L,executeQuery:()=>q,executeQueryStreaming:()=>knowledgeGraphService_F,executeSearch:()=>Q,executeSearchStreaming:()=>knowledgeGraphService_j,fetchAllClientDataKeys:()=>K,fetchAsynchronousFindPathsResultData:()=>knowledgeGraphService_z,fetchClientDataAtKeys:()=>W,fetchKnowledgeGraph:()=>knowledgeGraphService_I,kgRestServices:()=>knowledgeGraphService_M,refreshDataModel:()=>U,refreshServiceDefinition:()=>H});var c,kernel=__webpack_require__("./node_modules/@arcgis/core/kernel.js"),request=__webpack_require__("./node_modules/@arcgis/core/request.js"),Error=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),Logger=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),promiseUtils=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),Geometry=__webpack_require__("./node_modules/@arcgis/core/geometry/Geometry.js"),SpatialReference=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),tslib_es6=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),Accessor=__webpack_require__("./node_modules/@arcgis/core/core/Accessor.js"),property=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),ensureType=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),subclass=(__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/RandomLCG.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js")),Extent=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js");let i=c=class extends Accessor.A{constructor(e){super(e),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnColumnName=!1,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}static from(e){return(0,ensureType.PZ)(c,e)}};(0,tslib_es6._)([(0,property.MZ)({type:SpatialReference.A})],i.prototype,"outSpatialReference",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Extent.default})],i.prototype,"processExtent",void 0),(0,tslib_es6._)([(0,property.MZ)({type:SpatialReference.A})],i.prototype,"processSpatialReference",void 0),(0,tslib_es6._)([(0,property.MZ)({nonNullable:!0})],i.prototype,"returnColumnName",void 0),(0,tslib_es6._)([(0,property.MZ)({nonNullable:!0})],i.prototype,"returnFeatureCollection",void 0),(0,tslib_es6._)([(0,property.MZ)({nonNullable:!0})],i.prototype,"returnM",void 0),(0,tslib_es6._)([(0,property.MZ)({nonNullable:!0})],i.prototype,"returnZ",void 0),i=c=(0,tslib_es6._)([(0,subclass.$)("esri.rest.geoprocessor.GPOptions")],i);const l=i;var normalizeUtils=__webpack_require__("./node_modules/@arcgis/core/geometry/support/normalizeUtils.js"),Field=__webpack_require__("./node_modules/@arcgis/core/layers/support/Field.js"),JSONSupport=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js");let p=class extends JSONSupport.A{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};(0,tslib_es6._)([(0,property.MZ)({type:Extent.default})],p.prototype,"extent",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"height",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"href",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"opacity",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"rotation",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"scale",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"visible",void 0),(0,tslib_es6._)([(0,property.MZ)()],p.prototype,"width",void 0),p=(0,tslib_es6._)([(0,subclass.$)("esri.layers.support.MapImage")],p);const MapImage_i=p;var utils=__webpack_require__("./node_modules/@arcgis/core/rest/utils.js"),enumeration=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js"),networkEnums=__webpack_require__("./node_modules/@arcgis/core/rest/support/networkEnums.js");let ArealUnit_c=class extends JSONSupport.A{constructor(r){super(r),this.area=0,this.units=null}};(0,tslib_es6._)([(0,property.MZ)({json:{write:!0}})],ArealUnit_c.prototype,"area",void 0),(0,tslib_es6._)([(0,enumeration.e)(networkEnums.UO)],ArealUnit_c.prototype,"units",void 0),ArealUnit_c=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.ArealUnit")],ArealUnit_c);const ArealUnit_i=ArealUnit_c;let e=class extends JSONSupport.A{constructor(r){super(r),this.itemId=null,this.url=null}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],e.prototype,"itemId",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],e.prototype,"url",void 0),e=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.DataFile")],e);const DataFile_p=e;var FeatureSet=__webpack_require__("./node_modules/@arcgis/core/rest/support/FeatureSet.js");let LinearUnit_c=class extends JSONSupport.A{constructor(o){super(o),this.distance=0,this.units=null}};(0,tslib_es6._)([(0,property.MZ)({json:{write:!0}})],LinearUnit_c.prototype,"distance",void 0),(0,tslib_es6._)([(0,enumeration.e)(networkEnums.Y8)],LinearUnit_c.prototype,"units",void 0),LinearUnit_c=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.LinearUnit")],LinearUnit_c);const LinearUnit_i=LinearUnit_c;var jsonMap=__webpack_require__("./node_modules/@arcgis/core/core/jsonMap.js");const parameterValueUtils_t=new jsonMap.J({GPArealUnit:"areal-unit",GPBoolean:"boolean",GPComposite:"composite",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",Field:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string",GPValueTable:"value-table","GPMultiValue:GPArealUnit":"multi-value-areal-unit","GPMultiValue:GPBoolean":"multi-value-boolean","GPMultiValue:GPComposite":"multi-value-composite","GPMultiValue:GPDataFile":"multi-value-data-file","GPMultiValue:GPDate":"multi-value-date","GPMultiValue:GPDouble":"multi-value-double","GPMultiValue:GPFeatureRecordSetLayer":"multi-value-feature-record-set-layer","GPMultiValue:Field":"multi-value-field","GPMultiValue:GPLinearUnit":"multi-value-linear-unit","GPMultiValue:GPLong":"multi-value-long","GPMultiValue:GPRasterData":"multi-value-raster-data","GPMultiValue:GPRasterDataLayer":"multi-value-raster-data-layer","GPMultiValue:GPRecordSet":"multi-value-record-set","GPMultiValue:GPString":"multi-value-string"});let ParameterValue_a=class extends JSONSupport.A{constructor(r){super(r),this.dataType=null,this.paramName=null,this.value=null}};(0,tslib_es6._)([(0,enumeration.e)(parameterValueUtils_t,{ignoreUnknown:!1})],ParameterValue_a.prototype,"dataType",void 0),(0,tslib_es6._)([(0,property.MZ)()],ParameterValue_a.prototype,"paramName",void 0),(0,tslib_es6._)([(0,property.MZ)()],ParameterValue_a.prototype,"value",void 0),ParameterValue_a=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.ParameterValue")],ParameterValue_a);const m=ParameterValue_a;let RasterData_e=class extends JSONSupport.A{constructor(r){super(r),this.format=null,this.itemId=null,this.url=null}};(0,tslib_es6._)([(0,property.MZ)()],RasterData_e.prototype,"format",void 0),(0,tslib_es6._)([(0,property.MZ)({json:{read:{source:"itemID"},write:{target:"itemID"}}})],RasterData_e.prototype,"itemId",void 0),(0,tslib_es6._)([(0,property.MZ)()],RasterData_e.prototype,"url",void 0),RasterData_e=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.RasterData")],RasterData_e);const RasterData_p=RasterData_e;async function S(r,a,n,s,i){const u={},m={},c=[];return function d(e,r,t){for(const a in e){const n=e[a];if(n&&"object"==typeof n&&n instanceof FeatureSet.A){const{features:e}=n;t[a]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}}}(s,c,u),(0,normalizeUtils.el)(c).then((t=>{const{outSpatialReference:c,processExtent:p,processSpatialReference:f,returnColumnName:l,returnFeatureCollection:y,returnM:S,returnZ:d}=n,{path:N}=(0,utils.Dl)(r);for(const e in u){const[r,a]=u[e];m[e]=t.slice(r,a)}const j=c?c.wkid||c:null,g=f?f.wkid||f:null,J="execute"===a?{returnColumnName:l||void 0,returnFeatureCollection:y||void 0,returnM:S||void 0,returnZ:d||void 0}:null,O=R({...p?{context:{extent:p,outSR:j,processSR:g}}:{"env:outSR":j,"env:processSR":g},...s,...J,f:"json"},null,m),v={...i,query:O};return(0,request.A)(`${N}/${a}`,v)}))}async function N(e,t){switch(e){case"areal-unit":return ArealUnit_i.fromJSON(t);case"boolean":case"double":case"long":case"string":case"value-table":return t;case"date":return new Date(t);case"data-file":return DataFile_p.fromJSON(t);case"linear-unit":return LinearUnit_i.fromJSON(t);case"feature-record-set-layer":if("url"in t)return DataFile_p.fromJSON(t);if("layerDefinition"in t){const e=new(0,(await Promise.all([__webpack_require__.e(9014),__webpack_require__.e(5751),__webpack_require__.e(563),__webpack_require__.e(909),__webpack_require__.e(9214),__webpack_require__.e(803),__webpack_require__.e(6768),__webpack_require__.e(6459),__webpack_require__.e(4057),__webpack_require__.e(4408),__webpack_require__.e(9093)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/layers/FeatureLayer.js"))).default),{layerDefinition:a,featureSet:n}=t;return e.read({layerDefinition:a,featureSet:n},{origin:"portal-item"}),e.spatialReference=SpatialReference.A.fromJSON(n.spatialReference??a.spatialReference??a.extent.spatialReference),e}return FeatureSet.A.fromJSON(t);case"record-set":return"url"in t?DataFile_p.fromJSON(t):FeatureSet.A.fromJSON(t);case"raster-data":case"raster-data-layer":return"mapImage"in t?MapImage_i.fromJSON(t.mapImage):RasterData_p.fromJSON(t);case"field":return Field.A.fromJSON(t)}}async function O(e){const r=parameterValueUtils_t.fromJSON(e.dataType),{paramName:t}=e,a=function j(e){return e.startsWith("multi-value-")}(r)?await async function J(e,r){const t=function g(e){return e.replace("multi-value-","")}(e),a="composite"===t?r.map((e=>N(parameterValueUtils_t.fromJSON(e.dataType),e.value))):r.map((e=>N(t,e)));return Promise.all(a)}(r,e.value):await N(r,e.value);return new m({dataType:r,paramName:t,value:a})}function R(e,r,t){for(const a in e){const r=e[a];Array.isArray(r)?e[a]=JSON.stringify(r.map((e=>R({item:e},!0).item))):r instanceof Date&&(e[a]=r.getTime())}return(0,utils.lF)(e,r,t)}var JobInfo_p,GPMessage=__webpack_require__("./node_modules/@arcgis/core/rest/support/GPMessage.js");const JobInfo_d=(0,jsonMap.O)()({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"},{ignoreUnknown:!1}),h=1e3;let JobInfo_g=JobInfo_p=class extends JSONSupport.A{constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.progress=null,this.requestOptions=null,this.sourceUrl=null,this._cancelJobTimer=void 0,this._jobCompletionTimer=void 0}async cancelJob(e){const{jobId:t,sourceUrl:s}=this,{path:a}=(0,utils.Dl)(s),c={...this.requestOptions,...e,query:{f:"json"}},n=`${a}/jobs/${t}/cancel`,{data:u}=await(0,request.A)(n,c),{messages:b,jobStatus:m,progress:j}=JobInfo_p.fromJSON(u);return this.set({messages:b,jobStatus:m,progress:j}),"job-cancelled"===m?this:new Promise(((o,t)=>{(0,promiseUtils.u7)(c.signal,(()=>{this.clearCancelJobTimer(),t((0,promiseUtils.NK)())})),this.clearCancelJobTimer();const s=()=>{this._cancelJobTimer||t((0,promiseUtils.NK)()),this.checkJobStatus(e).then((({jobStatus:e})=>{switch(e){case"job-cancelling":default:this._cancelJobTimer=setTimeout(s,h);break;case"job-deleted":case"job-deleting":case"job-executing":case"job-failed":case"job-new":case"job-submitted":case"job-succeeded":case"job-timed-out":case"job-waiting":t(this);break;case"job-cancelled":o(this)}}))};this._cancelJobTimer=setTimeout(s,h)}))}destroy(){clearInterval(this._cancelJobTimer),clearInterval(this._jobCompletionTimer)}async checkJobStatus(e){const{path:t}=(0,utils.Dl)(this.sourceUrl),s={...this.requestOptions,...e,query:{f:"json"}},r=`${t}/jobs/${this.jobId}`,{data:i}=await(0,request.A)(r,s),{messages:a,jobStatus:c,progress:n}=JobInfo_p.fromJSON(i);return this.set({messages:a,jobStatus:c,progress:n}),this}async fetchResultData(e,t,s){t=l.from(t||{});const{returnColumnName:r,returnFeatureCollection:i,returnM:a,returnZ:c,outSpatialReference:n}=t,{path:j}=(0,utils.Dl)(this.sourceUrl),p=R({returnColumnName:r||null,returnFeatureCollection:i||null,returnM:a||null,returnZ:c||null,outSR:n,returnType:"data",f:"json"},null),d={...this.requestOptions,...s,query:p},h=`${j}/jobs/${this.jobId}/results/${e}`,{data:g}=await(0,request.A)(h,d);return O(g)}async fetchResultImage(e,t,s){const{path:r}=(0,utils.Dl)(this.sourceUrl),a=R({...t.toJSON(),f:"json"}),c={...this.requestOptions,...s,query:a},n=`${r}/jobs/${this.jobId}/results/${e}`,{data:u}=await(0,request.A)(n,c);return O(u)}async fetchResultMapImageLayer(){const{path:e}=(0,utils.Dl)(this.sourceUrl),o=e.indexOf("/GPServer/"),t=`${e.slice(0,Math.max(0,o))}/MapServer/jobs/${this.jobId}`;return new(0,(await Promise.all([__webpack_require__.e(9014),__webpack_require__.e(5751),__webpack_require__.e(563),__webpack_require__.e(9214),__webpack_require__.e(803),__webpack_require__.e(6459),__webpack_require__.e(2669),__webpack_require__.e(4385),__webpack_require__.e(7423)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/@arcgis/core/layers/MapImageLayer.js"))).default)({url:t})}async waitForJobCompletion(e={}){const{interval:o=h,signal:t,statusCallback:s}=e;return new Promise(((e,a)=>{(0,promiseUtils.u7)(t,(()=>{this.clearJobCompletionTimer(),a((0,promiseUtils.NK)())})),this.clearJobCompletionTimer();const c=()=>{this._jobCompletionTimer||a((0,promiseUtils.NK)()),this.checkJobStatus().then((({jobStatus:t})=>{switch(t){case"job-succeeded":e(this);break;case"job-executing":case"job-new":case"job-submitted":case"job-waiting":s&&s(this),this._jobCompletionTimer=setTimeout(c,o);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-failed":case"job-timed-out":a(this);break;default:this._jobCompletionTimer=setTimeout(c,o)}})).catch((e=>{a(e)}))};this._jobCompletionTimer=setTimeout(c,o)}))}clearCancelJobTimer(){clearTimeout(this._cancelJobTimer),this._cancelJobTimer=void 0}clearJobCompletionTimer(){clearTimeout(this._jobCompletionTimer),this._jobCompletionTimer=void 0}};(0,tslib_es6._)([(0,property.MZ)()],JobInfo_g.prototype,"jobId",void 0),(0,tslib_es6._)([(0,enumeration.e)(JobInfo_d,{ignoreUnknown:!1})],JobInfo_g.prototype,"jobStatus",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[GPMessage.A]})],JobInfo_g.prototype,"messages",void 0),(0,tslib_es6._)([(0,property.MZ)()],JobInfo_g.prototype,"progress",void 0),(0,tslib_es6._)([(0,property.MZ)()],JobInfo_g.prototype,"requestOptions",void 0),(0,tslib_es6._)([(0,property.MZ)({json:{write:!0}})],JobInfo_g.prototype,"sourceUrl",void 0),JobInfo_g=JobInfo_p=(0,tslib_es6._)([(0,subclass.$)("esri.rest.support.JobInfo")],JobInfo_g);const JobInfo_J=JobInfo_g;let t=class extends Accessor.A{constructor(e){super(e),this.headerKeys=[],this.outSpatialReference=null,this.exceededTransferLimit=!1}};(0,tslib_es6._)([(0,property.MZ)()],t.prototype,"headerKeys",void 0),(0,tslib_es6._)([(0,property.MZ)()],t.prototype,"outSpatialReference",void 0),(0,tslib_es6._)([(0,property.MZ)()],t.prototype,"exceededTransferLimit",void 0),t=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphQueryResultHeader")],t);const GraphQueryResultHeader_p=t;let GraphQueryResult_p=class extends Accessor.A{constructor(r){super(r),this.resultRows=[],this.resultHeader=new GraphQueryResultHeader_p}};(0,tslib_es6._)([(0,property.MZ)()],GraphQueryResult_p.prototype,"resultRows",void 0),(0,tslib_es6._)([(0,property.MZ)()],GraphQueryResult_p.prototype,"resultHeader",void 0),GraphQueryResult_p=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphQueryResult")],GraphQueryResult_p);const GraphQueryResult_c=GraphQueryResult_p;let GraphQueryStreamingResult_a=class extends Accessor.A{constructor(r){super(r),this.resultRowsStream=new ReadableStream,this.resultHeader=new GraphQueryResultHeader_p}};(0,tslib_es6._)([(0,property.MZ)()],GraphQueryStreamingResult_a.prototype,"resultRowsStream",void 0),(0,tslib_es6._)([(0,property.MZ)()],GraphQueryStreamingResult_a.prototype,"resultHeader",void 0),GraphQueryStreamingResult_a=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphQueryStreamingResult")],GraphQueryStreamingResult_a);const GraphQueryStreamingResult_p=GraphQueryStreamingResult_a;let FieldIndex_s=class extends JSONSupport.A{constructor(o){super(o),this.name=null,this.unique=null,this.ascending=!0,this.description="",this.fieldNames=[]}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],FieldIndex_s.prototype,"name",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],FieldIndex_s.prototype,"unique",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],FieldIndex_s.prototype,"ascending",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],FieldIndex_s.prototype,"description",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[String],json:{write:!0}})],FieldIndex_s.prototype,"fieldNames",void 0),FieldIndex_s=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.FieldIndex")],FieldIndex_s);const FieldIndex_i=FieldIndex_s;let GraphProperty_i=class extends JSONSupport.A{constructor(t){super(t),this.name=null,this.alias=null,this.fieldType=null,this.geometryType=null,this.hasM=null,this.hasZ=null,this.nullable=null,this.editable=!0,this.required=!1,this.defaultVisibility=!0,this.systemMaintained=null,this.role="esriGraphPropertyUNSPECIFIED",this.defaultValue=null}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphProperty_i.prototype,"name",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphProperty_i.prototype,"alias",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphProperty_i.prototype,"fieldType",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphProperty_i.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"hasM",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"hasZ",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"nullable",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"editable",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"required",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"defaultVisibility",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphProperty_i.prototype,"systemMaintained",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphProperty_i.prototype,"role",void 0),(0,tslib_es6._)([(0,property.MZ)({json:{write:!0}})],GraphProperty_i.prototype,"defaultValue",void 0),GraphProperty_i=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphProperty")],GraphProperty_i);const GraphProperty_s=GraphProperty_i;let GraphObjectType_i=class extends JSONSupport.A{constructor(o){super(o),this.name=null,this.alias=null,this.role="Regular",this.strict=null,this.properties=[],this.fieldIndexes=[],this.type=null}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"name",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"alias",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"role",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],GraphObjectType_i.prototype,"strict",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[GraphProperty_s],json:{write:!0}})],GraphObjectType_i.prototype,"properties",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[FieldIndex_i],json:{write:!0}})],GraphObjectType_i.prototype,"fieldIndexes",void 0),GraphObjectType_i=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphObjectType")],GraphObjectType_i);const GraphObjectType_n=GraphObjectType_i;let EntityType_t=class extends GraphObjectType_n{constructor(r){super(r),this.type="entity"}};EntityType_t=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.EntityType")],EntityType_t);const EntityType_e=EntityType_t;let RelationshipType_t=class extends GraphObjectType_n{constructor(o){super(o),this.endPoints=[],this.type="relationship"}};(0,tslib_es6._)([(0,property.MZ)({json:{write:!0}})],RelationshipType_t.prototype,"endPoints",void 0),RelationshipType_t=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.RelationshipType")],RelationshipType_t);const RelationshipType_p=RelationshipType_t;let SourceTypeValueBehavior_t=class extends JSONSupport.A{constructor(o){super(o),this.value=null,this.behavior=null}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],SourceTypeValueBehavior_t.prototype,"value",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],SourceTypeValueBehavior_t.prototype,"behavior",void 0),SourceTypeValueBehavior_t=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.SourceTypeValueBehavior")],SourceTypeValueBehavior_t);const SourceTypeValueBehavior_p=SourceTypeValueBehavior_t;let DataModel_a=class extends JSONSupport.A{constructor(e){super(e),this.timestamp=null,this.spatialReference=null,this.strict=null,this.objectIdField=null,this.globalIdField=null,this.arcgisManaged=null,this.identifierInfo=null,this.searchIndexes=[],this.entityTypes=[],this.relationshipTypes=[],this.metaEntityTypes=[],this.provenanceSourceTypeValues=[]}};(0,tslib_es6._)([(0,property.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.timestamp=e?.getTime()}}}})],DataModel_a.prototype,"timestamp",void 0),(0,tslib_es6._)([(0,property.MZ)({type:SpatialReference.A,json:{write:!0}})],DataModel_a.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],DataModel_a.prototype,"strict",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],DataModel_a.prototype,"objectIdField",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],DataModel_a.prototype,"globalIdField",void 0),(0,tslib_es6._)([(0,property.MZ)()],DataModel_a.prototype,"arcgisManaged",void 0),(0,tslib_es6._)([(0,property.MZ)()],DataModel_a.prototype,"identifierInfo",void 0),(0,tslib_es6._)([(0,property.MZ)()],DataModel_a.prototype,"searchIndexes",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[EntityType_e],json:{write:!0}})],DataModel_a.prototype,"entityTypes",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[RelationshipType_p],json:{write:!0}})],DataModel_a.prototype,"relationshipTypes",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[EntityType_e],json:{write:!0}})],DataModel_a.prototype,"metaEntityTypes",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[SourceTypeValueBehavior_p],json:{write:!0}})],DataModel_a.prototype,"provenanceSourceTypeValues",void 0),DataModel_a=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.DataModel")],DataModel_a);const y=DataModel_a;let ServiceDefinition_p=class extends JSONSupport.A{constructor(t){super(t),this.capabilities=[],this.supportsSearch=!1,this.supportedQueryFormats=[],this.allowGeometryUpdates=!1,this.searchMaxRecordCount=null,this.serviceCapabilities=null,this.maxRecordCount=null,this.description="",this.copyrightText="",this.units="",this.spatialReference=null,this.currentVersion=null,this.dateFieldsTimeReference=null,this.serviceItemId="",this.supportsDocuments=!1,this.dataEditingNotSupported=!1,this.schemaEditingNotSupported=!1,this.supportsProvenance=!1}};(0,tslib_es6._)([(0,property.MZ)({type:[String],json:{write:!0}})],ServiceDefinition_p.prototype,"capabilities",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsSearch",void 0),(0,tslib_es6._)([(0,property.MZ)({type:[String],json:{write:!0}})],ServiceDefinition_p.prototype,"supportedQueryFormats",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"allowGeometryUpdates",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"searchMaxRecordCount",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Object,json:{write:!0}})],ServiceDefinition_p.prototype,"serviceCapabilities",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"maxRecordCount",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"description",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"copyrightText",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"units",void 0),(0,tslib_es6._)([(0,property.MZ)({type:SpatialReference.A,json:{write:!0}})],ServiceDefinition_p.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"currentVersion",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Object,json:{write:!0}})],ServiceDefinition_p.prototype,"dateFieldsTimeReference",void 0),(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"serviceItemId",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsDocuments",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"dataEditingNotSupported",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"schemaEditingNotSupported",void 0),(0,tslib_es6._)([(0,property.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsProvenance",void 0),ServiceDefinition_p=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.ServiceDefinition")],ServiceDefinition_p);const ServiceDefinition_s=ServiceDefinition_p;let KnowledgeGraph_p=class extends JSONSupport.A{constructor(o){super(o),this.url=null,this.dataModel=null,this.serviceDefinition=null}};(0,tslib_es6._)([(0,property.MZ)({type:String,json:{write:!0}})],KnowledgeGraph_p.prototype,"url",void 0),(0,tslib_es6._)([(0,property.MZ)({type:y,json:{write:!0}})],KnowledgeGraph_p.prototype,"dataModel",void 0),(0,tslib_es6._)([(0,property.MZ)({type:ServiceDefinition_s,json:{write:!0}})],KnowledgeGraph_p.prototype,"serviceDefinition",void 0),KnowledgeGraph_p=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.KnowledgeGraph")],KnowledgeGraph_p);const KnowledgeGraph_c=KnowledgeGraph_p;function wasmUtils_e(e,o,s){if(0!==e.error_code)throw new Error.A(o,s,{errorCode:e.error_code,errorMessage:e.error_message})}function clientDataToWasmEncodedFactories_n(e,t,n,r){const a=new n.ClientDataKey;a.deleteLater(),a.key_string=e;const o=new n.ClientDataFetchRequestParameter;o.deleteLater(),o.set_key(a);const c=t.get(e);return c&&!r&&(o.v_tag={v_tag:c.version}),o}var WasmQueryWrapperInterfaces_e,T,WasmQueryWrapperInterfaces_i,knowledgeWasmAccess=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/knowledgeWasmAccess.js"),Multipoint=__webpack_require__("./node_modules/@arcgis/core/geometry/Multipoint.js"),Point=__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js"),Polygon=__webpack_require__("./node_modules/@arcgis/core/geometry/Polygon.js"),Polyline=__webpack_require__("./node_modules/@arcgis/core/geometry/Polyline.js");function queryToWasmEncodedFactories_l(e,t){const n=new t.ArrayValue;return n.deleteLater(),e.forEach((e=>{n.add_value(f(e,t))})),n}function queryToWasmEncodedFactories_s(e,t){const n=new t.ObjectValue;n.deleteLater();for(const[o,r]of Object.entries(e))n.set_key_value(o,f(r,t));return n}function u(t,i){if(t instanceof Multipoint.A)return function queryToWasmEncodedFactories_g(e,t){const n=new t.GeometryValue;n.deleteLater(),n.geometry_type=n.geometry_type=t.esriGeometryType.esriGeometryMultipoint,n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],r=[];r[0]=e.points.length;let a=0;return e.points.forEach((e=>{e.forEach((e=>{o[a]=e,a++}))})),n.coords=new Float64Array(o),n.lengths=new Uint32Array(r),n}(t,i);if(t instanceof Point.default)return function queryToWasmEncodedFactories_h(e,t){const n=new t.GeometryValue;n.deleteLater(),n.geometry_type=t.esriGeometryType.esriGeometryPoint,n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],r=[];r[0]=1,o[0]=e.x,o[1]=e.y;let a=2;return e.hasZ&&(o[a]=e.z,a++),e.hasM&&(o[a]=e.m,a++),n.coords=new Float64Array(o),n.lengths=new Uint32Array(r),n}(t,i);if(t instanceof Polyline.A||t instanceof Polygon.A)return function queryToWasmEncodedFactories_p(e,t){const n=new t.GeometryValue;n.deleteLater(),n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],i=[];let l=[];e instanceof Polyline.A?(n.geometry_type=t.esriGeometryType.esriGeometryPolyline,l=e.paths):e instanceof Polygon.A&&(n.geometry_type=t.esriGeometryType.esriGeometryPolygon,l=e.rings);let s=0,u=0;return l.forEach((e=>{let t=0;e.forEach((e=>{t++,e.forEach((e=>{o[u]=e,u++}))})),i[s]=t,s++})),n.coords=new Float64Array(o),n.lengths=new Uint32Array(i),n}(t,i);throw new Error.A("knowledge-graph:unsupported-geometry","Only Point, Multipoint, Polyline, and Polygon geometry are supported by ArcGIS Knowledge",{geometry:t})}function f(e,n){if(null==e)return"";if("object"!=typeof e)return e;if(e instanceof Date)return e;if(e instanceof Geometry.A)return u(e,n);if(Array.isArray(e)){const t=new n.ArrayValue;return t.deleteLater(),e.forEach((e=>{t.add_value(f(e,n))})),t}return queryToWasmEncodedFactories_s(e,n)}!function(e){e[e.OBJECT=0]="OBJECT",e[e.ENTITY=1]="ENTITY",e[e.RELATIONSHIP=2]="RELATIONSHIP",e[e.PATH=3]="PATH",e[e.ARRAY=4]="ARRAY"}(WasmQueryWrapperInterfaces_e||(WasmQueryWrapperInterfaces_e={})),function(e){e[e.view=0]="view",e[e.edit=1]="edit"}(T||(T={})),function(e){e[e.exclude=0]="exclude",e[e.include=1]="include"}(WasmQueryWrapperInterfaces_i||(WasmQueryWrapperInterfaces_i={}));var WasmClientDataInterfaces_e,WasmClientDataInterfaces_t,WasmClientDataInterfaces_i,WasmClientDataInterfaces_n,Entity=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/Entity.js"),Relationship=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/Relationship.js");function r(t,n){if(!t.typeName)throw new Error.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits");if(t instanceof Entity.A){const e=new n.EntityValue;e.deleteLater(),e.type_name=t.typeName;for(const[o,i]of Object.entries(t.properties))e.set_key_value(o,updateToWasmEncodedFactories_a(i,n));return t.id&&e.set_id(t.id),e}if(t instanceof Relationship.A){const e=new n.RelationshipValue;e.deleteLater(),e.type_name=t.typeName;for(const[o,i]of Object.entries(t.properties))e.set_key_value(o,updateToWasmEncodedFactories_a(i,n));return t.id&&e.set_id(t.id),t.originId&&t.destinationId&&e.set_related_entity_ids(t.originId,t.destinationId),e}throw new Error.A("knowledge-graph:applyEdits-encoding-failure","Could not determine the type of a named graph object passed to the encoder")}function updateToWasmEncodedFactories_a(e,o){return null==e?null:"object"!=typeof e||e instanceof Date?e:e instanceof Geometry.A?u(e,o):null}!function(e){e[e.ClientDataKeyTypeUNSPECIFIED=0]="ClientDataKeyTypeUNSPECIFIED",e[e.ClientDataKeyTypeString=1]="ClientDataKeyTypeString"}(WasmClientDataInterfaces_e||(WasmClientDataInterfaces_e={})),function(e){e[e.ClientDataTypeUNSPECIFIED=0]="ClientDataTypeUNSPECIFIED",e[e.ClientDataTypeString=1]="ClientDataTypeString"}(WasmClientDataInterfaces_t||(WasmClientDataInterfaces_t={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.ClientData=1]="ClientData",e[e.NotModified=2]="NotModified"}(WasmClientDataInterfaces_i||(WasmClientDataInterfaces_i={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.Error=1]="Error",e[e.ClientDataValue=2]="ClientDataValue"}(WasmClientDataInterfaces_n||(WasmClientDataInterfaces_n={}));let SearchIndex_t=class extends Accessor.A{constructor(r){super(r),this.name=null,this.supportedCategory="esriTypeUNSPECIFIED",this.analyzers=[],this.searchProperties=new Map}};(0,tslib_es6._)([(0,property.MZ)()],SearchIndex_t.prototype,"name",void 0),(0,tslib_es6._)([(0,property.MZ)()],SearchIndex_t.prototype,"supportedCategory",void 0),(0,tslib_es6._)([(0,property.MZ)()],SearchIndex_t.prototype,"analyzers",void 0),(0,tslib_es6._)([(0,property.MZ)()],SearchIndex_t.prototype,"searchProperties",void 0),SearchIndex_t=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.SearchIndex")],SearchIndex_t);const SearchIndex_p=SearchIndex_t;var WasmDataModelWrapperInterfaces=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmDataModelWrapperInterfaces.js");let wasmToDataModelFactories_g=!1;function v(e){return e.deleteLater(),new EntityType_e(z(e))}function b(e){return e.deleteLater(),new FieldIndex_i({name:e.name,unique:e.unique,ascending:e.ascending,description:e.description,fieldNames:x(e.fields)})}function z(e){return{name:e.name,alias:e.alias,role:WasmDataModelWrapperInterfaces.Eq[e.role.value],strict:e.strict,properties:M(e.properties),fieldIndexes:P(e.field_indexes)}}function wasmToDataModelFactories_T(e){return e.deleteLater(),new GraphProperty_s({alias:e.alias,name:e.name,fieldType:WasmDataModelWrapperInterfaces.r5[e.field_type.value]?WasmDataModelWrapperInterfaces.r5[e.field_type.value]:void 0,geometryType:WasmDataModelWrapperInterfaces.bV[e.geometry_type.value]?WasmDataModelWrapperInterfaces.bV[e.geometry_type.value]:null,hasM:e.has_m,hasZ:e.has_z,nullable:e.nullable,editable:e.editable,required:e.required,defaultVisibility:e.default_visibility,systemMaintained:e.system_maintained,role:WasmDataModelWrapperInterfaces.ti[e.role.value],defaultValue:e.default_value})}function w(e){e.deleteLater();const t=z(e),i=[];for(let r=0;r<e.end_points.size();r++){const t=e.end_points.get(r);i.push({originEntityType:t.origin_entity_type,destinationEntityType:t.dest_entity_type})}return e.end_points.delete(),new RelationshipType_p(Object.assign({endPoints:i},t))}function I(e){return new SourceTypeValueBehavior_p({behavior:e.behavior,value:e.value})}function L(e){const t=[];for(let i=0;i<e.size();i++)t.push(v(e.get(i)));return e.delete(),t}function x(e){const t=[];for(let i=0;i<e.size();i++)t.push(e.get(i));return e.delete(),t}function M(e){const t=[];for(let i=0;i<e.size();i++){const r=wasmToDataModelFactories_T(e.get(i));"esriFieldTypeBigInteger"===r.fieldType&&(wasmToDataModelFactories_g=!0),t.push(r)}return e.delete(),t}function P(e){const t=[];for(let i=0;i<e.size();i++)t.push(b(e.get(i)));return e.delete(),t}function F(e){const t=[];for(let i=0;i<e.size();i++)t.push(w(e.get(i)));return e.delete(),t}function G(e){const t=[];for(let i=0;i<e.size();i++){const r=e.get(i);r.deleteLater(),t.push(I(r))}return e.delete(),t}function wasmToDataModelFactories_S(e){const t=[];for(let i=0;i<e.size();i++){const i=new SearchIndex_p,r=e.get(0);i.name=r.name,i.supportedCategory=WasmDataModelWrapperInterfaces.nP[r.supported_category.value];const n=r.analyzers.size();for(let e=0;e<n;e++)i.analyzers.push({name:r.analyzers.get(e).name});r.analyzers.delete();for(let e=0;e<r.search_properties.keys().size();e++){const t=r.search_properties.keys().get(e),n=r.search_properties.get(t),a=[];for(let e=0;e<n.property_names.size();e++)a.push(n.property_names.get(e));i.searchProperties.set(t,{propertyNames:a})}t.push(i)}return e.delete(),t}__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/GraphObject.js");var E,ObjectValue=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/ObjectValue.js"),Path=__webpack_require__("./node_modules/@arcgis/core/rest/knowledgeGraph/Path.js");function wasmToGeometryFactories_p(t,o){const s={paths:[],hasM:!1,hasZ:!1},r=wasmToGeometryFactories_c(t,s),{coords:n,geometry_type:a,lengths:h}=t;if(a.value!==o)throw new Error.A("KnowledgeGraph:illegal-geometry-type","Illegal Geometry type for multipath conversion");let l=0;return h.forEach((e=>{const t=[];for(let o=0;o<e;o++){const e=[];for(let t=0;t<r;t++)e[t]=n[l],l++;t.push(e)}s.paths.push(t)})),s}function wasmToGeometryFactories_c(e,t){let o=2;return e.has_z?(t.hasZ=e.has_z,o++):t.hasZ=!1,e.has_m?(t.hasM=e.has_m,o++):t.hasM=!1,o}!function(E){E[E.ESRI_GEOMETRY_NULL=0]="ESRI_GEOMETRY_NULL",E[E.ESRI_GEOMETRY_POINT=1]="ESRI_GEOMETRY_POINT",E[E.ESRI_GEOMETRY_MULTIPOINT=2]="ESRI_GEOMETRY_MULTIPOINT",E[E.ESRI_GEOMETRY_POLYLINE=3]="ESRI_GEOMETRY_POLYLINE",E[E.ESRI_GEOMETRY_POLYGON=4]="ESRI_GEOMETRY_POLYGON",E[E.ESRI_GEOMETRY_ENVELOPE=5]="ESRI_GEOMETRY_ENVELOPE",E[E.ESRI_GEOMETRY_ANY=6]="ESRI_GEOMETRY_ANY",E[E.ESRI_GEOMETRY_MULTI_PATCH=7]="ESRI_GEOMETRY_MULTI_PATCH"}(E||(E={}));const wasmToQueryResponseObjFactories_m=()=>Logger.A.getLogger("esri.rest.knowledgeGraph.WasmToQueryResponseObjConstructors"),wasmToQueryResponseObjFactories_f_decodedWasmObjToQueryResponseObj=(e,t,r)=>{if(null==e)return null;if("object"!=typeof e)return e;if("getDate"in e)return e;if("geometry_type"in e)switch(e.geometry_type.value){case null:return null;case E.ESRI_GEOMETRY_POINT:return function wasmToGeometryFactories_h(e,t){const s={spatialReference:t};let r=2;wasmToGeometryFactories_c(e,s);const n=e.coords;return s.x=n[0],s.y=n[1],e.has_z&&(s.z=n[r],r++),e.has_m&&(s.m=n[r]),new Point.default(s)}(e,r);case E.ESRI_GEOMETRY_MULTIPOINT:return function wasmToGeometryFactories_a(e,o){const s={spatialReference:o},r=wasmToGeometryFactories_c(e,s),n=e.lengths,a=e.coords,h=n[0];s.points=[];let l=0;for(let t=0;t<h;t++){const e=[];for(let t=0;t<r;t++)e[t]=a[l],l++;s.points.push(e)}return new Multipoint.A(s)}(e,r);case E.ESRI_GEOMETRY_POLYLINE:return function wasmToGeometryFactories_l(e,t){const{paths:o,hasM:s,hasZ:a}=wasmToGeometryFactories_p(e,E.ESRI_GEOMETRY_POLYLINE);return new Polyline.A({paths:o,hasM:s,hasZ:a,spatialReference:t})}(e,r);case E.ESRI_GEOMETRY_POLYGON:return function wasmToGeometryFactories_i(e,t){const{paths:o,hasM:r,hasZ:a}=wasmToGeometryFactories_p(e,E.ESRI_GEOMETRY_POLYGON);return new Polygon.A({rings:o,hasM:r,hasZ:a,spatialReference:t})}(e,r);case E.ESRI_GEOMETRY_ENVELOPE:case E.ESRI_GEOMETRY_MULTI_PATCH:return wasmToQueryResponseObjFactories_m().warnOnce("Envelope and Multipatch are not supported on knowledge entities, but one of those geometry types was detected. Result interpreted as null"),null;case E.ESRI_GEOMETRY_NULL:case E.ESRI_GEOMETRY_ANY:default:return wasmToQueryResponseObjFactories_m().warnOnce("Unknown or blank geometry type returned - Result interpreted as null"),null}else{if(!("object_value_type"in e))return wasmToQueryResponseObjFactories_m().warnOnce("A decoded value came back of a type that is not supported. Result interpreted as null"),null;switch(e.object_value_type.value){case WasmQueryWrapperInterfaces_e.OBJECT:return function wasmToQueryResponseObjFactories_j(e,t,r){return new ObjectValue.A(wasmToQueryResponseObjFactories_O(e,t,r))}(e,t,r);case WasmQueryWrapperInterfaces_e.ENTITY:return wasmToQueryResponseObjFactories_g(e,t,r);case WasmQueryWrapperInterfaces_e.RELATIONSHIP:return wasmToQueryResponseObjFactories_h(e,t,r);case WasmQueryWrapperInterfaces_e.PATH:return function wasmToQueryResponseObjFactories_T(e,t,r){const n=e.entity_count(),o=e.relationship_count(),s=[];for(let a=0;a<n;a++)s.push(wasmToQueryResponseObjFactories_g(e.get_entity_at(a),t,r)),a<o&&s.push(wasmToQueryResponseObjFactories_h(e.get_relationship_at(a),t,r));return new Path.A({path:s})}(e,t,r);case WasmQueryWrapperInterfaces_e.ARRAY:return function wasmToQueryResponseObjFactories_y(e,t,r){const n=[],o=e.count();for(let s=0;s<o;s++){const o=e.get_value_at(s);n.push(wasmToQueryResponseObjFactories_E(o,t,r))}return n}(e,t,r);default:return wasmToQueryResponseObjFactories_m().warnOnce("Unknown graph object type detected!  Result interpreted as null"),null}}};function wasmToQueryResponseObjFactories_E(e,t,r){return wasmToQueryResponseObjFactories_f_decodedWasmObjToQueryResponseObj(e,t,r)}function wasmToQueryResponseObjFactories_g(e,t,n){const o=e.type_name,s=wasmToQueryResponseObjFactories_O(e,t,n),a=e.get_id();return new Entity.A(Object.assign({typeName:o,id:a},s))}function wasmToQueryResponseObjFactories_O(e,t,r){const n={},o=e.key_count();for(let s=0;s<o;s++)n[e.get_key_at(s)]=wasmToQueryResponseObjFactories_E(e.get_value_at(s),t,r);return{properties:n}}function wasmToQueryResponseObjFactories_h(e,t,r){const n=e.type_name,o=wasmToQueryResponseObjFactories_O(e,t,r);return new Relationship.A(Object.assign({typeName:n,id:e.get_id(),originId:e.get_origin_entity_id(),destinationId:e.get_destination_entity_id()},o))}function wasmToQueryResponseObjFactories_w(e){const r=[];for(let t=0;t<e.get_header_keys().size();t++)r.push(e.get_header_keys().get(t));const n=new SpatialReference.A(e.get_out_sr());return new GraphQueryResultHeader_p({headerKeys:r,outSpatialReference:n,exceededTransferLimit:e.exceeded_transfer_limit()})}let GraphApplyEditsResult_e=class extends Accessor.A{constructor(r){super(r),this.hasError=!1,this.error=null,this.editResults=[]}};(0,tslib_es6._)([(0,property.MZ)()],GraphApplyEditsResult_e.prototype,"hasError",void 0),(0,tslib_es6._)([(0,property.MZ)()],GraphApplyEditsResult_e.prototype,"error",void 0),(0,tslib_es6._)([(0,property.MZ)()],GraphApplyEditsResult_e.prototype,"editResults",void 0),GraphApplyEditsResult_e=(0,tslib_es6._)([(0,subclass.$)("esri.rest.knowledgeGraph.GraphApplyEditsResult")],GraphApplyEditsResult_e);const GraphApplyEditsResult_p=GraphApplyEditsResult_e;const knowledgeGraphService_E=new Map,C=()=>new Map(knowledgeGraphService_E.entries()),knowledgeGraphService_M={fetchKnowledgeGraph:async e=>{const t=new KnowledgeGraph_c({url:e}),r=[];return r.push(U(t)),r.push(H(t)),await Promise.all(r),t},refreshDataModel:async e=>{e.dataModel=await ie(e)},refreshServiceDefinition:async e=>{const r=(await(0,request.A)(e.url,{query:{f:"json"}})).data;return r.capabilities=r?.capabilities?.split(","),r.supportedQueryFormats=r?.supportedQueryFormats?.split(","),e.serviceDefinition=new ServiceDefinition_s(r),e.serviceDefinition},executeFindPathsAsynchronous:async(e,t)=>{const a=e.inKnowledgeGraphUrl.split("/rest/services");if(a.length<2)throw new Error.A("knowledge-graph:invalid-tool-url","The URL for the KG Service was not correctly formatted.  It should contain /reset/services/");const n=a[0];return await knowledgeGraphService_O(`${n}/rest/services/System/KnowledgeGraphServerToolsAsync/GPServer/ServerFilteredFindPaths`,{in_knowledge_graph_url:e.inKnowledgeGraphUrl,config_type:"STRING",config_string:e.config.toJSON(),result_type:"STRING"},{},t)},executeFindPaths:async(e,t)=>{const a=e.inKnowledgeGraphUrl.split("/rest/services");if(a.length<2)throw new Error.A("knowledge-graph:invalid-tool-url","The URL for the KG Service was not correctly formatted.  It should contain /reset/services/");const n=a[0],o=await knowledgeGraphService_J(`${n}/rest/services/System/KnowledgeGraphServerTools/GPServer/ServerFilteredFindPaths/execute`,{method:"post",query:{f:"pjson",in_knowledge_graph_url:e.inKnowledgeGraphUrl,config_type:"STRING",config_string:JSON.stringify(e.config),result_type:"STRING"},...t});if(o.data.results.length<1)throw new Error.A("knowledge-graph:no-results","No results were returned from the FindPaths tool - no results returned",o);let s;for(const r of o.data.results)if("out_results_string"===r.paramName){s=r.value;break}if(!s)throw new Error.A("knowledge-graph:no-results","No results were returned from the FindPaths tool - no results were returned on the expected paramater out_results_string",o);return s},fetchAsynchronousFindPathsResultData:async(e,t)=>(await e.fetchResultData("out_results_string",null,t)).value,executeQueryStreaming:async(e,t,a)=>{const o=`${e.url}/graph/query`;await V(e);const s=await te(o,a);if(!e.serviceDefinition?.supportsProvenance&&"include"===t.provenanceBehavior)throw new Error.A("knowledge-graph:provenance-not-supported","The Knowledge Graph Service definition indicated that provenance is not supported");s.data.body=await async function Z(e,t){const a=await(0,knowledgeWasmAccess.I)(),n=new a.GraphQueryRequestEncoder;if(n.deleteLater(),e.outputSpatialReference?n.output_spatial_reference={wkid:e.outputSpatialReference.wkid,latestWkid:e.outputSpatialReference.latestWkid,vcsWkid:e.outputSpatialReference.vcsWkid,latestVcsWkid:e.outputSpatialReference.latestVcsWkid,wkt:e.outputSpatialReference.wkt??""}:n.output_spatial_reference=a.SpatialReferenceUtil.WGS84(),n.open_cypher_query=e.openCypherQuery,e.bindParameters)for(const[r,i]of Object.entries(e.bindParameters))Y(r,i,n,a);if(e.bindGeometryQuantizationParameters)!function queryToWasmEncodedFactories_y(e,t){t.input_quantization_parameters={xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}(e.bindGeometryQuantizationParameters,n);else{if(t.dataModel||await U(t),4326!==t.dataModel?.spatialReference?.wkid)throw new Error.A("knowledge-graph:SR-quantization-mismatch","If the DataModel indicates a coordinate system other than WGS84, inputQuantizationParameters must be provided to the query encoder");n.input_quantization_parameters=a.InputQuantizationUtil.WGS84_lossless()}e.outputQuantizationParameters&&function queryToWasmEncodedFactories_m(t,n,o){if(!t.extent)throw new Error.A("knowledge-graph:illegal-output-quantization","The Output quantization provided to the encoder had an illegal value as part of its extent",t.extent);if(!t.quantizeMode)throw new Error.A("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal mode setting",t.quantizeMode);if(!t.tolerance)throw new Error.A("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal tolerance setting",t.quantizeMode);n.output_quantization_parameters={extent:{xmax:t.extent.xmax,ymax:t.extent.ymax,xmin:t.extent.xmin,ymin:t.extent.ymin},quantize_mode:o.esriQuantizeMode[t.quantizeMode],tolerance:t.tolerance}}(e.outputQuantizationParameters,n,a),e.provenanceBehavior&&function queryToWasmEncodedFactories_c(e,t){t.provenance_behavior={value:WasmQueryWrapperInterfaces_i[e]}}(e.provenanceBehavior,n);try{n.encode()}catch(s){throw new Error.A("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{error:s})}const o=n.get_encoding_result();if(0!==o.error.error_code)throw new Error.A("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{errorCode:o.error.error_code,errorMessage:o.error.error_message});return structuredClone(o.get_byte_buffer())}(t,e);const i=await $(s.data.url,s.data);if(e.dataModel){const t=await se(i,e.dataModel);return new GraphQueryStreamingResult_p({resultRowsStream:t.readableStream,resultHeader:t.resultHeader})}throw new Error.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")},executeApplyEdits:async(e,t,a)=>{if(e.serviceDefinition?.dataEditingNotSupported)throw new Error.A("knowledge-graph:data-editing-not-supported","The Knowledge Graph Service definition indicated that data editing is not supported");const n=`${e.url}/graph/applyEdits`;await V(e);const o=await te(n,a);return o.data.body=await async function X(e,t){if(t.dataModel||await U(t),!t.dataModel)throw new Error.A("knowledge-graph:data-model-undefined","Encoding could not proceed because a data model was not provided and it could not be determined from the service");const a=await(0,knowledgeWasmAccess.I)(),n=!!e.options?.cascadeDelete,o=new a.GraphApplyEditsEncoder(a.SpatialReferenceUtil.WGS84(),e.options?.inputQuantizationParameters?function updateToWasmEncodedFactories_s(e){return{xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}(e.options?.inputQuantizationParameters):a.InputQuantizationUtil.WGS84_lossless());o.deleteLater(),o.cascade_delete=n;try{let t;e.entityAdds?.forEach((e=>{t=o.add_entity(r(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),e.relationshipAdds?.forEach((e=>{if(!e.originId||!e.destinationId)throw new Error.A("knowledge-graph:relationship-origin-destination-missing","When adding a new relationship, you must provide both an origin and destination id on the appropriate class property");t=o.add_relationship(r(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),e.entityUpdates?.forEach((e=>{if(!e.id)throw new Error.A("knowledge-graph:entity-id-missing","When updating an entity or relationship, you must specify the id on the class level property");t=o.update_entity(r(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),e.relationshipUpdates?.forEach((e=>{if(!e.id)throw new Error.A("knowledge-graph:relationship-id-missing","When updating an entity or relationship, you must specify the id on the class level property");t=o.update_relationship(r(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),e.entityDeletes?.forEach((e=>{if(!e.typeName)throw new Error.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");const t=o.make_delete_helper(e.typeName,!0);t.deleteLater(),e.ids?.forEach((e=>{t.delete_by_id(e)}))})),e.relationshipDeletes?.forEach((e=>{if(!e.typeName)throw new Error.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");const t=o.make_delete_helper(e.typeName,!1);e.ids?.forEach((e=>{t.delete_by_id(e)}))})),o.encode()}catch(i){throw new Error.A("knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed",{error:i})}const s=o.get_encoding_result();return wasmUtils_e(s.error,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed"),structuredClone(s.get_byte_buffer())}(t,e),async function re(e){const t=e.headers.get("content-type");if(t?.includes("application/x-protobuf")){const t=await e.arrayBuffer(),r=new((await(0,knowledgeWasmAccess.I)()).GraphApplyEditsDecoder);return r.deleteLater(),r.decode(new Uint8Array(t)),function wasmToUpdateResponseFactories_e(e){const o=e.has_error(),t=new GraphApplyEditsResult_p({hasError:o,error:o?{errorCode:e.error.error_code,errorMessage:e.error.error_message}:null}),s=e.get_edit_results_count();for(let r=0;r<s;r++){const o=e.get_edit_results_at(r),s=e.get_edit_results_type_name_at(r),_=[],d=[],u=[],a=o.get_add_results_count(),l=o.get_update_results_count(),g=o.get_delete_results_count();for(let r=0;r<a;r++){const e=o.get_add_result_at(r);_.push({id:e.id,error:{errorCode:e.error.error_code,errorMessage:e.error.error_message}})}for(let r=0;r<l;r++){const e=o.get_update_result_at(r);d.push({id:e.id,error:{errorCode:e.error.error_code,errorMessage:e.error.error_message}})}for(let r=0;r<g;r++){const e=o.get_delete_result_at(r);u.push({id:e.id,error:{errorCode:e.error.error_code,errorMessage:e.error.error_message}})}t.editResults.push({typeName:s,adds:_,updates:d,deletes:u})}return t}(r)}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:t,data:e.text()})}(await $(o.data.url,o.data))},executeQuery:async(e,a,n)=>{const o=`${e.url}/graph/query`,s=await(0,request.A)(o,{responseType:"array-buffer",query:{f:"pbf",openCypherQuery:a.openCypherQuery,...n?.query},signal:n?.signal,timeout:n?.timeout}),i=s.getHeader?.("content-type"),l=s.data;if(i?.includes("application/x-protobuf")){const t=new((await(0,knowledgeWasmAccess.I)()).GraphQueryDecoder);if(t.deleteLater(),e.dataModel){const r=oe({wasmQueryDecoder:t,newArrayBufferToParse:l,dataModel:e.dataModel});return new GraphQueryResult_c({resultRows:r.resultRows,resultHeader:r.resultHeader})}throw new Error.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:i,data:s.data})},executeSearch:async(e,a,n)=>{const o=a.typeCategoryFilter,s=`${e.url}/graph/search`,i=await(0,request.A)(s,{responseType:"array-buffer",query:{f:"pbf",searchQuery:`"${a.searchQuery}"`,typeCategoryFilter:o,...n?.query},signal:n?.signal,timeout:n?.timeout}),l=i.getHeader?.("content-type"),c=i.data;if(l?.includes("application/x-protobuf")){const t=new((await(0,knowledgeWasmAccess.I)()).GraphQueryDecoder);if(t.deleteLater(),e.dataModel){const r=oe({wasmQueryDecoder:t,newArrayBufferToParse:c,dataModel:e.dataModel});return new GraphQueryResult_c({resultRows:r.resultRows,resultHeader:r.resultHeader})}throw new Error.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:l,data:i.data})},executeSearchStreaming:async(e,t,a)=>{const n=`${e.url}/graph/search`;await V(e);const o=await te(n,a);o.data.body=await async function ee(e){const t=await(0,knowledgeWasmAccess.I)(),a=new t.GraphSearchRequestEncoder;if(a.deleteLater(),a.search_query=e.searchQuery,a.type_category_filter=t.esriNamedTypeCategory[e.typeCategoryFilter],!0===e.returnSearchContext&&(a.return_search_context=e.returnSearchContext),null!=e.start&&e.start>0&&(a.start_index=e.start),null!=e.num&&(a.max_num_results=e.num),null!=e.idsFilter&&Array.isArray(e.idsFilter)&&e.idsFilter.length>0)try{a.set_ids_filter(queryToWasmEncodedFactories_l(e.idsFilter,t))}catch(o){throw new Error.A("knowledge-graph:ids-format-error","Attempting to set ids filter failed.  This is usually caused by an incorrectly formatted UUID string",{error:o})}e.namedTypesFilter?.forEach((e=>{a.add_named_type_filter(e)}));try{a.encode()}catch(o){throw new Error.A("knowledge-graph:search-encoding-failed","Attempting to encode the search failed",{error:o})}const n=a.get_encoding_result();if(0!==n.error.error_code)throw new Error.A("knowledge-graph:search-encoding-failed","Attempting to get encoding result from the query failed",{errorCode:n.error.error_code,errorMessage:n.error.error_message});return structuredClone(n.get_byte_buffer())}(t);const s=await $(o.data.url,o.data);if(e.dataModel){const t=await se(s,e.dataModel);return new GraphQueryStreamingResult_p({resultRowsStream:t.readableStream,resultHeader:t.resultHeader})}throw new Error.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")},fetchClientDataAtKeys:async(e,t,a={ignoreCache:!1})=>{if(!t.length)return new Map;let n=knowledgeGraphService_E.get(e.url||"");n||(n=new Map,knowledgeGraphService_E.set(e.url||"",n));const o=new Map(n.entries()),s=`${e.url}/clientData/fetch`;t=Array.from(new Set(t));const i=await(0,knowledgeWasmAccess.I)(),d=function clientDataToWasmEncodedFactories_t(t,r,a,o=!1){const c=new a.ClientDataFetchRequestEncoder;c.deleteLater();for(const e of t){const t=clientDataToWasmEncodedFactories_n(e,r,a,o);c.add_client_data_fetch_request_parameter(t)}c.encode();const s=c.get_encoding_result();return wasmUtils_e(s.error,"knowledge-graph:fetchClientDataAtKeys-encoding-failed","Attempting to encode the fetchClientDataAtKeys failed"),structuredClone(s.get_byte_buffer())}(t,n,i,a.ignoreCache),l=await te(s,a.requestOptions);l.data.body=d;const c=await $(l.data.url,l.data),p=c.headers.get("content-type");if(p?.includes("application/x-protobuf")){const e=new i.ClientDataFetchResponseDecoder;e.deleteLater();const t=await c.arrayBuffer();return e.decode(new Uint8Array(t)),e.has_error()&&wasmUtils_e(e.error,"knowledge-graph:fetchClientDataAtKeys-decoding-error","An error occurred while decoding the client data keys response"),function wasmToClientDataFactories_n(a,n,_,s=!1){const r=new Map;for(let o=0;o<a.get_results_count();o++){const g=a.get_result_at(o);if(g.get_fetch_result_case().value!==WasmClientDataInterfaces_n.ClientDataValue||0!==g.error().error_code){const e=g.get_key().key_string;_.has(e)&&n.delete(e);continue}const l=g.get_value(),i=g.get_key().key_string,c=_.get(i);let u;if(l.get_data_case().value===WasmClientDataInterfaces_i.NotModified&&c)u=c.value;else{if(l.get_data_case().value!==WasmClientDataInterfaces_i.ClientData)continue;{u=l.get_data().client_data_string;const e=g.get_value().get_v_tag().v_tag;s||n.set(i,{key:i,version:e,value:u})}}r.set(i,u)}return r}(e,n,o,a.ignoreCache)}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response when fetching client data",{responseType:p,data:c})},fetchAllClientDataKeys:async(e,a)=>{const n=`${e.url}/clientData`,o=await(0,request.A)(n,{responseType:"array-buffer",query:{f:"pbf"},signal:a?.signal,timeout:a?.timeout}),s=o.getHeader?.("content-type"),i=o.data;if(s?.includes("application/x-protobuf")){const e=new((await(0,knowledgeWasmAccess.I)()).ClientDataKeysResponseDecoder);return e.deleteLater(),e.decode(new Uint8Array(i)),e.has_error()&&wasmUtils_e(e.error,"knowledge-graph:fetchAllClientDataKeys-decoding-error","An error occurred while decoding the client data keys response"),function _(e){const t=e.get_keys(),n=new Array;for(let _=0;_<t.get_keys_count();_++){const e=t.get_key_at(_);e.get_client_data_key_type().value===WasmClientDataInterfaces_e.ClientDataKeyTypeString&&n.push(e.key_string)}return n}(e)}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:s,data:o.data})},clearClientDataCache:()=>knowledgeGraphService_E.clear(),_fetchWrapper:async(e,t)=>fetch(e,t),_submitJobWrapper:async(e,t,r,a)=>async function s(s,m,n,f){return n=l.from(n||{}),S(s,"submitJob",n,m??{},f).then((({data:o})=>{const r=JobInfo_J.fromJSON(o);return r.sourceUrl=s,r}))}(e,t,r,a),_esriRequestWrapper:async(e,r)=>(0,request.A)(e,r)};async function knowledgeGraphService_P(e,t,r){return knowledgeGraphService_M.executeApplyEdits(e,t,r)}async function q(e,t,r){return knowledgeGraphService_M.executeQuery(e,t,r)}async function knowledgeGraphService_F(e,t,r){return knowledgeGraphService_M.executeQueryStreaming(e,t,r)}async function Q(e,t,r){return knowledgeGraphService_M.executeSearch(e,t,r)}async function knowledgeGraphService_j(e,t,r){return knowledgeGraphService_M.executeSearchStreaming(e,t,r)}function K(e,t){return knowledgeGraphService_M.fetchAllClientDataKeys(e,t)}function W(e,t,r){return knowledgeGraphService_M.fetchClientDataAtKeys(e,t,r)}async function knowledgeGraphService_I(e){return knowledgeGraphService_M.fetchKnowledgeGraph(e)}async function U(e){return knowledgeGraphService_M.refreshDataModel(e)}async function H(e){return knowledgeGraphService_M.refreshServiceDefinition(e)}async function knowledgeGraphService_L(e,t){return knowledgeGraphService_M.executeFindPathsAsynchronous(e,t)}async function knowledgeGraphService_N(e,t){return knowledgeGraphService_M.executeFindPaths(e,t)}async function knowledgeGraphService_z(e,t){return knowledgeGraphService_M.fetchAsynchronousFindPathsResultData(e,t)}function B(){return knowledgeGraphService_M.clearClientDataCache()}async function $(e,t){return knowledgeGraphService_M._fetchWrapper(e,t)}async function knowledgeGraphService_O(e,t,r,a){return knowledgeGraphService_M._submitJobWrapper(e,t,r,a)}async function knowledgeGraphService_J(e,t){return knowledgeGraphService_M._esriRequestWrapper(e,t)}async function V(t){const r=kernel.id?.findCredential(t.url);r||(t.dataModel?await ie(t):await U(t))}function Y(e,t,r,a){null==t?r.set_param_key_value(e,""):"object"!=typeof t||t instanceof Date?r.set_param_key_value(e,t):t instanceof Geometry.A?r.set_param_key_value(e,u(t,a)):Array.isArray(t)?r.set_param_key_value(e,queryToWasmEncodedFactories_l(t,a)):r.set_param_key_value(e,queryToWasmEncodedFactories_s(t,a))}async function te(e,r){return(0,request.A)(e,{responseType:"native-request-init",method:"post",query:{f:"pbf",...r?.query},body:"x",headers:{"Content-Type":"application/octet-stream"},signal:r?.signal,timeout:r?.timeout})}let ae=50;function ne(e){ae=e}function oe({wasmQueryDecoder:e,newArrayBufferToParse:t,dataModel:a,decodedHeader:n,limitMaxProcessingTime:o=!1}){t&&e.push_buffer(new Uint8Array(t));const i=[];let d,l,c=0;const p=Date.now();let u=!0;for(;e.next_row();){d&&l||(d=n??wasmToQueryResponseObjFactories_w(e),l=d.outSpatialReference??new SpatialReference.A({wkid:4326})),c||(c=e.get_header_keys().size());const t=new Array(c);for(let r=0;r<c;r++){const n=e.get_value(r);t[r]=wasmToQueryResponseObjFactories_E(n,a,l)}if(i.push(t),o&&Date.now()-p>ae){u=!1;break}}if(e.has_error())throw new Error.A("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - inner row decoding",{errorCode:e.error.error_code,errorMessage:e.error.error_message});return{resultHeader:d,resultRows:i,parsedAllResultsFromBuffer:u}}async function se(e,t){const o=e.headers.get("content-type");if(e.headers.get("content-length")&&Logger.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").warnOnce("Found `Content-Length` header when expecting a streaming HTTP response! Please investigate whether all intermediate HTTP proxies and/or load balancers are configured such that they don't forcefully buffer the entire response before returning it to the client. A valid HTTP streaming response should use Chunked Transfer Encoding and not have a Content Length defined."),o?.includes("application/x-protobuf")){const o=e.body?.getReader(),s=new((await(0,knowledgeWasmAccess.I)()).GraphQueryDecoder);let i,d,c;s.deleteLater();const p=new Promise(((e,t)=>{d=e,c=t}));let u=!1,h=null;const f=new ReadableStream({pull:async function e(p){if(!o){const e=new Error.A("knowledge-graph:stream-decoding-error","Error reading from stream - reader is undefined");throw c(e),e}const{done:w,value:f}=h?{done:!1,value:null}:await o.read().catch((e=>{throw c(e),o.releaseLock(),e}));f&&(h=f);try{if(w){let e;if(s.has_error()?e=new Error.A("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - query stream done",{errorCode:s.error.error_code,errorMessage:s.error.error_message}):u||d(new GraphQueryResultHeader_p),o.releaseLock(),e)throw p.error(e),c(e),e;return void p.close()}const{resultHeader:a,resultRows:n,parsedAllResultsFromBuffer:g}=oe({wasmQueryDecoder:s,newArrayBufferToParse:f,dataModel:t,decodedHeader:i,limitMaxProcessingTime:!0});return g&&(h=null),!i&&a&&(i=a,d(a),u=!0),n.length>0?void p.enqueue(n):await e(p)}catch(g){throw Logger.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").error(g),c(g),o.releaseLock(),(0,promiseUtils.zf)(g)?g:new Error.A("knowledge-graph:unexpected-server-response","Error inside streaming data return parsing",{error:g})}}});return{readableStream:f,resultHeader:await p}}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:o,data:e.text()})}async function ie(e){const a=`${e.url}/dataModel/queryDataModel`,n=await(0,request.A)(a,{responseType:"array-buffer",query:{f:"pbf"}}),o=n.getHeader?.("content-type"),s=n.data;if(o?.includes("application/x-protobuf")){const e=(await(0,knowledgeWasmAccess.I)()).decode_data_model_from_protocol_buffer(new Uint8Array(s));if(!e)throw new Error.A("knowledge-graph:data-model-decode-failure","The server responded to the data model query, but the response failed to be decoded.  This typically occurs when the Knowledge JS API (4.26 or later) is used with an unsupported backend (11.0 or earlier)");return function wasmToDataModelFactories_h(r){r.deleteLater(),wasmToDataModelFactories_g=!1;const n=new y({timestamp:r.timestamp,spatialReference:new SpatialReference.A(r.spatial_reference),strict:r.strict,objectIdField:r.objectid_property,globalIdField:r.globalid_property,arcgisManaged:r.arcgis_managed,identifierInfo:{identifierMappingInfo:{identifierInfoType:WasmDataModelWrapperInterfaces.vy[r.identifier_info?.identifier_mapping_info?.identifier_info_type?.value],databaseNativeIdentifier:r.identifier_info?.identifier_mapping_info?.database_native_identifier,uniformPropertyIdentifier:{identifierPropertyName:r.identifier_info?.identifier_mapping_info?.uniform_property_identifier?.identifier_property_name}},identifierGenerationInfo:{uuidMethodHint:WasmDataModelWrapperInterfaces.wr[r.identifier_info?.identifier_generation_info?.uuid_method_hint?.value]}},searchIndexes:wasmToDataModelFactories_S(r.search_indexes),entityTypes:L(r.entity_types),relationshipTypes:F(r.relationship_types),metaEntityTypes:L(r.meta_entity_types),provenanceSourceTypeValues:G(r.provenance_source_type_values.value_behavior_array)});return wasmToDataModelFactories_g&&Logger.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").warnOnce("A big integer field was detected in the retrieved data model.  The `big-integer` field type is not fully supported in web clients.  Please see https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-support-Field.html#type"),n}(e)}throw new Error.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:o,data:n.data})}},"./node_modules/@arcgis/core/rest/support/FeatureSet.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>d});var f,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_Graphic_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/Graphic.js"),_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/jsonMap.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_lang_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/lang.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js"),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/jsonUtils.js"),_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/typeUtils.js"),_layers_support_Field_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/layers/support/Field.js");const h=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=f=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__.A{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,r){return this.readFeaturesWithClass(e,r,_Graphic_js__WEBPACK_IMPORTED_MODULE_1__.default)}writeGeometryType(e,t,r,o){if(e)return void h.write(e,t,r,o);const{features:s}=this;if(s)for(const n of s)if(null!=n?.geometry)return void h.write(n.geometry.type,t,r,o)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,o=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.rS)(e);return o&&!r&&t.spatialReference&&(o.spatialReference=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__.A.fromJSON(t.spatialReference)),o}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const o of r)if(o&&null!=o.geometry&&o.geometry.spatialReference)return void(t.spatialReference=o.geometry.spatialReference.toJSON())}clone(){return new f(this.cloneProperties())}cloneProperties(){return(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_4__.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const o=t.features[r];if(o.geometry){const t=e?.[r];o.geometry=t?.toJSON()||o.geometry}}return t}quantize(e){const{scale:[t,r],translate:[o,s]}=e,l=this.features,a=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-o)/t)),(e=>Math.round((s-e)/r)));for(let p=0,m=l.length;p<m;p++)a?.(l[p].geometry)||(l.splice(p,1),p--,m--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[o,s],scale:[n,i]}=r;let p=null,m=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;p=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;m=r=>null==r?r:r*t+e}const u=this._getHydrationFunction(e,(e=>e*n+o),(e=>s-e*i),p,m);for(const{geometry:c}of t)null!=c&&u&&u(c);return this.transform=null,this}readFeaturesWithClass(e,t,r){const o=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__.A.fromJSON(t.spatialReference),s=[];for(let n=0;n<e.length;n++){const t=e[n],i=r.fromJSON(t),l=t.geometry?.spatialReference;null==i.geometry||l||(i.geometry.spatialReference=o);const a=t.aggregateGeometries,p=i.aggregateGeometries;if(a&&null!=p)for(const e in p){const t=p[e],r=a[e],s=r?.spatialReference;null==t||s||(t.spatialReference=o)}s.push(i)}return s}_quantizePoints(e,t,r){let o,s;const n=[];for(let i=0,l=e.length;i<l;i++){const l=e[i];if(i>0){const e=t(l[0]),i=r(l[1]);e===o&&i===s||(n.push([e-o,i-s]),o=e,s=i)}else o=t(l[0]),s=r(l[1]),n.push([o,s])}return n.length>0?n:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const o=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.Bi)(e)?e.rings:e.paths,s=[];for(let n=0,i=o.length;n<i;n++){const e=o[n],i=this._quantizePoints(e,t,r);i&&s.push(i)}return s.length>0?((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.Bi)(e)?e.rings=s:e.paths=s,e):null}:"multipoint"===e?e=>{const o=this._quantizePoints(e.points,t,r);return o&&o.length>0?(e.points=o,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r,o,s){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y),o&&(e.z=o(e.z))}:"polyline"===e||"polygon"===e?e=>{const n=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__.Bi)(e)?e.rings:e.paths;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];for(let o=0,s=e.length;o<s;o++){const s=e[o];o>0?(i+=s[0],l+=s[1]):(i=s[0],l=s[1]),s[0]=t(i),s[1]=r(l)}}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2]),r[3]=s(r[3])}}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=o(r[2])}}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];for(let t=0,r=e.length;t<r;t++){const r=e[t];r[2]=s(r[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),o&&null!=e.zmax&&null!=e.zmin&&(e.zmax=o(e.zmax),e.zmin=o(e.zmin)),s&&null!=e.mmax&&null!=e.mmin&&(e.mmax=s(e.mmax),e.mmin=s(e.mmin))}:"multipoint"===e?e=>{const n=e.points;let i,l;for(let o=0,s=n.length;o<s;o++){const e=n[o];o>0?(i+=e[0],l+=e[1]):(i=e[0],l=e[1]),e[0]=t(i),e[1]=r(l)}if(o&&s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2]),e[3]=s(e[3])}else if(o)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=o(e[2])}else if(s)for(let t=0,r=n.length;t<r;t++){const e=n[t];e[2]=s(e[2])}}:null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:[_Graphic_js__WEBPACK_IMPORTED_MODULE_1__.default],json:{write:!0}})],g.prototype,"features",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.w)("features")],g.prototype,"readFeatures",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:[_layers_support_Field_js__WEBPACK_IMPORTED_MODULE_14__.A],json:{write:!0}})],g.prototype,"fields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:h.read}}})],g.prototype,"geometryType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.K)("geometryType")],g.prototype,"writeGeometryType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({types:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__.yR,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__.w)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__.A,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__.K)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.MZ)({json:{write:!0}})],g.prototype,"transform",void 0),g=f=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.$)("esri.rest.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0;const d=g},"./node_modules/@arcgis/core/rest/support/GPMessage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>a});var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/jsonMap.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),__webpack_require__("./node_modules/@arcgis/core/core/RandomLCG.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"));const p=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__.J({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.A{constructor(e){super(e),this.description=null,this.type=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.MZ)({type:String,json:{write:!0}})],i.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.MZ)({type:String,json:{read:p.read,write:p.write}})],i.prototype,"type",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.$)("esri.rest.support.GPMessage")],i);const a=i},"./node_modules/@arcgis/core/rest/support/networkEnums.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$n:()=>f,$r:()=>A,EM:()=>v,Ec:()=>q,JJ:()=>p,Mm:()=>U,OC:()=>w,Sr:()=>l,UO:()=>s,Vj:()=>R,WU:()=>b,Y8:()=>t,Z7:()=>a,_6:()=>k,aJ:()=>o,dd:()=>y,dn:()=>n,et:()=>D,fe:()=>g,gD:()=>S,hE:()=>m,hY:()=>r,iM:()=>N,mt:()=>T,ow:()=>h,vS:()=>M});var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/jsonMap.js");const i={esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"},r=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()(i),t=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({...i,esriIntFeet:"international-feet",esriIntInches:"international-inches",esriIntMiles:"international-miles",esriIntNauticalMiles:"international-nautical-miles",esriIntYards:"international-yards"}),s=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriAcres:"international-acres",esriAcresUS:"us-acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-international-feet",esriSquareFeetUS:"square-us-feet",esriSquareInches:"square-international-inches",esriSquareInchesUS:"square-us-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-international-miles",esriSquareMilesUS:"square-us-miles",esriSquareMillimeters:"square-millimeters",esriSquareYards:"square-international-yards",esriSquareYardsUS:"square-us-yards",esriUnknownAreaUnits:"unknown"}),a=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),n=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards",esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds",esriNAUKilometersPerHour:"kilometers-per-hour",esriNAUMilesPerHour:"miles-per-hour",esriNAUUnknown:"unknown"}),o=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),l=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),m=((0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),h=((0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"})),p=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),v=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),A=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),T=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({1:"right",2:"left"},{useNumericKeys:!0}),N=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"restriction",1:"scaled-cost",2:"added-cost"},{useNumericKeys:!0}),g=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"permit",1:"restrict"},{useNumericKeys:!0}),k=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation",1007:"lane"},{useNumericKeys:!0}),S=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0}),f=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({"NA Campus":"campus","NA Desktop":"desktop","NA Navigation":"navigation"}),y=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters"},{ignoreUnknown:!1}),U=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),D=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters",Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),w=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({"Any Hazmat Prohibited":"any-hazmat-prohibited","Avoid Carpool Roads":"avoid-carpool-roads","Avoid Express Lanes":"avoid-express-lanes","Avoid Ferries":"avoid-ferries","Avoid Gates":"avoid-gates","Avoid Limited Access Roads":"avoid-limited-access-roads","Avoid Private Roads":"avoid-private-roads","Avoid Roads Unsuitable for Pedestrians":"avoid-roads-unsuitable-for-pedestrians","Avoid Stairways":"avoid-stairways","Avoid Toll Roads":"avoid-toll-roads","Avoid Toll Roads for Trucks":"avoid-toll-roads-for-trucks","Avoid Truck Restricted Roads":"avoid-truck-restricted-roads","Avoid Unpaved Roads":"avoid-unpaved-roads","Axle Count Restriction":"axle-count-restriction","Driving a Bus":"driving-a-bus","Driving a Taxi":"driving-a-taxi","Driving a Truck":"driving-a-truck","Driving an Automobile":"driving-an-automobile","Driving an Emergency Vehicle":"driving-an-emergency-vehicle","Height Restriction":"height-restriction","Kingpin to Rear Axle Length Restriction":"kingpin-to-rear-axle-length-restriction","Length Restriction":"length-restriction","Preferred for Pedestrians":"preferred-for-pedestrians","Riding a Motorcycle":"riding-a-motorcycle","Roads Under Construction Prohibited":"roads-under-construction-prohibited","Semi or Tractor with One or More Trailers Prohibited":"semi-or-tractor-with-one-or-more-trailers-prohibited","Single Axle Vehicles Prohibited":"single-axle-vehicles-prohibited","Tandem Axle Vehicles Prohibited":"tandem-axle-vehicles-prohibited","Through Traffic Prohibited":"through-traffic-prohibited","Truck with Trailers Restriction":"truck-with-trailers-restriction","Use Preferred Hazmat Routes":"use-preferred-hazmat-routes","Use Preferred Truck Routes":"use-preferred-truck-routes",Walking:"walking","Weight Restriction":"weight-restriction"},{ignoreUnknown:!1}),M=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriGeometryPoint:"point",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"envelope",esriGeometryMultipoint:"multipoint"}),b=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriNAUTCost:"cost",esriNAUTDescriptor:"descriptor",esriNAUTRestriction:"restriction",esriNAUTHierarchy:"hierarchy"}),q=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__.O)()({esriDSTAltName:"alt-name",esriDSTArrive:"arrive",esriDSTBranch:"branch",esriDSTCrossStreet:"cross-street",esriDSTCumulativeLength:"cumulative-length",esriDSTDepart:"depart",esriDSTEstimatedArrivalTime:"estimated-arrival-time",esriDSTExit:"exit",esriDSTGeneral:"general",esriDSTLength:"length",esriDSTServiceTime:"service-time",esriDSTStreetName:"street-name",esriDSTSummary:"summary",esriDSTTime:"time",esriDSTTimeWindow:"time-window",esriDSTToward:"toward",esriDSTViolationTime:"violation-time",esriDSTWaitTime:"wait-time"})}}]);