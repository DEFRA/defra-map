"use strict";(self.webpackChunkdefraMap=self.webpackChunkdefraMap||[]).push([[5974],{90599:function(t,e,n){n.d(e,{N:function(){return h},a:function(){return R},b:function(){return y},c:function(){return l},f:function(){return S},g:function(){return p},j:function(){return g},k:function(){return O},l:function(){return d},m:function(){return m},n:function(){return G},p:function(){return b},w:function(){return N}}),n(58941),n(40633);var r=n(15774),i=n(73364),s=n(20551),o=n(32501),u=n(33400),f=n(41546),c=n(8527),_=n(72485),a=n(79578),E=n(29531),T=n(50973);const h=l();function l(){return(0,f.vt)()}const d=u.e,A=u.e;function R(t,e){return(0,u.c)(e,t)}function O(t,e){return(0,f.fA)(t[0],t[1],t[2],e)}function N(t){return t}function y(t){return t[3]}function p(t){return t}function S(t,e,n,r){return(0,f.fA)(t,e,n,r)}function I(t,e,n){if(null==e)return!1;if(!C(t,e,B))return!1;let{t0:r,t1:i}=B;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:t,direction:i}=e;n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n[2]=t[2]+i[2]*r}return!0}function m(t,e,n){const r=(0,a.Cr)(e,n);if(!C(t,r,B))return[];const{origin:i,direction:u}=r,{t0:f,t1:_}=B,E=e=>{const n=(0,o.vt)();return(0,s.r)(n,i,u,e),b(t,n,n)};return Math.abs(f-_)<(0,c.FD)()?[E(f)]:[E(f),E(_)]}const B={t0:0,t1:0};function C(t,e,n){const{origin:r,direction:i}=e,s=M;s[0]=r[0]-t[0],s[1]=r[1]-t[1],s[2]=r[2]-t[2];const o=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===o)return!1;const u=2*(i[0]*s[0]+i[1]*s[1]+i[2]*s[2]),f=u*u-4*o*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(f<0)return!1;const c=Math.sqrt(f);return n.t0=(-u-c)/(2*o),n.t1=(-u+c)/(2*o),!0}const M=(0,o.vt)();function g(t,e){return I(t,e,null)}function L(t,e,n){const r=T.rq.get(),o=T.Rc.get();(0,s.b)(r,e.origin,e.direction);const u=y(t);(0,s.b)(n,r,e.origin),(0,s.j)(n,n,1/(0,s.l)(n)*u);const f=P(t,e.origin),c=(0,E.g7)(e.origin,n);return(0,i.$0)(o,c+f,r),(0,s.h)(n,n,o),n}function b(t,e,n){const r=(0,s.f)(T.rq.get(),e,t),i=(0,s.j)(T.rq.get(),r,t[3]/(0,s.l)(r));return(0,s.g)(n,i,t)}function P(t,e){const n=(0,s.f)(T.rq.get(),e,t),i=(0,s.l)(n),o=y(t),u=o+Math.abs(o-i);return(0,r.XM)(o/u)}const F=(0,o.vt)();function D(t,e,n,i){const o=(0,s.f)(F,e,t);switch(n){case _._.X:{const t=(0,r.jU)(o,F)[2];return(0,s.s)(i,-Math.sin(t),Math.cos(t),0)}case _._.Y:{const t=(0,r.jU)(o,F),e=t[1],n=t[2],u=Math.sin(e);return(0,s.s)(i,-u*Math.cos(n),-u*Math.sin(n),Math.cos(e))}case _._.Z:return(0,s.n)(i,o);default:return}}function U(t,e){const n=(0,s.f)(v,e,t);return(0,s.l)(n)-t[3]}function G(t,e){const n=(0,s.a)(t,e),r=y(t);return n<=r*r}const v=(0,o.vt)(),w=l();Object.freeze(Object.defineProperty({__proto__:null,NullSphere:h,altitudeAt:U,angleToSilhouette:P,axisAt:D,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return I(t,e,n)?n:((0,a.oC)(e,t,n),b(t,n,n))},closestPointOnSilhouette:L,containsPoint:G,copy:R,create:l,distanceToSilhouette:function(t,e){const n=(0,s.f)(T.rq.get(),e,t),r=(0,s.q)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:A,exactEquals:d,fromCenterAndRadius:O,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:S,getCenter:p,getRadius:y,intersectLine:m,intersectRay:I,intersectRayClosestSilhouette:function(t,e,n){if(I(t,e,n))return n;const r=L(t,e,T.rq.get());return(0,s.g)(n,e.origin,(0,s.j)(T.rq.get(),e.direction,(0,s.p)(e.origin,r)/(0,s.l)(e.direction))),n},intersectsRay:g,projectPoint:b,setAltitudeAt:function(t,e,n,r){const i=U(t,e),o=D(t,e,_._.Z,v),u=(0,s.j)(v,o,n-i);return(0,s.g)(r,e,u)},setExtent:function(t,e,n){return t!==n&&R(t,n),n},tmpSphere:w,union:function(t,e,n=(0,f.vt)()){const r=(0,s.p)(t,e),i=t[3],o=e[3];return r+o<i?((0,u.c)(n,t),n):r+i<o?((0,u.c)(n,e),n):((0,s.o)(n,t,e,(r+o-i)/(2*r)),n[3]=(r+i+o)/2,n)},wrap:N},Symbol.toStringTag,{value:"Module"}))},89736:function(t,e,n){n.d(e,{I:function(){return i}});var r=n(29601);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024},87725:function(t,e,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(t,e,n,r,i,s,o,u,f){return[t,e,n,r,i,s,o,u,f]}n.d(e,{fA:function(){return i},vt:function(){return r},zK:function(){return s}});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:r,createView:function(t,e){return new Float64Array(t,e,9)},fromValues:i},Symbol.toStringTag,{value:"Module"}))},39714:function(t,e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function s(t,e,n,r,i,s,o,u,f,c,_,a,E,T,h,l){return[t,e,n,r,i,s,o,u,f,c,_,a,E,T,h,l]}n.d(e,{fA:function(){return s},o8:function(){return i},vt:function(){return r},zK:function(){return o}});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:s},Symbol.toStringTag,{value:"Module"}))},61769:function(t,e,n){function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{o8:function(){return i},vt:function(){return r},zK:function(){return s}});const s=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},5047:function(t,e,n){n.d(e,{AK:function(){return o},Wz:function(){return s},oe:function(){return i}});var r=n(24540);function i(t,e=!1){return t<=r.y9?e?new Array(t).fill(0):new Array(t):new Float32Array(t)}function s(t){return((0,r.cy)(t)?t.length:t.byteLength/8)<=r.y9?Array.from(t):new Float32Array(t)}function o(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}},37819:function(t,e,n){n.d(e,{Dg:function(){return i},EH:function(){return E},JH:function(){return o},my:function(){return s},tM:function(){return _}});var r=n(24540);function i(t){if((0,r.cy)(t)){if(t.length<r.y9)return t}else if(t.length<r.y9)return Array.from(t);let e=!0,n=!0;return t.some(((t,r)=>(e=e&&0===t,n=n&&t===r,!e&&!n))),e?E(t.length):n?_(t.length):(0,r.cy)(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(t){let e=!0;for(const n of t){if(n>=65536)return(0,r.cy)(t)?new Uint32Array(t):t;n>=256&&(e=!1)}return e?new Uint8Array(t):new Uint16Array(t)}(t):t}function s(t){return t<=r.y9?new Array(t):t<=65536?new Uint16Array(t):new Uint32Array(t)}function o(t){return t<=r.y9?new Array(t):new Uint32Array(t)}let u=(()=>{const t=new Uint32Array(131072);for(let e=0;e<t.length;++e)t[e]=e;return t})();const f=[0],c=(()=>{const t=new Uint16Array(65536);for(let e=0;e<t.length;++e)t[e]=e;return t})();function _(t){if(1===t)return f;if(t<r.y9)return Array.from(new Uint16Array(c.buffer,0,t));if(t<c.length)return new Uint16Array(c.buffer,0,t);if(t>u.length){const e=Math.max(2*u.length,t);u=new Uint32Array(e);for(let t=0;t<u.length;t++)u[t]=t}return new Uint32Array(u.buffer,0,t)}let a=new Uint8Array(65536);function E(t){if(1===t)return f;if(t<r.y9)return new Array(t).fill(0);if(t>a.length){const e=Math.max(2*a.length,t);a=new Uint8Array(e)}return new Uint8Array(a.buffer,0,t)}},92754:function(t,e,n){n.d(e,{Y$:function(){return E},qB:function(){return N},Qt:function(){return x},My:function(){return X},bf:function(){return G},jZ:function(){return d},j0:function(){return A},Sx:function(){return R},E$:function(){return O},h:function(){return M},P:function(){return P},SL:function(){return I},gH:function(){return T},si:function(){return y},mJ:function(){return V},UL:function(){return q},D6:function(){return v},Yi:function(){return g},An:function(){return F},LC:function(){return m},xs:function(){return h},Xm:function(){return p},Vp:function(){return Y},zD:function(){return z},m8:function(){return w},nS:function(){return L},H$:function(){return D},eI:function(){return B},Eq:function(){return l},Aj:function(){return S},E7:function(){return j},Y4:function(){return W},TX:function(){return H},Uz:function(){return b},ml:function(){return U},XP:function(){return C}});class r{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=9;const s=this.TypedArrayConstructor;void 0===r&&(r=9*s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[n++];return e}setMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[n++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,o=n*e.typedBufferStride;for(let t=0;t<9;++t)r[s++]=i[o++]}get buffer(){return this.typedBuffer.buffer}}r.ElementCount=9;class i{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=16;const s=this.TypedArrayConstructor;void 0===r&&(r=16*s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[n++];return e}setMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[n++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,o=n*e.typedBufferStride;for(let t=0;t<16;++t)r[s++]=i[o++]}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=16;class s{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=1;const s=this.TypedArrayConstructor;void 0===r&&(r=s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.stride=r,this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}s.ElementCount=1;var o=n(13786);class u{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=2;const s=this.TypedArrayConstructor;void 0===r&&(r=2*s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,o.hZ)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=n}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,o=n*e.typedBufferStride;r[s++]=i[o++],r[s]=i[o]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=2;var f=n(20551);class c{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=3;const s=this.TypedArrayConstructor;void 0===r&&(r=3*s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,f.s)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=n,this.typedBuffer[t]=r}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,o=n*e.typedBufferStride;r[s++]=i[o++],r[s++]=i[o++],r[s]=i[o]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;var _=n(33400);class a{constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.start=n,this.elementCount=4;const s=this.TypedArrayConstructor;void 0===r&&(r=4*s.BYTES_PER_ELEMENT);const o=0===e.byteLength?0:n;this.typedBuffer=null==i?new s(e,o):new s(e,o,(i-n)/s.BYTES_PER_ELEMENT),this.typedBufferStride=r/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,_.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n,r,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=n,this.typedBuffer[t++]=r,this.typedBuffer[t]=i}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,o=n*e.typedBufferStride;r[s++]=i[o++],r[s++]=i[o++],r[s++]=i[o++],r[s]=i[o]}get buffer(){return this.typedBuffer.buffer}}a.ElementCount=4;class E extends s{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}static fromTypedArray(t,e){return new E(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}E.ElementType="f32";class T extends u{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(T,t,e)}static fromTypedArray(t,e){return new T(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}T.ElementType="f32";class h extends c{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(h,t,e)}static fromTypedArray(t,e){return new h(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}h.ElementType="f32";class l extends a{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(l,t,e)}static fromTypedArray(t,e){return new l(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}l.ElementType="f32";class d extends r{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(d,t,e)}static fromTypedArray(t,e){return new d(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}d.ElementType="f32";class A extends r{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(A,t,e)}static fromTypedArray(t,e){return new A(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}A.ElementType="f64";class R extends i{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(R,t,e)}static fromTypedArray(t,e){return new R(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}R.ElementType="f32";class O extends i{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(O,t,e)}static fromTypedArray(t,e){return new O(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}O.ElementType="f64";class N extends s{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(N,t,e)}static fromTypedArray(t,e){return new N(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}N.ElementType="f64";class y extends u{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(y,t,e)}static fromTypedArray(t,e){return new y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}y.ElementType="f64";class p extends c{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(p,t,e)}static fromTypedArray(t,e){return new p(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}p.ElementType="f64";class S extends a{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}S.ElementType="f64";class I extends s{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(I,t,e)}static fromTypedArray(t,e){return new I(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}I.ElementType="u8";class m extends u{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}m.ElementType="u8";class B extends c{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(B,t,e)}static fromTypedArray(t,e){return new B(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}B.ElementType="u8";class C extends a{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(C,t,e)}static fromTypedArray(t,e){return new C(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}C.ElementType="u8";class M extends s{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(M,t,e)}static fromTypedArray(t,e){return new M(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}M.ElementType="u16";class g extends u{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(g,t,e)}static fromTypedArray(t,e){return new g(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}g.ElementType="u16";class L extends c{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(L,t,e)}static fromTypedArray(t,e){return new L(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}L.ElementType="u16";class b extends a{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(b,t,e)}static fromTypedArray(t,e){return new b(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}b.ElementType="u16";class P extends s{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(P,t,e)}static fromTypedArray(t,e){return new P(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}P.ElementType="u32";class F extends u{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(F,t,e)}static fromTypedArray(t,e){return new F(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}F.ElementType="u32";class D extends c{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(D,t,e)}static fromTypedArray(t,e){return new D(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}D.ElementType="u32";class U extends a{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(U,t,e)}static fromTypedArray(t,e){return new U(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}U.ElementType="u32";class G extends s{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(G,t,e)}static fromTypedArray(t,e){return new G(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}G.ElementType="i8";class v extends u{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(v,t,e)}static fromTypedArray(t,e){return new v(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}v.ElementType="i8";class w extends c{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(w,t,e)}static fromTypedArray(t,e){return new w(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}w.ElementType="i8";class H extends a{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(H,t,e)}static fromTypedArray(t,e){return new H(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}H.ElementType="i8";class x extends s{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(x,t,e)}static fromTypedArray(t,e){return new x(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}x.ElementType="i16";class V extends u{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(V,t,e)}static fromTypedArray(t,e){return new V(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}V.ElementType="i16";class Y extends c{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(Y,t,e)}static fromTypedArray(t,e){return new Y(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}Y.ElementType="i16";class j extends a{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(j,t,e)}static fromTypedArray(t,e){return new j(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}j.ElementType="i16";class X extends s{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(X,t,e)}static fromTypedArray(t,e){return new X(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}X.ElementType="i32";class q extends u{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(q,t,e)}static fromTypedArray(t,e){return new q(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}q.ElementType="i32";class z extends c{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(z,t,e)}static fromTypedArray(t,e){return new z(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}z.ElementType="i32";class W extends a{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static fromTypedArray(t,e){return new W(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}}W.ElementType="i32"},28404:function(t,e,n){function r(t){switch(t){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}n.d(e,{GJ:function(){return r}})},91912:function(t,e,n){n.d(e,{$e:function(){return u},j1:function(){return f},mO:function(){return c},vt:function(){return o}});var r=n(89736),i=n(20551),s=n(79578);function o(t){return t?{ray:(0,s.vt)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,s.vt)(),c0:0,c1:Number.MAX_VALUE}}function u(t,e=o()){return(0,s.C)(t,e.ray),e.c0=0,e.c1=Number.MAX_VALUE,e}function f(t,e){return _(t,t.c0,e)}function c(t,e){return _(t,t.c1,e)}function _(t,e,n){return(0,i.g)(n,t.ray.origin,(0,i.j)(n,t.ray.direction,e))}new r.I((()=>o()))},69508:function(t,e,n){n.d(e,{C:function(){return d},FB:function(){return r},ig:function(){return O},m7:function(){return R},ui:function(){return A},vt:function(){return l}});var r,i,s,o=n(89736),u=n(73364),f=n(20551),c=n(32501),_=n(33400),a=n(41546),E=n(91912),T=n(5596),h=n(50973);function l(t){return t?[(0,T.vt)(t[0]),(0,T.vt)(t[1]),(0,T.vt)(t[2]),(0,T.vt)(t[3]),(0,T.vt)(t[4]),(0,T.vt)(t[5])]:[(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)(),(0,T.vt)()]}function d(t,e){for(let n=0;n<N;n++)(0,T.C)(t[n],e[n]);return t}function A(t,e,n,s=S){const o=(0,u.lw)(h.Rc.get(),e,t);(0,u.B8)(o,o);for(let t=0;t<y;++t){const e=(0,_.t)(h.Km.get(),p[t],o);(0,f.s)(s[t],e[0]/e[3],e[1]/e[3],e[2]/e[3])}!function(t,e){(0,T.Cr)(e[i.FAR_BOTTOM_LEFT],e[i.NEAR_BOTTOM_LEFT],e[i.NEAR_TOP_LEFT],t[r.LEFT]),(0,T.Cr)(e[i.NEAR_BOTTOM_RIGHT],e[i.FAR_BOTTOM_RIGHT],e[i.FAR_TOP_RIGHT],t[r.RIGHT]),(0,T.Cr)(e[i.FAR_BOTTOM_LEFT],e[i.FAR_BOTTOM_RIGHT],e[i.NEAR_BOTTOM_RIGHT],t[r.BOTTOM]),(0,T.Cr)(e[i.NEAR_TOP_LEFT],e[i.NEAR_TOP_RIGHT],e[i.FAR_TOP_RIGHT],t[r.TOP]),(0,T.Cr)(e[i.NEAR_BOTTOM_LEFT],e[i.NEAR_BOTTOM_RIGHT],e[i.NEAR_TOP_RIGHT],t[r.NEAR]),(0,T.Cr)(e[i.FAR_BOTTOM_RIGHT],e[i.FAR_BOTTOM_LEFT],e[i.FAR_TOP_LEFT],t[r.FAR])}(n,s)}function R(t,e){for(let n=0;n<N;n++){const r=t[n];if(r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]>=e[3])return!1}return!0}function O(t,e){for(let n=0;n<N;n++){const r=t[n];if(!(0,T.b6)(r,e))return!1}return!0}(s=r||(r={}))[s.LEFT=0]="LEFT",s[s.RIGHT=1]="RIGHT",s[s.BOTTOM=2]="BOTTOM",s[s.TOP=3]="TOP",s[s.NEAR=4]="NEAR",s[s.FAR=5]="FAR",function(t){t[t.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",t[t.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",t[t.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",t[t.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",t[t.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",t[t.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",t[t.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",t[t.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(i||(i={})),i.FAR_BOTTOM_RIGHT,i.NEAR_BOTTOM_RIGHT,i.NEAR_BOTTOM_LEFT,i.FAR_BOTTOM_LEFT,i.NEAR_BOTTOM_LEFT,i.NEAR_BOTTOM_RIGHT,i.NEAR_TOP_RIGHT,i.NEAR_TOP_LEFT,i.FAR_BOTTOM_RIGHT,i.FAR_BOTTOM_LEFT,i.FAR_TOP_LEFT,i.FAR_TOP_RIGHT,i.NEAR_BOTTOM_RIGHT,i.FAR_BOTTOM_RIGHT,i.FAR_TOP_RIGHT,i.NEAR_TOP_RIGHT,i.FAR_BOTTOM_LEFT,i.NEAR_BOTTOM_LEFT,i.NEAR_TOP_LEFT,i.FAR_TOP_LEFT,i.FAR_TOP_LEFT,i.NEAR_TOP_LEFT,i.NEAR_TOP_RIGHT,i.FAR_TOP_RIGHT;const N=6,y=8,p=[(0,a.fA)(-1,-1,-1,1),(0,a.fA)(1,-1,-1,1),(0,a.fA)(1,1,-1,1),(0,a.fA)(-1,1,-1,1),(0,a.fA)(-1,-1,1,1),(0,a.fA)(1,-1,1,1),(0,a.fA)(1,1,1,1),(0,a.fA)(-1,1,1,1)],S=(new o.I(E.vt),[(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,c.vt)()])},73313:function(t,e,n){n.d(e,{C:function(){return c},Cr:function(){return a},H6:function(){return l},_I:function(){return T},dz:function(){return d},fA:function(){return _},kb:function(){return E},ld:function(){return A},sd:function(){return h},vt:function(){return f}});var r=n(15774),i=n(89736),s=n(20551),o=n(32501),u=n(50973);function f(t){return t?{origin:(0,o.o8)(t.origin),vector:(0,o.o8)(t.vector)}:{origin:(0,o.vt)(),vector:(0,o.vt)()}}function c(t,e=f()){return _(t.origin,t.vector,e)}function _(t,e,n=f()){return(0,s.c)(n.origin,t),(0,s.c)(n.vector,e),n}function a(t,e,n=f()){return(0,s.c)(n.origin,t),(0,s.f)(n.vector,e,t),n}function E(t,e){const n=(0,s.f)(u.rq.get(),e,t.origin),i=(0,s.m)(t.vector,n),o=(0,s.m)(t.vector,t.vector),f=(0,r.qE)(i/o,0,1),c=(0,s.f)(u.rq.get(),(0,s.j)(u.rq.get(),t.vector,f),n);return(0,s.m)(c,c)}function T(t,e,n){return l(t,e,0,1,n)}function h(t,e,n){return(0,s.g)(n,t.origin,(0,s.j)(n,t.vector,e))}function l(t,e,n,i,o){const{vector:f,origin:c}=t,_=(0,s.f)(u.rq.get(),e,c),a=(0,s.m)(f,_)/(0,s.q)(f);return(0,s.j)(o,f,(0,r.qE)(a,n,i)),(0,s.g)(o,o,t.origin)}function d(t,e){if(R(t,function(t,e){const n=N.get();return n.origin=t,n.vector=e,n}(e.origin,e.direction),!1,O)){const{tA:e,pB:n,distance2:r}=O;if(e>=0&&e<=1)return r;if(e<0)return(0,s.a)(t.origin,n);if(e>1)return(0,s.a)((0,s.g)(u.rq.get(),t.origin,t.vector),n)}return null}function A(t,e,n){return!!R(t,e,!0,O)&&((0,s.c)(n,O.pA),!0)}function R(t,e,n,i){const o=1e-6,f=t.origin,c=(0,s.g)(u.rq.get(),f,t.vector),_=e.origin,a=(0,s.g)(u.rq.get(),_,e.vector),E=u.rq.get(),T=u.rq.get();if(E[0]=f[0]-_[0],E[1]=f[1]-_[1],E[2]=f[2]-_[2],T[0]=a[0]-_[0],T[1]=a[1]-_[1],T[2]=a[2]-_[2],Math.abs(T[0])<o&&Math.abs(T[1])<o&&Math.abs(T[2])<o)return!1;const h=u.rq.get();if(h[0]=c[0]-f[0],h[1]=c[1]-f[1],h[2]=c[2]-f[2],Math.abs(h[0])<o&&Math.abs(h[1])<o&&Math.abs(h[2])<o)return!1;const l=E[0]*T[0]+E[1]*T[1]+E[2]*T[2],d=T[0]*h[0]+T[1]*h[1]+T[2]*h[2],A=E[0]*h[0]+E[1]*h[1]+E[2]*h[2],R=T[0]*T[0]+T[1]*T[1]+T[2]*T[2],O=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*R-d*d;if(Math.abs(O)<o)return!1;let N=(l*d-A*R)/O,y=(l+d*N)/R;n&&(N=(0,r.qE)(N,0,1),y=(0,r.qE)(y,0,1));const p=u.rq.get(),S=u.rq.get();return p[0]=f[0]+N*h[0],p[1]=f[1]+N*h[1],p[2]=f[2]+N*h[2],S[0]=_[0]+y*T[0],S[1]=_[1]+y*T[1],S[2]=_[2]+y*T[2],i.tA=N,i.tB=y,i.pA=p,i.pB=S,i.distance2=(0,s.a)(p,S),!0}const O={tA:0,tB:0,pA:(0,o.vt)(),pB:(0,o.vt)(),distance2:0},N=new i.I((()=>f()))},61003:function(t,e,n){n.d(e,{b:function(){return s}});var r=n(15774),i=n(37819);function s(t,e,n){const s=Array.isArray(t),_=s?t.length/e:t.byteLength/(4*e),a=s?t:new Uint32Array(t,0,_*e),E=n?.minReduction??0,T=n?.originalIndices||null,h=T?T.length:0,l=n?.componentOffsets||null;let d=0;if(l)for(let t=0;t<l.length-1;t++){const e=l[t+1]-l[t];e>d&&(d=e)}else d=_;const A=Math.floor(1.1*d)+1;(null==c||c.length<2*A)&&(c=new Uint32Array((0,r.cU)(2*A)));for(let t=0;t<2*A;t++)c[t]=0;let R=0;const O=!!l&&!!T,N=O?h:_;let y=(0,i.my)(_);const p=new Uint32Array(h),S=1.96;let I=0!==E?Math.ceil(4*S*S/(E*E)*E*(1-E)):N,m=1,B=l?l[1]:N;for(let t=0;t<N;t++){if(t===I){const e=1-R/t;if(e+S*Math.sqrt(e*(1-e)/t)<E)return null;I*=2}if(t===B){for(let t=0;t<2*A;t++)c[t]=0;if(T)for(let t=l[m-1];t<l[m];t++)p[t]=y[T[t]];B=l[++m]}const n=O?T[t]:t,r=n*e,i=f(a,r,e);let s=i%A,u=R;for(;0!==c[2*s+1];){if(c[2*s]===i){const t=c[2*s+1]-1;if(o(a,r,t*e,e)){u=y[t];break}}s++,s>=A&&(s-=A)}u===R&&(c[2*s]=i,c[2*s+1]=n+1,R++),y[n]=u}if(0!==E&&1-R/_<E)return null;if(O){for(let t=l[m-1];t<p.length;t++)p[t]=y[T[t]];y=(0,i.Dg)(p)}const C=s?new Array(R):new Uint32Array(R*e);R=0;for(let t=0;t<N;t++)y[t]===R&&(u(a,(O?T[t]:t)*e,C,R*e,e),R++);if(T&&!O){const t=new Uint32Array(h);for(let e=0;e<t.length;e++)t[e]=y[T[e]];y=(0,i.Dg)(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:y,uniqueCount:R}}function o(t,e,n,r){for(let i=0;i<r;i++)if(t[e+i]!==t[n+i])return!1;return!0}function u(t,e,n,r,i){for(let s=0;s<i;s++)n[r+s]=t[e+s]}function f(t,e,n){let r=0;for(let i=0;i<n;i++)r=t[e+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let c=null},5596:function(t,e,n){n.d(e,{C:function(){return a},Cr:function(){return l},Io:function(){return U},LV:function(){return _},O_:function(){return h},Qj:function(){return E},T7:function(){return g},Tj:function(){return b},U5:function(){return C},Ui:function(){return M},Z1:function(){return D},_I:function(){return F},b6:function(){return P},ci:function(){return A},fA:function(){return T},gv:function(){return L},lU:function(){return d},mN:function(){return G},mP:function(){return I},mR:function(){return B},vt:function(){return c},ze:function(){return m}});var r=n(15774),i=n(20551),s=n(32501),o=(n(33400),n(29531)),u=n(50973),f=n(76185);function c(t=w){return[t[0],t[1],t[2],t[3]]}function _(t=w[0],e=w[1],n=w[2],r=w[3]){return T(t,e,n,r,u.Km.get())}function a(t,e){return T(e[0],e[1],e[2],e[3],t)}function E(t){return t}function T(t,e,n,r,i=c()){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function h(t,e,n){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function l(t,e,n,r=c()){const i=n[0]-e[0],s=n[1]-e[1],o=n[2]-e[2],u=t[0]-e[0],f=t[1]-e[1],_=t[2]-e[2],a=s*_-o*f,E=o*u-i*_,T=i*f-s*u,h=a*a+E*E+T*T,l=Math.abs(h-1)>1e-5&&h>1e-12?1/Math.sqrt(h):1;return r[0]=a*l,r[1]=E*l,r[2]=T*l,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function d(t,e,n,r=0,s=Math.floor(n*(1/3)),o=Math.floor(n*(2/3))){if(n<3)return!1;e(O,r);let u=s,f=!1;for(;u<n-1&&!f;)e(N,u),u++,f=!(0,i.e)(O,N);if(!f)return!1;for(u=Math.max(u,o),f=!1;u<n&&!f;)e(y,u),u++,(0,i.f)(p,O,N),(0,i.n)(p,p),(0,i.f)(S,N,y),(0,i.n)(S,S),f=!(0,i.e)(O,y)&&!(0,i.e)(N,y)&&Math.abs((0,i.m)(p,S))<R;return f?(l(O,N,y,t),!0):(0!==r||1!==s||2!==o)&&d(t,e,n,0,1,2)}function A(t,e,n=!0){const r=e.length/3;return d(t,((t,n)=>(0,i.s)(t,e[3*n+0],e[3*n+1],e[3*n+2])),n?r-1:r)}const R=.99619469809,O=(0,s.vt)(),N=(0,s.vt)(),y=(0,s.vt)(),p=(0,s.vt)(),S=(0,s.vt)();function I(t,e,n){return e!==t&&a(t,e),t[3]=-(0,i.m)(t,n),t}function m(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function B(t,e,n,r){return(0,i.b)(y,e,t),h(n,y,r)}function C(t,e,n,r){return v(t,e,(0,i.f)(u.rq.get(),n,e),V,r)}function M(t,e,n){return null!=e&&v(t,e.origin,e.direction,Y,n)}function g(t,e,n){return v(t,e.origin,e.vector,H.NONE,n)}function L(t,e,n){return v(t,e.origin,e.vector,H.CLAMP,n)}function b(t,e){return G(t,e)>=0}function P(t,e){const n=(0,i.m)(t,e.ray.direction),r=-G(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;const s=r/n;return n>0?s<e.c1&&(e.c1=s):s>e.c0&&(e.c0=s),e.c0<=e.c1}function F(t,e,n){const r=(0,i.j)(u.rq.get(),t,-t[3]),s=function(t,e,n){const r=(0,i.j)(u.rq.get(),t,(0,i.m)(t,e));return(0,i.f)(n,e,r),n}(t,(0,i.f)(u.rq.get(),e,r),u.rq.get());return(0,i.g)(n,s,r),n}function D(t,e,n,r){const s=t,c=u.rq.get(),_=u.rq.get();(0,f.VV)(s,c,_);const a=(0,i.f)(u.rq.get(),n,e),E=(0,o.gr)(c,a),T=(0,o.gr)(_,a),h=(0,o.gr)(s,a);return(0,i.s)(r,E,T,h)}function U(t,e){return Math.abs(G(t,e))}function G(t,e){return(0,i.m)(t,e)+t[3]}function v(t,e,n,s,o){const u=(0,i.m)(t,n);if(0===u)return!1;let f=-((0,i.m)(t,e)+t[3])/u;return s&H.CLAMP&&(f=(0,r.qE)(f,0,1)),!(!(s&H.INFINITE_MIN)&&f<0||!(s&H.INFINITE_MAX)&&f>1||((0,i.g)(o,e,(0,i.j)(o,n,f)),0))}const w=[0,0,1,0];var H,x;(x=H||(H={}))[x.NONE=0]="NONE",x[x.CLAMP=1]="CLAMP",x[x.INFINITE_MIN=4]="INFINITE_MIN",x[x.INFINITE_MAX=8]="INFINITE_MAX";const V=H.INFINITE_MIN|H.INFINITE_MAX,Y=H.INFINITE_MAX},79578:function(t,e,n){n.d(e,{C:function(){return _},Cr:function(){return a},LV:function(){return c},kb:function(){return E},oC:function(){return T},vt:function(){return u}}),n(50659);var r=n(89736),i=n(20551),s=n(32501),o=n(50973);function u(t){return t?f((0,s.o8)(t.origin),(0,s.o8)(t.direction)):f((0,s.vt)(),(0,s.vt)())}function f(t,e){return{origin:t,direction:e}}function c(t,e){const n=h.get();return n.origin=t,n.direction=e,n}function _(t,e=u()){return function(t,e,n=u()){return(0,i.c)(n.origin,t),(0,i.c)(n.direction,e),n}(t.origin,t.direction,e)}function a(t,e,n=u()){return(0,i.c)(n.origin,t),(0,i.f)(n.direction,e,t),n}function E(t,e){const n=(0,i.b)(o.rq.get(),(0,i.n)(o.rq.get(),t.direction),(0,i.f)(o.rq.get(),e,t.origin));return(0,i.m)(n,n)}function T(t,e,n){const r=(0,i.m)(t.direction,(0,i.f)(n,e,t.origin));return(0,i.g)(n,t.origin,(0,i.j)(n,t.direction,r)),n}const h=new r.I((()=>u()));(0,s.vt)()},29531:function(t,e,n){n.d(e,{_I:function(){return o},g7:function(){return f},gr:function(){return u}});var r=n(15774),i=n(20551),s=n(32501);function o(t,e,n){const r=(0,i.m)(t,e)/(0,i.m)(t,t);return(0,i.j)(n,t,r)}function u(t,e){return(0,i.m)(t,e)/(0,i.l)(t)}function f(t,e){const n=(0,i.m)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,r.XM)(n)}(0,s.vt)(),(0,s.vt)()},50973:function(t,e,n){n.d(e,{Rc:function(){return h},J8:function(){return l},oG:function(){return a},rq:function(){return E},Km:function(){return T}}),n(58941);var r=n(29601),i=n(87725),s=n(39714),o=n(61769),u=n(1932),f=n(32501),c=n(41546);class _{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new _(u.vt)}static createVec3f64(){return new _(f.vt)}static createVec4f64(){return new _(c.vt)}static createMat3f64(){return new _(i.vt)}static createMat4f64(){return new _(s.vt)}static createQuatf64(){return new _(o.vt)}get test(){}}const a=_.createVec2f64(),E=_.createVec3f64(),T=_.createVec4f64(),h=(_.createMat3f64(),_.createMat4f64()),l=_.createQuatf64()},65856:function(t,e,n){n.d(e,{BP:function(){return f},l5:function(){return c},q3:function(){return u}});var r=n(92754),i=n(28404),s=n(90553);class o{constructor(t,e){this.layout=t,this.buffer="number"==typeof e?new ArrayBuffer(e*t.stride):e;for(const e of t.fields.keys()){const n=t.fields.get(e);this[e]=new n.constructor(this.buffer,n.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,e){const n=this[t];return n&&n.elementCount===e.ElementCount&&n.elementType===e.ElementType?n:null}slice(t,e){return new o(this.layout,this.buffer.slice(t*this.stride,e*this.stride))}copyFrom(t,e=0,n=0,r=t.count){const i=this.stride;if(i%4==0){const s=new Uint32Array(t.buffer,e*i,r*i/4);new Uint32Array(this.buffer,n*i,r*i/4).set(s)}else{const s=new Uint8Array(t.buffer,e*i,r*i);new Uint8Array(this.buffer,n*i,r*i).set(s)}return this}get usedMemory(){return this.byteLength}dispose(){}}class u{constructor(t=null){this._stride=0,this._lastAligned=0,this._fields=new Map,t&&(this._stride=t.stride,t.fields.forEach((t=>this._fields.set(t[0],{...t[1],constructor:E(t[1].constructor)}))))}freeze(){return this}vec2f(t,e){return this._appendField(t,r.gH,e),this}vec2f64(t,e){return this._appendField(t,r.si,e),this}vec3f(t,e){return this._appendField(t,r.xs,e),this}vec3f64(t,e){return this._appendField(t,r.Xm,e),this}vec4f(t,e){return this._appendField(t,r.Eq,e),this}vec4f64(t,e){return this._appendField(t,r.Aj,e),this}mat3f(t,e){return this._appendField(t,r.jZ,e),this}mat3f64(t,e){return this._appendField(t,r.j0,e),this}mat4f(t,e){return this._appendField(t,r.Sx,e),this}mat4f64(t,e){return this._appendField(t,r.E$,e),this}vec4u8(t,e){return this._appendField(t,r.XP,e),this}f32(t,e){return this._appendField(t,r.Y$,e),this}f64(t,e){return this._appendField(t,r.qB,e),this}u8(t,e){return this._appendField(t,r.SL,e),this}u16(t,e){return this._appendField(t,r.h,e),this}i8(t,e){return this._appendField(t,r.bf,e),this}vec2i8(t,e){return this._appendField(t,r.D6,e),this}vec2i16(t,e){return this._appendField(t,r.mJ,e),this}vec2u8(t,e){return this._appendField(t,r.LC,e),this}vec4u16(t,e){return this._appendField(t,r.Uz,e),this}u32(t,e){return this._appendField(t,r.P,e),this}_appendField(t,e,n){if(this._fields.has(t))return void(0,s.vA)(!1,`${t} already added to vertex buffer layout`);const r=e.ElementCount*(0,i.GJ)(e.ElementType),o=this._stride;this._stride+=r,this._fields.set(t,{size:r,constructor:e,offset:o,optional:n})}createBuffer(t){return new o(this,t)}createView(t){return new o(this,t)}clone(){const t=new u;return t._stride=this._stride,t._fields=new Map,this._fields.forEach(((e,n)=>t._fields.set(n,e))),t.BufferType=this.BufferType,t}get stride(){if(this._lastAligned!==this._fields.size){let t=1;this._fields.forEach((e=>t=Math.max(t,(0,i.GJ)(e.constructor.ElementType)))),this._stride=Math.floor((this._stride+t-1)/t)*t,this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}function f(){return new u}class c{constructor(t){this.fields=new Array,t.fields.forEach(((t,e)=>{const n={...t,constructor:a(t.constructor)};this.fields.push([e,n])})),this.stride=t.stride}}const _=[r.Y$,r.gH,r.xs,r.Eq,r.jZ,r.Sx,r.qB,r.si,r.Xm,r.Aj,r.j0,r.E$,r.SL,r.LC,r.eI,r.XP,r.h,r.Yi,r.nS,r.Uz,r.P,r.An,r.H$,r.ml,r.bf,r.D6,r.m8,r.TX,r.Qt,r.mJ,r.Vp,r.E7,r.My,r.UL,r.zD,r.Y4];function a(t){return`${t.ElementType}_${t.ElementCount}`}function E(t){return T.get(t)}const T=new Map;_.forEach((t=>T.set(a(t),t)))},69550:function(t,e,n){n.d(e,{U:function(){return s}});var r=n(85456),i=n(3817);function s(t,e=0){const n=t.stride;return Array.from(t.fields.keys()).map((r=>{const s=t.fields.get(r),u=s.constructor.ElementCount,f=o(s.constructor.ElementType),c=s.offset,_=s.optional?.glNormalized??!1;return new i._(r,u,f,c,n,_,e)}))}function o(t){const e=u[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const u={u8:r.pe.UNSIGNED_BYTE,u16:r.pe.UNSIGNED_SHORT,u32:r.pe.UNSIGNED_INT,i8:r.pe.BYTE,i16:r.pe.SHORT,i32:r.pe.INT,f32:r.pe.FLOAT}},76185:function(t,e,n){n.d(e,{VV:function(){return u},hG:function(){return s},wp:function(){return o}}),n(15774);var r=n(20551),i=n(32501);function s(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}function o(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),i=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),s=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,r.s)(t,n,i,s),t}function u(t,e,n){Math.abs(t[0])>Math.abs(t[1])?(0,r.s)(e,0,1,0):(0,r.s)(e,1,0,0),(0,r.b)(n,t,e),(0,r.b)(e,n,t),(0,r.n)(n,n),(0,r.n)(e,e)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()},13641:function(t,e,n){n.d(e,{aT:function(){return i},fA:function(){return s}});var r=n(15774);function i(t,e,n,r,i,s=2){const u=1/(Math.abs(n)+Math.abs(r)+Math.abs(i)),f=n*u,c=r*u,_=i<=0?(f>=0?1:-1)*(1-Math.abs(c)):f,a=i<=0?(c>=0?1:-1)*(1-Math.abs(f)):c,E=e*s;t[E]=o(_),t[E+1]=o(a)}function s(t){const e=t.length/3,n=new Int16Array(2*e);let r=0;for(let s=0;s<e;++s)i(n,s,t[r++],t[r++],t[r++]);return n}function o(t){return(0,r.qE)(Math.round(32767*t),-32767,32767)}n(20551),n(32501),n(5047)},35363:function(t,e,n){n.d(e,{A:function(){return j}});var r,i,s=n(56996),o=n(7187),u=n(20551),f=n(32501),c=n(69508),_=n(79578),a=n(90599),E=n(90553);class T{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,e){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new h,this._objectCount=0,e&&(void 0!==e.maximumObjectsPerNode&&(this._maximumObjectsPerNode=e.maximumObjectsPerNode),void 0!==e.maximumDepth&&(this._maximumDepth=e.maximumDepth))}destroy(){this._degenerateObjects.clear(),h.clearPool(),L[0]=null,U.prune(),V.prune()}add(t,e=t.length){this._objectCount+=e,this._grow(t,e);const n=h.acquire();for(let r=0;r<e;r++){const e=t[r];this._isDegenerate(e)?this._degenerateObjects.add(e):(n.init(this._root),this._add(e,n))}h.release(n)}remove(t,e=null){this._objectCount-=t.length;const n=h.acquire();for(const r of t){const t=e??(0,a.a)(this.objectToBoundingSphere(r),G);B(t[3])?(n.init(this._root),A(r,t,n)):this._degenerateObjects.delete(r)}h.release(n),this._shrink()}update(t,e){if(!B(e[3])&&this._isDegenerate(t))return;const n=function(t){return L[0]=t,L}(t);this.remove(n,e),this.add(n)}forEachAlongRay(t,e,n){const r=(0,_.LV)(t,e);l(this._root,(t=>{if(!function(t,e){return p((0,a.g)(e.bounds),2*-e.halfSize,F),p((0,a.g)(e.bounds),2*e.halfSize,D),(0,E.O_)(t.origin,t.direction,F,D)}(r,t))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObject(r,t)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObject(r,t)&&n(t)})),!0}))}forEachAlongRayWithVerticalOffset(t,e,n,r){const i=(0,_.LV)(t,e);l(this._root,(t=>{if(!function(t,e,n){return p((0,a.g)(e.bounds),2*-e.halfSize,F),p((0,a.g)(e.bounds),2*e.halfSize,D),n.applyToMinMax(F,D),(0,E.O_)(t.origin,t.direction,F,D)}(i,t,r))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObjectWithOffset(i,t,r)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObjectWithOffset(i,t,r)&&n(t)})),!0}))}forEach(t){l(this._root,(e=>{const n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0})),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,e,n,r=(()=>!0),i=1/0){let s=1/0,o=1/0,f=null;const _=I(t,e),E=u=>{if(--i,!r(u))return;const _=this.objectToBoundingSphere(u);if(!(0,c.m7)(n,_))return;const E=m(t,e,(0,a.g)(_)),T=E-_[3],h=E+_[3];T<s&&(s=T,o=h,f=u)};return d(this._root,(r=>{if(i<=0||!(0,c.m7)(n,r.bounds))return!1;if((0,u.j)(P,_,r.halfSize),(0,u.g)(P,P,(0,a.g)(r.bounds)),m(t,e,P)>o)return!1;const s=r.node;return s.terminals.forAll((t=>E(t))),null!==s.residents&&s.residents.forAll((t=>E(t))),!0}),t,e),f}forEachInDepthRange(t,e,n,r,i,s,o){let f=-1/0,_=1/0;const E={setRange:t=>{n===T.DepthOrder.FRONT_TO_BACK?(f=Math.max(f,t.near),_=Math.min(_,t.far)):(f=Math.max(f,-t.far),_=Math.min(_,-t.near))}};E.setRange(r);const h=m(e,n,t),l=I(e,n),A=I(e,-n),R=t=>{if(!o(t))return;const r=this.objectToBoundingSphere(t),u=(0,a.g)(r),T=m(e,n,u)-h,l=T-r[3],d=T+r[3];l>_||d<f||!(0,c.m7)(s,r)||i(t,E)};d(this._root,(t=>{if(!(0,c.m7)(s,t.bounds))return!1;if((0,u.j)(P,l,t.halfSize),(0,u.g)(P,P,(0,a.g)(t.bounds)),m(e,n,P)-h>_)return!1;if((0,u.j)(P,A,t.halfSize),(0,u.g)(P,P,(0,a.g)(t.bounds)),m(e,n,P)-h<f)return!1;const r=t.node;return r.terminals.forAll((t=>R(t))),null!==r.residents&&r.residents.forAll((t=>R(t))),!0}),e,n)}forEachNode(t){l(this._root,(e=>t(e.node,e.bounds,e.halfSize,e.depth)))}forEachNeighbor(t,e){const n=(0,a.b)(e),r=(0,a.g)(e),i=e=>{const i=this.objectToBoundingSphere(e),s=(0,a.b)(i),o=n+s;return!((0,u.a)((0,a.g)(i),r)-o*o<=0)||t(e)};let s=!0;const o=t=>{s&&(s=i(t))};l(this._root,(t=>{const e=(0,a.b)(t.bounds),i=n+e;if((0,u.a)((0,a.g)(t.bounds),r)-i*i>0)return!1;const f=t.node;return f.terminals.forAll(o),s&&null!==f.residents&&f.residents.forAll(o),s})),s&&this.forEachDegenerateObject(o)}_intersectsObject(t,e){const n=this.objectToBoundingSphere(e);return!(n[3]>0)||(0,a.j)(n,t)}_intersectsObjectWithOffset(t,e,n){const r=this.objectToBoundingSphere(e);return!(r[3]>0)||(0,a.j)(n.applyToBoundingSphere(r),t)}_add(t,e){e.advanceTo(this.objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}_split(t){const e=t.node.residents;t.node.residents=null;for(let n=0;n<e.length;n++){const r=h.acquire().init(t);this._add(e.at(n),r),h.release(r)}}_grow(t,e){if(0!==e&&(S(t,e,(t=>this.objectToBoundingSphere(t)),v),B(v[3])&&!this._fitsInsideTree(v)))if(O(this._root.node))(0,a.a)(v,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(v);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(v,t):this._growRootAsSubNode(t),h.release(t)}}_rebuildTree(t,e){(0,u.c)((0,a.g)(w),(0,a.g)(e.bounds)),w[3]=e.halfSize,S([t,w],2,(t=>t),H);const n=h.acquire().init(this._root);this._root.initFrom(null,H,H[3]),this._root.increaseHalfSize(1.25),l(n,(t=>(this.add(t.node.terminals.data,t.node.terminals.length),null!==t.node.residents&&this.add(t.node.residents.data,t.node.residents.length),!0))),h.release(n)}_placingRootViolatesMaxDepth(t){const e=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return l(this._root,(t=>(n=Math.max(n,t.depth),n+e<=this._maximumDepth))),n+e>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const e=t[3],n=t;let r=-1/0;const i=this._root.bounds,s=this._root.halfSize;for(let t=0;t<3;t++){const o=i[t]-s-(n[t]-e),u=n[t]+e-(i[t]+s),f=Math.max(0,Math.ceil(o/(2*s))),c=Math.max(0,Math.ceil(u/(2*s)))+1,_=2**Math.ceil(Math.log(f+c)*Math.LOG2E);r=Math.max(r,_),x[t].min=f,x[t].max=c}for(let t=0;t<3;t++){let e=x[t].min,n=x[t].max;const o=(r-(e+n))/2;e+=Math.ceil(o),n+=Math.floor(o);const u=i[t]-s-e*s*2;b[t]=u+(n+e)*s}const o=r*s;return b[3]=o*g,h.acquire().initFrom(null,b,o,0)}_growRootAsSubNode(t){const e=this._root.node;(0,u.c)((0,a.g)(v),(0,a.g)(this._root.bounds)),v[3]=this._root.halfSize,this._root.init(t),t.advanceTo(v,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const e=this._root.node.children;let n=0,r=0;for(;r<e.length&&null==t;)n=r++,t=e[n];for(;r<e.length;)if(e[r++])return-1;return n}_isDegenerate(t){return!B(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const e=this._root.bounds,n=this._root.halfSize;return t[3]<=n&&t[0]>=e[0]-n&&t[0]<=e[0]+n&&t[1]>=e[1]-n&&t[1]<=e[1]+n&&t[2]>=e[2]-n&&t[2]<=e[2]+n}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:e,_objectCount:n}=this,r=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:e,objectCount:n,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:r}}}_nodeToJSON(t){const e=t.children.map((t=>t?this._nodeToJSON(t):null)),n=t.residents?.map((t=>this.objectToBoundingSphere(t))),r=t.terminals?.map((t=>this.objectToBoundingSphere(t)));return{children:e,residents:n,terminals:r}}static fromJSON(t){const e=new T((t=>t),{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return e._objectCount=t.objectCount,e._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),e}}class h{constructor(){this.bounds=(0,a.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,e,n,r=this.depth){return this.node=null!=t?t:h.createEmptyNode(),e&&(0,a.a)(e,this.bounds),this.halfSize=n,this.depth=r,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*g}advance(t){let e=this.node.children[t];e||(e=h.createEmptyNode(),this.node.children[t]=e),this.node=e,this.halfSize/=2,this.depth++;const n=C[t];return this.bounds[0]+=n[0]*this.halfSize,this.bounds[1]+=n[1]*this.halfSize,this.bounds[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,e,n=!1){for(;;){if(this.isTerminalFor(t))return e&&e(this,-1),!0;if(this.isLeaf()){if(!n)return e&&e(this,-1),!1;this.node.residents=null}const r=this._childIndex(t);e&&e(this,r),this.advance(r)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const e=this.bounds;return(e[0]<t[0]?1:0)+(e[1]<t[1]?2:0)+(e[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new o.A({shrink:!0}),residents:new o.A({shrink:!0})}}static acquire(){return h._pool.acquire()}static release(t){h._pool.release(t)}static clearPool(){h._pool.prune()}}function l(t,e){let n=h.acquire().init(t);const r=[n];for(;0!==r.length;){if(n=r.pop(),e(n)&&!n.isLeaf())for(let t=0;t<n.node.children.length;t++)n.node.children[t]&&r.push(h.acquire().init(n).advance(t));h.release(n)}}function d(t,e,n,r=T.DepthOrder.FRONT_TO_BACK){let i=h.acquire().init(t);const s=[i];for(function(t,e,n){if(!V.length)for(let t=0;t<8;++t)V.push({index:0,distance:0});for(let n=0;n<8;++n){const r=C[n];V.data[n].index=n,V.data[n].distance=m(t,e,r)}V.sort(((t,e)=>t.distance-e.distance));for(let t=0;t<8;++t)n[t]=V.data[t].index}(n,r,Y);0!==s.length;){if(i=s.pop(),e(i)&&!i.isLeaf())for(let t=7;t>=0;--t){const e=Y[t];i.node.children[e]&&s.push(h.acquire().init(i).advance(e))}h.release(i)}}function A(t,e,n){U.clear();const r=n.advanceTo(e,((t,e)=>{U.push(t.node),U.push(e)}))?n.node.terminals:n.node.residents;if(r.removeUnordered(t),0===r.length)for(let t=U.length-2;t>=0&&R(U.data[t],U.data[t+1]);t-=2);}function R(t,e){return e>=0&&(t.children[e]=null),!!O(t)&&(null===t.residents&&(t.residents=new o.A({shrink:!0})),!0)}function O(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}function N(t,e){t[0]=Math.min(t[0],e[0]-e[3]),t[1]=Math.min(t[1],e[1]-e[3]),t[2]=Math.min(t[2],e[2]-e[3])}function y(t,e){t[0]=Math.max(t[0],e[0]+e[3]),t[1]=Math.max(t[1],e[1]+e[3]),t[2]=Math.max(t[2],e[2]+e[3])}function p(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function S(t,e,n,r){if(1===e){const e=n(t[0]);(0,a.a)(e,r)}else{F[0]=1/0,F[1]=1/0,F[2]=1/0,D[0]=-1/0,D[1]=-1/0,D[2]=-1/0;for(let r=0;r<e;r++){const e=n(t[r]);B(e[3])&&(N(F,e),y(D,e))}(0,u.o)((0,a.g)(r),F,D,.5),r[3]=Math.max(D[0]-F[0],D[1]-F[1],D[2]-F[2])/2}}function I(t,e){let n,r=1/0;for(let i=0;i<8;++i){const s=m(t,e,M[i]);s<r&&(r=s,n=M[i])}return n}function m(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function B(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}h._pool=new s.A(h),r=T||(T={}),(i=r.DepthOrder||(r.DepthOrder={}))[i.FRONT_TO_BACK=1]="FRONT_TO_BACK",i[i.BACK_TO_FRONT=-1]="BACK_TO_FRONT";const C=[(0,f.fA)(-1,-1,-1),(0,f.fA)(1,-1,-1),(0,f.fA)(-1,1,-1),(0,f.fA)(1,1,-1),(0,f.fA)(-1,-1,1),(0,f.fA)(1,-1,1),(0,f.fA)(-1,1,1),(0,f.fA)(1,1,1)],M=[(0,f.fA)(-1,-1,-1),(0,f.fA)(-1,-1,1),(0,f.fA)(-1,1,-1),(0,f.fA)(-1,1,1),(0,f.fA)(1,-1,-1),(0,f.fA)(1,-1,1),(0,f.fA)(1,1,-1),(0,f.fA)(1,1,1)],g=Math.sqrt(3),L=[null],b=(0,a.c)(),P=(0,f.vt)(),F=(0,f.vt)(),D=(0,f.vt)(),U=new o.A,G=(0,a.c)(),v=(0,a.c)(),w=(0,a.c)(),H=(0,a.c)(),x=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],V=new o.A,Y=[0,0,0,0,0,0,0,0],j=T},90553:function(t,e,n){n.d(e,{L:function(){return f},MX:function(){return o},M_:function(){return _},O_:function(){return u},kL:function(){return c},vA:function(){return s},zH:function(){return a}});var r=n(1932);n(33400),(0,n(41546).vt)();class i{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function s(t,e){if(!t){e=e||"Assertion";const t=new Error(e).stack;throw new i(`${e} at ${t}`)}}function o(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function u(t,e,n,r){let i,s=(n[0]-t[0])/e[0],o=(r[0]-t[0])/e[0];s>o&&(i=s,s=o,o=i);let u=(n[1]-t[1])/e[1],f=(r[1]-t[1])/e[1];if(u>f&&(i=u,u=f,f=i),s>f||u>o)return!1;u>s&&(s=u),f<o&&(o=f);let c=(n[2]-t[2])/e[2],_=(r[2]-t[2])/e[2];return c>_&&(i=c,c=_,_=i),!(s>_||c>o||(_<o&&(o=_),o<0))}function f(t,e,n,i,s,o=(0,r.vt)()){const u=(i[s]-n[s])*(e[0]-t[0])-(i[0]-n[0])*(e[s]-t[s]),f=(i[0]-n[0])*(t[s]-n[s])-(i[s]-n[s])*(t[0]-n[0]);if(0===u)return!1;const c=f/u;return o[0]=t[0]+c*(e[0]-t[0]),o[1]=t[s]+c*(e[s]-t[s]),!0}function c(t,e){return Math.log(t)/Math.log(e)}function _(t,e,n,r){t[12]=e,t[13]=n,t[14]=r}function a(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}},65839:function(t,e,n){var r;function i(t){return t===r.POSITION}n.d(e,{b:function(){return i},r:function(){return r}}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},51640:function(t,e,n){n.d(e,{I$:function(){return o},In:function(){return c},gr:function(){return f}});var r=n(69550),i=n(65856),s=n(65839);const o=(0,i.BP)().vec3f(s.r.POSITION).u16(s.r.COMPONENTINDEX).freeze(),u=(0,i.BP)().vec2u8(s.r.SIDENESS).freeze(),f=((0,r.U)(u),(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()),c=(0,i.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).vec2i16(s.r.NORMAL2COMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze();new Map([[s.r.POSITION0,0],[s.r.POSITION1,1],[s.r.COMPONENTINDEX,2],[s.r.VARIANTOFFSET,3],[s.r.VARIANTSTROKE,4],[s.r.VARIANTEXTENSION,5],[s.r.NORMALCOMPRESSED,6],[s.r.NORMAL2COMPRESSED,7],[s.r.SIDENESS,8]])},85204:function(t,e,n){n.d(e,{K:function(){return f}});var r=n(15774),i=n(7187),s=n(20551),o=n(32501);const u=-1;function f(t,e,n){const r=t.vertices.position,i=t.vertices.componentIndex,o=l.position0,f=l.position1,a=l.faceNormal0,T=l.faceNormal1,{edges:h,normals:d}=_(t),A=h.length/4,R=e.allocate(A);let O=0;const N=A,S=n?.allocate(N);let m=0,B=0,C=0;E.length=0;for(let t=0;t<A;++t){const e=4*t;r.getVec(h.data[e],o),r.getVec(h.data[e+1],f);const n=E.pushNew();n.index=4*t,n.length=(0,s.p)(o,f)}E.sort(((t,e)=>e.length-t.length));const M=new Array,g=new Array;E.forAll((({length:t,index:_})=>{const E=h.data[_],A=h.data[_+1],N=h.data[_+2],L=h.data[_+3],b=L===u;if(r.getVec(E,o),r.getVec(A,f),b){const t=3*N;(0,s.s)(a,d.data[t],d.data[t+1],d.data[t+2]),(0,s.c)(T,a),l.componentIndex=i.get(E),l.cosAngle=(0,s.m)(a,T)}else{let t=3*N;if((0,s.s)(a,d.data[t],d.data[t+1],d.data[t+2]),t=3*L,(0,s.s)(T,d.data[t],d.data[t+1],d.data[t+2]),l.componentIndex=i.get(E),l.cosAngle=(0,s.m)(a,T),function(t,e){return t.cosAngle>e}(l,p))return;l.cosAngle<-.9999&&(0,s.c)(T,a)}B+=t,C++,b||function(t,e){return t.cosAngle<e}(l,I)?(e.write(R,O++,l),M.push(t)):c(l,y)&&(S&&n&&n.write(S,m++,l),g.push(t))}));const L=new Float32Array(M.reverse()),b=new Float32Array(g.reverse()),P=S&&n?{instancesData:S.slice(0,m),lodInfo:{lengths:b}}:void 0;return{regular:{instancesData:R.slice(0,O),lodInfo:{lengths:L}},silhouette:P,averageEdgeLength:B/C}}function c(t,e){const n=(0,r.XM)(t.cosAngle);return(0,s.E)(A,t.position1,t.position0),n*((0,s.m)((0,s.b)(d,t.faceNormal0,t.faceNormal1),A)>0?-1:1)>e}function _(t){const e=t.faces.length/3,n=t.faces,r=t.neighbors,i=t.vertices.position;T.length=h.length=0;for(let t=0;t<e;t++){const e=3*t,o=r[e],f=r[e+1],c=r[e+2],_=n[e],a=n[e+1],E=n[e+2];i.getVec(_,R),i.getVec(a,O),i.getVec(E,N),(0,s.f)(O,O,R),(0,s.f)(N,N,R),(0,s.b)(R,O,N),(0,s.n)(R,R),h.pushArray(R),(o===u||_<a)&&(T.push(_),T.push(a),T.push(t),T.push(o)),(f===u||a<E)&&(T.push(a),T.push(E),T.push(t),T.push(f)),(c===u||E<_)&&(T.push(E),T.push(_),T.push(t),T.push(c))}return{edges:T,normals:h}}class a{constructor(){this.index=0,this.length=0}}const E=new i.A({allocator:t=>t||new a,deallocator:null}),T=new i.A({deallocator:null}),h=new i.A({deallocator:null}),l=new class{constructor(){this.position0=(0,o.vt)(),this.position1=(0,o.vt)(),this.faceNormal0=(0,o.vt)(),this.faceNormal1=(0,o.vt)(),this.componentIndex=0,this.cosAngle=0}},d=(0,o.vt)(),A=(0,o.vt)(),R=(0,o.vt)(),O=(0,o.vt)(),N=(0,o.vt)(),y=(0,r.kU)(4),p=Math.cos(y),S=(0,r.kU)(35),I=Math.cos(S)},54785:function(t,e,n){n.d(e,{o6:function(){return B},HY:function(){return P},hx:function(){return C},Jb:function(){return b}});var r=n(61003);function i(t,e,n){const r=e/3,i=new Uint32Array(n+1),s=new Uint32Array(n+1),o=(t,e)=>{t<e?i[t+1]++:s[e+1]++};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],i=t[3*e+2];o(n,r),o(r,i),o(i,n)}let u=0,f=0;for(let t=0;t<n;t++){const e=i[t+1],n=s[t+1];i[t+1]=u,s[t+1]=f,u+=e,f+=n}const c=new Uint32Array(6*r),_=i[n],a=(t,e,n)=>{if(t<e){const r=i[t+1]++;c[2*r]=e,c[2*r+1]=n}else{const r=s[e+1]++;c[2*_+2*r]=t,c[2*_+2*r+1]=n}};for(let e=0;e<r;e++){const n=t[3*e],r=t[3*e+1],i=t[3*e+2];a(n,r,e),a(r,i,e),a(i,n,e)}const E=(t,e)=>{const n=2*t,r=e-t;for(let t=1;t<r;t++){const e=c[n+2*t],r=c[n+2*t+1];let i=t-1;for(;i>=0&&c[n+2*i]>e;i--)c[n+2*i+2]=c[n+2*i],c[n+2*i+3]=c[n+2*i+1];c[n+2*i+2]=e,c[n+2*i+3]=r}};for(let t=0;t<n;t++)E(i[t],i[t+1]),E(_+s[t],_+s[t+1]);const T=new Int32Array(3*r),h=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,l=(t,e)=>{const n=h(t,e);T[3*e+n]=-1},d=(t,e,n,r)=>{const i=h(t,e);T[3*e+i]=r;const s=h(n,r);T[3*r+s]=e};for(let t=0;t<n;t++){let e=i[t];const n=i[t+1];let r=s[t];const o=s[t+1];for(;e<n&&r<o;){const n=c[2*e],i=c[2*_+2*r];n===i?(d(t,c[2*e+1],i,c[2*_+2*r+1]),e++,r++):n<i?(l(t,c[2*e+1]),e++):(l(i,c[2*_+2*r+1]),r++)}for(;e<n;)l(t,c[2*e+1]),e++;for(;r<o;)l(c[2*_+2*r],c[2*_+2*r+1]),r++}return T}var s=n(65856),o=n(65839),u=n(51640),f=n(13798),c=n(20551),_=n(32501),a=n(69550),E=n(13641);class T{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?R:A}write(t,e,n){I.seed=this._edgeHashFunction(n);const r=I.getIntRange(0,255),i=I.getIntRange(0,this.settings.variants-1),s=I.getFloat(),o=255*(.5*function(t,e){return Math.abs(t)**1.2*Math.sign(t)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7))+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,i),t.variantExtension.set(e,o)}}const h=new Float32Array(6),l=new Uint32Array(h.buffer),d=new Uint32Array(1);function A(t){return h[0]=t.position0[0],h[1]=t.position0[1],h[2]=t.position0[2],h[3]=t.position1[0],h[4]=t.position1[1],h[5]=t.position1[2],d[0]=31*(31*(31*(31*(31*(166811+l[0])+l[1])+l[2])+l[3])+l[4])+l[5],d[0]}function R(t){const e=h;e[0]=N(t.position0[0]),e[1]=N(t.position0[1]),e[2]=N(t.position0[2]),e[3]=N(t.position1[0]),e[4]=N(t.position1[1]),e[5]=N(t.position1[2]),d[0]=5381;for(let t=0;t<l.length;t++)d[0]=31*d[0]+l[t];return d[0]}const O=1e4;function N(t){return Math.round(t*O)/O}class y{constructor(){this._commonWriter=new T}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return u.gr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,c.g)(S,n.faceNormal0,n.faceNormal1),(0,c.n)(S,S);const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,E.aT)(r,e,S[0],S[1],S[2],i)}}y.Layout=u.gr,y.glLayout=(0,a.U)(u.gr,1);class p{constructor(){this._commonWriter=new T}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return u.In.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:i}=t.normalCompressed;(0,E.aT)(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],i)}{const{typedBuffer:r,typedBufferStride:i}=t.normal2Compressed;(0,E.aT)(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],i)}}}p.Layout=u.In,p.glLayout=(0,a.U)(u.In,1);const S=(0,_.vt)(),I=new f.A;var m=n(85204);function B(t){const e=C(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return g.updateSettings(t.writerSettings),L.updateSettings(t.writerSettings),(0,m.K)(e,g,L)}function C(t,e,n,s){if(e){const e=i(n,s,t.count);return new M(n,s,e,t)}const o=(0,r.b)(t.buffer,t.stride/4,{originalIndices:n,originalIndicesLength:s}),f=i(o.indices,s,o.uniqueCount);return{faces:o.indices,facesLength:o.indices.length,neighbors:f,vertices:u.I$.createView(o.buffer)}}class M{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const g=new y,L=new p,b=(0,s.BP)().vec3f(o.r.POSITION0).vec3f(o.r.POSITION1),P=(0,s.BP)().vec3f(o.r.POSITION0).vec3f(o.r.POSITION1).u16(o.r.COMPONENTINDEX)},28820:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(53804),i=n(60539),s=(n(40633),n(58941),n(13798),n(39819),n(65953)),o=n(20551),u=n(32501),f=n(73313),c=n(90599),_=n(35363),a=n(54785);function E(t,e,n){const r=(0,c.c)(),i=(0,c.g)(r);return(0,o.r)(i,i,t,.5),(0,o.r)(i,i,e,.5),r[3]=(0,o.p)(i,t),(0,o.g)(i,i,n),r}let T=class{constructor(){this._idToComponent=new Map,this._components=new _.A((t=>t.bounds)),this._edges=new _.A((t=>t.bounds)),this._tmpLineSegment=(0,f.vt)(),this._tmpP1=(0,u.vt)(),this._tmpP2=(0,u.vt)(),this._tmpP3=(0,u.vt)(),this.remoteClient=null}async fetchCandidates(t,e){await Promise.resolve(),(0,i.Te)(e),await this._ensureEdgeLocations(t,e);const n=[];return this._edges.forEachNeighbor((e=>(this._addCandidates(t,e,n),n.length<1e3)),t.bounds),{result:{candidates:n}}}async _ensureEdgeLocations(t,e){const n=[];if(this._components.forEachNeighbor((t=>{if(null==t.info){const{id:e,uid:r}=t;n.push({id:e,uid:r})}return!0}),t.bounds),!n.length)return;const r={components:n},i=await this.remoteClient.invoke("fetchAllEdgeLocations",r,e??{});for(const t of i.components)this._setFetchEdgeLocations(t)}async add(t){const e=new d(t.id,t.bounds);return this._idToComponent.set(e.id,e),this._components.add([e]),{result:{}}}async remove(t){const e=this._idToComponent.get(t.id);if(e){const t=[];this._edges.forEachNeighbor((n=>(n.component===e&&t.push(n),!0)),e.bounds),this._edges.remove(t),this._components.remove([e]),this._idToComponent.delete(e.id)}return{result:{}}}_setFetchEdgeLocations(t){const e=this._idToComponent.get(t.id);if(null==e||t.uid!==e.uid)return;const n=a.HY.createView(t.locations),r=new Array(n.count),i=(0,u.vt)(),s=(0,u.vt)();for(let o=0;o<n.count;o++){n.position0.getVec(o,i),n.position1.getVec(o,s);const u=E(i,s,t.origin),f=new A(e,o,u);r[o]=f}this._edges.add(r);const{objectIds:o,origin:f}=t;e.info={locations:n,objectIds:o,origin:f}}_addCandidates(t,e,n){const{info:r}=e.component,{origin:i,objectIds:s}=r,u=r.locations,f=u.position0.getVec(e.index,this._tmpP1),c=u.position1.getVec(e.index,this._tmpP2);(0,o.g)(f,f,i),(0,o.g)(c,c,i);const _=s[u.componentIndex.get(e.index)];this._addEdgeCandidate(t,_,f,c,n),l(t,_,f,n),l(t,_,c,n)}_addEdgeCandidate(t,e,n,r,i){if(!t.returnEdge)return;const s=(0,c.g)(t.bounds),_=(0,f.Cr)(n,r,this._tmpLineSegment),a=(0,f._I)(_,s,this._tmpP3);(0,c.n)(t.bounds,a)&&i.push({type:"edge",objectId:e,target:(0,u.o8)(a),distance:(0,o.p)(s,a),start:(0,u.o8)(n),end:(0,u.o8)(r)})}};T=(0,r._)([(0,s.$)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],T);const h=T;function l(t,e,n,r){if(!t.returnVertex||!(0,c.n)(t.bounds,n))return;const i=(0,c.g)(t.bounds);r.push({type:"vertex",objectId:e,target:(0,u.o8)(n),distance:(0,o.p)(i,n)})}class d{constructor(t,e){this.id=t,this.bounds=e,this.info=null,this.uid=++d.uid}}d.uid=0;class A{constructor(t,e,n){this.component=t,this.index=e,this.bounds=n}}},3817:function(t,e,n){n.d(e,{_:function(){return r}});class r{constructor(t,e,n,r,i,s=!1,o=0){this.name=t,this.count=e,this.type=n,this.offset=r,this.stride=i,this.normalized=s,this.divisor=o}}},85456:function(t,e,n){var r,i,s,o,u,f,c,_,a,E,T,h,l,d,A,R,O,N,y,p;n.d(e,{Ab:function(){return d},Ac:function(){return c},Ap:function(){return l},CQ:function(){return M},Cj:function(){return T},Co:function(){return y},H0:function(){return A},Hr:function(){return B},MT:function(){return a},NZ:function(){return u},Nm:function(){return m},R:function(){return p},Tb:function(){return o},WR:function(){return i},Y7:function(){return f},_U:function(){return N},dn:function(){return s},eA:function(){return E},hn:function(){return r},ld:function(){return R},nI:function(){return C},pF:function(){return h},pe:function(){return _},sS:function(){return P},tx:function(){return F},vt:function(){return I},xM:function(){return S},xV:function(){return g},yQ:function(){return O}}),function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"}(r||(r={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(i||(i={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(s||(s={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(o||(o={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(u||(u={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(f||(f={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(c||(c={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"}(_||(_={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(a||(a={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(E||(E={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(T||(T={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(h||(h={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(l||(l={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(d||(d={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(A||(A={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(R||(R={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(O||(O={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(N||(N={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(y||(y={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(p||(p={}));const S=33984;var I,m,B;!function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.TransformFeedback=7]="TransformFeedback",t[t.Sync=8]="Sync",t[t.UNCOUNTED=9]="UNCOUNTED",t[t.LinesOfCode=9]="LinesOfCode",t[t.Uniform=10]="Uniform",t[t.COUNT=11]="COUNT"}(I||(I={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(m||(m={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(B||(B={}));const C=33306;var M,g,L,b,P,F,D;!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(M||(M={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(g||(g={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(L||(L={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(b||(b={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(P||(P={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(F||(F={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(D||(D={}))}}]);
//# sourceMappingURL=views-interactive-snapping-featureSources-sceneLayerSource-SceneLayerSnappingSourceWorker.js.map