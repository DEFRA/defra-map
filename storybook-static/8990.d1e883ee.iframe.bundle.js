"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[8990],{"./node_modules/@arcgis/core/core/devEnvironmentUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function c(c){return c=c||globalThis.location.hostname,i.some((a=>null!=c?.match(a)))}function a(c,a){return c?(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(s)?c.replace("static.arcgis.com","staticdev.arcgis.com"):null!=a.match(o)||null!=a.match(l)?c.replace("static.arcgis.com","staticqa.arcgis.com"):c:c:null}__webpack_require__.d(__webpack_exports__,{EM:()=>a,b5:()=>c});const t=/^devext\.arcgis\.com$/,o=/^qaext\.arcgis\.com$/,s=/^[\w-]*\.mapsdevext\.arcgis\.com$/,l=/^[\w-]*\.mapsqa\.arcgis\.com$/,i=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,t,o,/^jsapps\.esri\.com$/,s,l]},"./node_modules/@arcgis/core/symbols/support/defaults.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A7:()=>u,Cx:()=>c,Hk:()=>a,JJ:()=>y,SF:()=>J,UK:()=>S,jM:()=>N,x3:()=>O});__webpack_require__("./node_modules/@arcgis/core/core/has.js");var _SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js"),_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleLineSymbol.js"),_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js"),_TextSymbol_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/TextSymbol.js"),_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");const S=_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_3__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.Cb),u=_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_2__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.yM),c=_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_1__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.WR),a=_TextSymbol_js__WEBPACK_IMPORTED_MODULE_4__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.JZ);function J(r){if(null==r)return null;switch(r.type){case"mesh":return null;case"point":case"multipoint":return S;case"polyline":return u;case"polygon":case"extent":return c}return null}const N=_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_3__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.nC),O=_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_2__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.HW),y=_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_1__.A.fromJSON(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_5__.b6)},"./node_modules/@arcgis/core/symbols/support/defaults3D.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{af:()=>D,al:()=>L,dX:()=>d});var _Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/Color.js"),_core_Collection_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Collection.js"),_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__=(__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/screenUtils.js")),_FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/FillSymbol3DLayer.js"),_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/LineSymbol3D.js"),_LineSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/LineSymbol3DLayer.js"),_MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/MeshSymbol3D.js"),_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/PointSymbol3D.js"),_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js"),_edges_SolidEdges3D_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/edges/SolidEdges3D.js"),_defaults_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/defaults.js"),_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/defaultsJSON.js");const w=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_7__.A.fromSimpleMarkerSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_10__.UK),S=_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_4__.A.fromSimpleLineSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_10__.A7),j=_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__.A.fromSimpleFillSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_10__.Cx),b=new _MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__.A({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A([new _FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_3__.A({material:{color:_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_11__.fT},edges:new _edges_SolidEdges3D_js__WEBPACK_IMPORTED_MODULE_9__.A({size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.PN)(1),color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A(_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_11__.JR)})})])}),L=new _LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_4__.A({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A([new _LineSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_5__.A({material:{color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A([0,0,0])},size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.PN)(1)})])}),D=new _PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_8__.A({symbolLayers:new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__.A([new _FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_3__.A({outline:{color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A([0,0,0]),size:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__.PN)(1)}})])});function d(o){if(null==o)return null;switch(o.type){case"mesh":return b;case"point":case"multipoint":return w;case"polyline":return S;case"polygon":case"extent":return j}return null}},"./node_modules/@arcgis/core/symbols/support/defaultsJSON.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cb:()=>l,HW:()=>s,JR:()=>i,JZ:()=>t,WR:()=>S,b6:()=>y,fT:()=>e,nC:()=>r,yM:()=>o});const e=[252,146,31,255],i=[153,153,153,255],l={type:"esriSMS",style:"esriSMSCircle",size:6,color:e,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:e},S={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},t={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},r={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},s={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},y={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},"./node_modules/@arcgis/core/symbols/support/jsonUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M9:()=>r,oO:()=>i,rS:()=>m});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/layers/support/layerUtils.js"),_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/symbols/WebStyleSymbol.js"),_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/symbolConversion.js"),_typeUtils_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/typeUtils.js");function r(e,o,n,t){const s=a(e,{},{context:t,isLabelSymbol:!1});null!=s&&(o[n]=s)}function i(e,o,n,t){const s=a(e,{},{context:t,isLabelSymbol:!0});null!=s&&(o[n]=s)}function p(e){return(0,_typeUtils_js__WEBPACK_IMPORTED_MODULE_4__.wk)(e)||e instanceof _WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_2__.A}function a(n,s,l){if(null==n)return null;const{context:r,isLabelSymbol:i}=l,a=r?.origin,m=r?.messages;if("web-scene"===a&&!p(n)){const o=(0,_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.t)(n,{retainCIM:!0,hasLabelingContext:i});return null!=o.symbol?o.symbol.write(s,r):(m?.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.A("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:n,context:r,error:o.error})),null)}return(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__.TU)(r?.layer)&&function y(e){return"polygon-3d"===e?.type||"line-3d"===e?.type}(n)?(m?.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.A("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:n,context:r})),null):("web-map"===a||"portal-item"===a&&!(0,_layers_support_layerUtils_js__WEBPACK_IMPORTED_MODULE_1__.TU)(r?.layer))&&p(n)?(m?.push(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.A("symbol:unsupported",`Symbols of type '${n.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:n,context:r})),null):n.write(s,r)}function m(e,o){return(0,_typeUtils_js__WEBPACK_IMPORTED_MODULE_4__.Bu)(e,null,o)}},"./node_modules/@arcgis/core/symbols/support/styleUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{jg:()=>h,cF:()=>i,bo:()=>m,yA:()=>p,o5:()=>y});var request=__webpack_require__("./node_modules/@arcgis/core/request.js"),Error=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),has=__webpack_require__("./node_modules/@arcgis/core/core/has.js"),promiseUtils=__webpack_require__("./node_modules/@arcgis/core/core/promiseUtils.js"),urlUtils=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),Portal=__webpack_require__("./node_modules/@arcgis/core/portal/Portal.js"),PortalQueryParams=__webpack_require__("./node_modules/@arcgis/core/portal/PortalQueryParams.js");const styleCache_e=new Map;function u(e,r,t){const o=null!=r.portal?r.portal:Portal.A.getDefault();let s;const l=`${o.url} - ${o.user?.username} - ${e}`,f=styleCache_e.get(l);if(f)return f;const u=function c(e,t,o){return t.load(o).then((()=>{const r=new PortalQueryParams.A({disableExtraQuery:!0,query:`owner:${d} AND type:${w} AND typekeywords:"${e}"`});return t.queryItems(r,o)})).then((({results:t})=>{let s=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const r=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(r&&e.type===w&&e.owner===d){s=e;break}}if(!s)throw new Error.A("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return s.load(o)}))}(e,o,t).then((e=>(s=e,e.fetchData()))).then((r=>({data:r,baseUrl:s.itemUrl??"",styleName:e})));return styleCache_e.set(l,u),u}function i(e,t,o){return null!=e?.styleUrl?async function f(e,r){try{return{data:(await p(e,r)).data,baseUrl:(0,urlUtils.nM)(e),styleUrl:e}}catch(o){return(0,promiseUtils.QP)(o),null}}(e.styleUrl,o):null!=e?.styleName?u(e.styleName,t,o):Promise.reject(new Error.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function m(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function y(e,r){for(const t of r)switch(t){case"cim":if(e.cimRef)return{format:t,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const r=b(e,"gltf_basisu");if(r)return{format:t,url:r};break}case"web-gltf":{const r=b(e,"gltf");if(r)return{format:t,url:r};break}case"web":{const r=b(e,"gltf");if(r)return{format:"web-gltf",url:r};if(e.webRef)return{format:t,url:encodeURI(e.webRef)};break}}}function b(e,r){if(!(0,has.A)("enable-feature:force-wosr"))return e.formatInfos?.find((e=>e.type===r))?.href}function p(r,t){const s={responseType:"json",query:{f:"json"},...t};return(0,request.A)((0,urlUtils.S8)(r),s)}const d="esri_en",w="Style",h="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},"./node_modules/@arcgis/core/symbols/support/symbolConversion.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>g,t:()=>u});var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/symbols/LabelSymbol3D.js"),_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/symbols/LineSymbol3D.js"),_MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/symbols/MeshSymbol3D.js"),_PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/symbols/PictureMarkerSymbol.js"),_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/PointSymbol3D.js"),_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js"),_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js"),_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleLineSymbol.js"),_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/SimpleMarkerSymbol.js"),_TextSymbol_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/symbols/TextSymbol.js"),_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/symbols/WebStyleSymbol.js"),_defaults3D_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/defaults3D.js"),_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/typeUtils.js");const S="#useCIMFallbackSymbology()",g={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function u(u,d=g){if(!u)return{symbol:null};const{retainId:D=g.retainId,ignoreDrivers:M=g.ignoreDrivers,hasLabelingContext:j=g.hasLabelingContext,retainCIM:C=g.retainCIM,cimFallbackEnabled:I=g.cimFallbackEnabled}=d;let k=null;if((0,_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__.wk)(u)||u instanceof _WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_11__.A)k=u.clone();else if("cim"===u.type){const e=u.data?.symbol?.type;switch(e){case"CIMPointSymbol":k=C?u.clone():_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__.A.fromCIMSymbol(u);break;case"CIMLineSymbol":I&&(k=_defaults3D_js__WEBPACK_IMPORTED_MODULE_12__.al.clone(),d?.logWarning?.(S,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":I&&(k=_defaults3D_js__WEBPACK_IMPORTED_MODULE_12__.af.clone(),d?.logWarning?.(S,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!k)return{error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${e||"unknown"}' is unsupported in 3D`,{symbol:u})}}else if(u instanceof _SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_8__.A)k=_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_2__.A.fromSimpleLineSymbol(u);else if(u instanceof _SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_9__.A)k=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__.A.fromSimpleMarkerSymbol(u);else if(u instanceof _PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_4__.A)k=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__.A.fromPictureMarkerSymbol(u);else if(u instanceof _SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_7__.A)k=d.geometryType&&"mesh"===d.geometryType?_MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__.A.fromSimpleFillSymbol(u):_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__.A.fromSimpleFillSymbol(u);else{if(!(u instanceof _TextSymbol_js__WEBPACK_IMPORTED_MODULE_10__.A))return{error:new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${u.type||u.declaredClass}' is unsupported in 3D`,{symbol:u})};k=j?_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_1__.A.fromTextSymbol(u):_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__.A.fromTextSymbol(u)}return D&&k&&"cim"!==k.type&&(k.id=u.id),!M||"cim"===k.type||k instanceof _WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_11__.A||k.symbolLayers.forEach((o=>o.ignoreDrivers=!0)),{symbol:k}}},"./node_modules/@arcgis/core/symbols/support/webStyleAcceptedFormats.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>e});const e=["web-gltf","web","cim"]},"./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>j,p:()=>g,resolveWebStyleSymbol:()=>h});var _core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/devEnvironmentUtils.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),_portal_Portal_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/portal/Portal.js"),_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/persistableUrlUtils.js"),_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/jsonUtils.js"),_StyleOrigin_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/StyleOrigin.js"),_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/styleUtils.js"),_Thumbnail_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/Thumbnail.js"),_typeUtils_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/typeUtils.js"),_webStyleAcceptedFormats_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/webStyleAcceptedFormats.js");function h(t,e,o){const l=t.name;return null==l?Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__.A("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):"Esri2DPointSymbolsStyle"===t.styleName?function U(t,e,r){const s=_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.jg.replaceAll(/\{SymbolName\}/gi,t),a=null!=e.portal?e.portal:_portal_Portal_js__WEBPACK_IMPORTED_MODULE_3__.A.getDefault();return(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.yA)(s,r).then((t=>{const e=(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.bo)(t.data);return(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__.rS)(e,{portal:a,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.An)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.nM)(s)),origin:"portal-item"})}))}(l,e,o):(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.cF)(t,e,o).then((t=>j(t,l,e,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.o5,o)))}function g(t,e){return e.items.find((e=>e.name===t))}async function j(i,c,f,h,j){const U=null!=f?.portal?f.portal:_portal_Portal_js__WEBPACK_IMPORTED_MODULE_3__.A.getDefault(),w={portal:U,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.An)(i.baseUrl),origin:"portal-item"},N=g(c,i.data);if(!N)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__.A("symbolstyleutils:symbol-name-not-found",`The symbol name '${c}' could not be found`,{symbolName:c});const S=j?.acceptedFormats??_webStyleAcceptedFormats_js__WEBPACK_IMPORTED_MODULE_10__.t,D=h(N,S);if(!D)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__.A("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${c}' does not have an accepted format (one of ${S})`,{symbolName:c});const{url:O,format:$}=D;let v=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_4__.f)(O,w),E=N.thumbnail?.href??null;const P=N.thumbnail?.imageData;(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.b5)()&&(v=(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.EM)(v)??"",E=(0,_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_0__.EM)(E));const T={portal:U,url:(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.An)((0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_2__.nM)(v)),origin:"portal-item"};return(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.yA)(v,j).then((t=>{const e="cim"===$?(0,_styleUtils_js__WEBPACK_IMPORTED_MODULE_7__.bo)(t.data):t.data,r=(0,_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__.rS)(e,T);if(r&&(0,_typeUtils_js__WEBPACK_IMPORTED_MODULE_9__.wk)(r)){if(E){const t=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_4__.f)(E,w);r.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_8__.V({url:t})}else P&&(r.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_8__.V({url:`data:image/png;base64,${P}`}));i.styleUrl?r.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_6__.A({portal:f.portal,styleUrl:i.styleUrl,name:c}):i.styleName&&(r.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_6__.A({portal:f.portal,styleName:i.styleName,name:c}))}return r}))}}}]);