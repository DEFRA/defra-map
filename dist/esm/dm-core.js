/*! For license information please see dm-core.js.LICENSE.txt */
export const __webpack_id__="dm-core";export const __webpack_ids__=["dm-core"];export const __webpack_modules__={"./src/App/initialiseApp.js":(e,t,n)=>{n.r(t),n.d(t,{initialiseApp:()=>zi});var r,o,i,u,a,l,c,f,s,p,d,y,m={},b=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_=Array.isArray;function h(e,t){for(var n in t)e[n]=t[n];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function O(e,t,n){var o,i,u,a={};for(u in t)"key"==u?o=t[u]:"ref"==u?i=t[u]:a[u]=t[u];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(u in e.defaultProps)void 0===a[u]&&(a[u]=e.defaultProps[u]);return S(e,a,o,i,null)}function S(e,t,n,r,u){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==u?++i:u,__i:-1,__u:0};return null==u&&null!=o.vnode&&o.vnode(a),a}function P(e){return e.children}function w(e,t){this.props=e,this.context=t}function j(e,t){if(null==t)return e.__?j(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?j(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function A(e){(!e.__d&&(e.__d=!0)&&u.push(e)&&!k.__r++||a!=o.debounceRendering)&&((a=o.debounceRendering)||l)(k)}function k(){for(var e,t,n,r,i,a,l,f=1;u.length;)u.length>f&&u.sort(c),e=u.shift(),f=u.length,e.__d&&(n=void 0,r=void 0,i=(r=(t=e).__v).__e,a=[],l=[],t.__P&&((n=h({},r)).__v=r.__v+1,o.vnode&&o.vnode(n),L(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,a,null==i?j(r):i,!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,z(a,n,l),r.__e=r.__=null,n.__e!=i&&E(n)));k.__r=0}function T(e,t,n,r,o,i,u,a,l,c,f){var s,p,d,y,v,_,h,g=r&&r.__k||b,O=t.length;for(l=I(n,t,g,l,O),s=0;s<O;s++)null!=(d=n.__k[s])&&(p=-1==d.__i?m:g[d.__i]||m,d.__i=s,_=L(e,d,p,o,i,u,a,l,c,f),y=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&F(p.ref,null,d),f.push(d.ref,d.__c||y,d)),null==v&&null!=y&&(v=y),(h=!!(4&d.__u))||p.__k===d.__k?l=C(d,l,e,h):"function"==typeof d.type&&void 0!==_?l=_:y&&(l=y.nextSibling),d.__u&=-7);return n.__e=v,l}function I(e,t,n,r,o){var i,u,a,l,c,f=n.length,s=f,p=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(u=t[i])&&"boolean"!=typeof u&&"function"!=typeof u?(l=i+p,(u=e.__k[i]="string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?S(null,u,null,null,null):_(u)?S(P,{children:u},null,null,null):null==u.constructor&&u.__b>0?S(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,a=null,-1!=(c=u.__i=M(u,n,l,s))&&(s--,(a=n[c])&&(a.__u|=2)),null==a||null==a.__v?(-1==c&&(o>f?p--:o<f&&p++),"function"!=typeof u.type&&(u.__u|=4)):c!=l&&(c==l-1?p--:c==l+1?p++:(c>l?p--:p++,u.__u|=4))):e.__k[i]=null;if(s)for(i=0;i<f;i++)null!=(a=n[i])&&!(2&a.__u)&&(a.__e==r&&(r=j(a)),W(a,a));return r}function C(e,t,n,r){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=C(o[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=j(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function R(e,t){return t=t||[],null==e||"boolean"==typeof e||(_(e)?e.some(function(e){R(e,t)}):t.push(e)),t}function M(e,t,n,r){var o,i,u,a=e.key,l=e.type,c=t[n],f=null!=c&&!(2&c.__u);if(null===c&&null==e.key||f&&a==c.key&&l==c.type)return n;if(r>(f?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;)if(null!=(c=t[u=o>=0?o--:i++])&&!(2&c.__u)&&a==c.key&&l==c.type)return u;return-1}function D(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||v.test(t)?n:n+"px"}function N(e,t,n,r,o){var i,u;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||D(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||D(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(f,"$1")),u=t.toLowerCase(),t=u in e||"onFocusOut"==t||"onFocusIn"==t?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=s,e.addEventListener(t,i?d:p,i)):e.removeEventListener(t,i?d:p,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function x(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=s++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function L(e,t,n,r,i,u,a,l,c,f){var s,p,d,y,m,b,v,O,S,j,E,A,k,I,C,R,M,D=t.type;if(null!=t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),u=[l=t.__e=n.__e]),(s=o.__b)&&s(t);e:if("function"==typeof D)try{if(O=t.props,S="prototype"in D&&D.prototype.render,j=(s=D.contextType)&&r[s.__c],E=s?j?j.props.value:s.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(S?t.__c=p=new D(O,E):(t.__c=p=new w(O,E),p.constructor=D,p.render=V),j&&j.sub(p),p.props=O,p.state||(p.state={}),p.context=E,p.__n=r,d=p.__d=!0,p.__h=[],p._sb=[]),S&&null==p.__s&&(p.__s=p.state),S&&null!=D.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=h({},p.__s)),h(p.__s,D.getDerivedStateFromProps(O,p.__s))),y=p.props,m=p.state,p.__v=t,d)S&&null==D.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),S&&null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(S&&null==D.getDerivedStateFromProps&&O!==y&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(O,E),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(O,p.__s,E)||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=O,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),A=0;A<p._sb.length;A++)p.__h.push(p._sb[A]);p._sb=[],p.__h.length&&a.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(O,p.__s,E),S&&null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(y,m,b)})}if(p.context=E,p.props=O,p.__P=e,p.__e=!1,k=o.__r,I=0,S){for(p.state=p.__s,p.__d=!1,k&&k(t),s=p.render(p.props,p.state,p.context),C=0;C<p._sb.length;C++)p.__h.push(p._sb[C]);p._sb=[]}else do{p.__d=!1,k&&k(t),s=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++I<25);p.state=p.__s,null!=p.getChildContext&&(r=h(h({},r),p.getChildContext())),S&&!d&&null!=p.getSnapshotBeforeUpdate&&(b=p.getSnapshotBeforeUpdate(y,m)),R=s,null!=s&&s.type===P&&null==s.key&&(R=U(s.props.children)),l=T(e,_(R)?R:[R],t,n,r,i,u,a,l,c,f),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),v&&(p.__E=p.__=null)}catch(e){if(t.__v=null,c||null!=u)if(e.then){for(t.__u|=c?160:128;l&&8==l.nodeType&&l.nextSibling;)l=l.nextSibling;u[u.indexOf(l)]=null,t.__e=l}else{for(M=u.length;M--;)g(u[M]);H(t)}else t.__e=n.__e,t.__k=n.__k,e.then||H(t);o.__e(e,t,n)}else null==u&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=B(n.__e,t,n,r,i,u,a,c,f);return(s=o.diffed)&&s(t),128&t.__u?void 0:l}function H(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(H)}function z(e,t,n){for(var r=0;r<n.length;r++)F(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){o.__e(e,t.__v)}})}function U(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:_(e)?e.map(U):h({},e)}function B(e,t,n,i,u,a,l,c,f){var s,p,d,y,b,v,h,O=n.props,S=t.props,P=t.type;if("svg"==P?u="http://www.w3.org/2000/svg":"math"==P?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),null!=a)for(s=0;s<a.length;s++)if((b=a[s])&&"setAttribute"in b==!!P&&(P?b.localName==P:3==b.nodeType)){e=b,a[s]=null;break}if(null==e){if(null==P)return document.createTextNode(S);e=document.createElementNS(u,P,S.is&&S),c&&(o.__m&&o.__m(t,a),c=!1),a=null}if(null==P)O===S||c&&e.data==S||(e.data=S);else{if(a=a&&r.call(e.childNodes),O=n.props||m,!c&&null!=a)for(O={},s=0;s<e.attributes.length;s++)O[(b=e.attributes[s]).name]=b.value;for(s in O)if(b=O[s],"children"==s);else if("dangerouslySetInnerHTML"==s)d=b;else if(!(s in S)){if("value"==s&&"defaultValue"in S||"checked"==s&&"defaultChecked"in S)continue;N(e,s,null,b,u)}for(s in S)b=S[s],"children"==s?y=b:"dangerouslySetInnerHTML"==s?p=b:"value"==s?v=b:"checked"==s?h=b:c&&"function"!=typeof b||O[s]===b||N(e,s,b,O[s],u);if(p)c||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),T("template"==t.type?e.content:e,_(y)?y:[y],t,n,i,"foreignObject"==P?"http://www.w3.org/1999/xhtml":u,a,l,a?a[0]:n.__k&&j(n,0),c,f),null!=a)for(s=a.length;s--;)g(a[s]);c||(s="value","progress"==P&&null==v?e.removeAttribute("value"):null!=v&&(v!==e[s]||"progress"==P&&!v||"option"==P&&v!=O[s])&&N(e,s,v,O[s],u),s="checked",null!=h&&h!=e[s]&&N(e,s,h,O[s],u))}return e}function F(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function W(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||F(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&W(r[i],t,n||"function"!=typeof e.type);n||g(e.__e),e.__c=e.__=e.__e=void 0}function V(e,t,n){return this.constructor(e,n)}function G(e,t,n){var i,u,a,l;t==document&&(t=document.documentElement),o.__&&o.__(e,t),u=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],l=[],L(t,e=(!i&&n||t).__k=O(P,null,[e]),u||m,m,t.namespaceURI,!i&&n?[n]:u?null:t.firstChild?r.call(t.childNodes):null,a,!i&&n?n:u?u.__e:t.firstChild,i,l),z(a,e,l)}function Z(e,t){G(e,t,Z)}function $(e,t,n){var o,i,u,a,l=h({},e.props);for(u in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==u?o=t[u]:"ref"==u?i=t[u]:l[u]=void 0===t[u]&&null!=a?a[u]:t[u];return arguments.length>2&&(l.children=arguments.length>3?r.call(arguments,2):n),S(e.type,l,o||e.key,i||e.ref,null)}function K(e){function t(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t.__c]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&n.forEach(function(e){e.__e=!0,A(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}return t.__c="__cC"+y++,t.__=e,t.Provider=t.__l=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}r=b.slice,o={__e:function(e,t,n,r){for(var o,i,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),u=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(t){e=t}throw e}},i=0,w.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(h({},n),this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},w.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},w.prototype.render=P,u=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},k.__r=0,f=/(PointerCapture)$|Capture$/i,s=0,p=x(!1),d=x(!0),y=0;var q,Y,X,J,Q=0,ee=[],te=o,ne=te.__b,re=te.__r,oe=te.diffed,ie=te.__c,ue=te.unmount,ae=te.__;function le(e,t){te.__h&&te.__h(Y,e,Q||t),Q=0;var n=Y.__H||(Y.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ce(e){return Q=1,fe(Ee,e)}function fe(e,t,n){var r=le(q++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Ee(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=Y,!Y.__f)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!i||i.call(this,e,t,n);var u=r.__c.props!==e;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(u=!0)}}),i&&i.call(this,e,t,n)||u};Y.__f=!0;var i=Y.shouldComponentUpdate,u=Y.componentWillUpdate;Y.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}u&&u.call(this,e,t,n)},Y.shouldComponentUpdate=o}return r.__N||r.__}function se(e,t){var n=le(q++,3);!te.__s&&je(n.__H,t)&&(n.__=e,n.u=t,Y.__H.__h.push(n))}function pe(e,t){var n=le(q++,4);!te.__s&&je(n.__H,t)&&(n.__=e,n.u=t,Y.__h.push(n))}function de(e){return Q=5,me(function(){return{current:e}},[])}function ye(e,t,n){Q=6,pe(function(){if("function"==typeof e){var n=e(t());return function(){e(null),n&&"function"==typeof n&&n()}}if(e)return e.current=t(),function(){return e.current=null}},null==n?n:n.concat(e))}function me(e,t){var n=le(q++,7);return je(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function be(e,t){return Q=8,me(function(){return e},t)}function ve(e){var t=Y.context[e.__c],n=le(q++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(Y)),t.props.value):e.__}function _e(e,t){te.useDebugValue&&te.useDebugValue(t?t(e):e)}function he(){var e=le(q++,11);if(!e.__){for(var t=Y.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ge(){for(var e;e=ee.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Pe),e.__H.__h.forEach(we),e.__H.__h=[]}catch(t){e.__H.__h=[],te.__e(t,e.__v)}}te.__b=function(e){Y=null,ne&&ne(e)},te.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ae&&ae(e,t)},te.__r=function(e){re&&re(e),q=0;var t=(Y=e.__c).__H;t&&(X===Y?(t.__h=[],Y.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Pe),t.__h.forEach(we),t.__h=[],q=0)),X=Y},te.diffed=function(e){oe&&oe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==ee.push(t)&&J===te.requestAnimationFrame||((J=te.requestAnimationFrame)||Se)(ge)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),X=Y=null},te.__c=function(e,t){t.some(function(e){try{e.__h.forEach(Pe),e.__h=e.__h.filter(function(e){return!e.__||we(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],te.__e(n,e.__v)}}),ie&&ie(e,t)},te.unmount=function(e){ue&&ue(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{Pe(e)}catch(e){t=e}}),n.__H=void 0,t&&te.__e(t,n.__v))};var Oe="function"==typeof requestAnimationFrame;function Se(e){var t,n=function(){clearTimeout(r),Oe&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Oe&&(t=requestAnimationFrame(n))}function Pe(e){var t=Y,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Y=t}function we(e){var t=Y;e.__c=e.__(),Y=t}function je(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function Ee(e,t){return"function"==typeof t?t(e):t}function Ae(e,t){for(var n in t)e[n]=t[n];return e}function ke(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Te(e,t){var n=t(),r=ce({t:{__:n,u:t}}),o=r[0].t,i=r[1];return pe(function(){o.__=n,o.u=t,Ie(o)&&i({t:o})},[e,n,t]),se(function(){return Ie(o)&&i({t:o}),e(function(){Ie(o)&&i({t:o})})},[e]),n}function Ie(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(e){return!0}}function Ce(e){e()}function Re(e){return e}function Me(){return[!1,Ce]}var De=pe;function Ne(e,t){this.props=e,this.context=t}(Ne.prototype=new w).isPureReactComponent=!0,Ne.prototype.shouldComponentUpdate=function(e,t){return ke(this.props,e)||ke(this.state,t)};var xe=o.__b;o.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),xe&&xe(e)};var Le="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911,He=function(e,t){return null==e?null:R(R(e).map(t))},ze={map:He,forEach:He,count:function(e){return e?R(e).length:0},only:function(e){var t=R(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:R},Ue=o.__e;o.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);Ue(e,t,n,r)};var Be=o.unmount;function Fe(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Ae({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return Fe(e,t,n)})),e}function We(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return We(e,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Ve(){this.__u=0,this.o=null,this.__b=null}function Ge(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ze(){this.i=null,this.l=null}o.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Be&&Be(e)},(Ve.prototype=new w).__c=function(e,t){var n=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(n);var o=Ge(r.__v),i=!1,u=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=u;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=We(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(u,u)},Ve.prototype.componentWillUnmount=function(){this.o=[]},Ve.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Fe(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&O(P,null,e.fallback);return o&&(o.__u&=-33),[O(P,null,t.__a?null:e.children),o]};var $e=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Ke(e){return this.getChildContext=function(){return e.context},e.children}function qe(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){G(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;null!==r&&!r.__m&&null!==r.__;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(e,n){this.childNodes.push(e),t.h.insertBefore(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.h.removeChild(e)}}}G(O(Ke,{context:t.context},e.__v),t.v)}function Ye(e,t){var n=O(qe,{__v:e,h:t});return n.containerInfo=t,n}(Ze.prototype=new w).__a=function(e){var t=this,n=Ge(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),$e(t,e,r)):o()};n?n(i):i()}},Ze.prototype.render=function(e){this.i=null,this.l=new Map;var t=R(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ze.prototype.componentDidUpdate=Ze.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){$e(e,n,t)})};var Xe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Je=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,et=/[A-Z0-9]/g,tt="undefined"!=typeof document,nt=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function rt(e,t,n){return null==t.__k&&(t.textContent=""),G(e,t),"function"==typeof n&&n(),e?e.__c:null}w.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(w.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ot=o.event;function it(){}function ut(){return this.cancelBubble}function at(){return this.defaultPrevented}o.event=function(e){return ot&&(e=ot(e)),e.persist=it,e.isPropagationStopped=ut,e.isDefaultPrevented=at,e.nativeEvent=e};var lt,ct={enumerable:!1,configurable:!0,get:function(){return this.class}},ft=o.vnode;o.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={},o=-1===n.indexOf("-");for(var i in t){var u=t[i];if(!("value"===i&&"defaultValue"in t&&null==u||tt&&"children"===i&&"noscript"===n||"class"===i||"className"===i)){var a=i.toLowerCase();"defaultValue"===i&&"value"in t&&null==t.value?i="value":"download"===i&&!0===u?u="":"translate"===a&&"no"===u?u=!1:"o"===a[0]&&"n"===a[1]?"ondoubleclick"===a?i="ondblclick":"onchange"!==a||"input"!==n&&"textarea"!==n||nt(t.type)?"onfocus"===a?i="onfocusin":"onblur"===a?i="onfocusout":Qe.test(i)&&(i=a):a=i="oninput":o&&Je.test(i)?i=i.replace(et,"-$&").toLowerCase():null===u&&(u=void 0),"oninput"===a&&r[i=a]&&(i="oninputCapture"),r[i]=u}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=R(t.children).forEach(function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)})),"select"==n&&null!=r.defaultValue&&(r.value=R(t.children).forEach(function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",ct)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=Xe,ft&&ft(e)};var st=o.__r;o.__r=function(e){st&&st(e),lt=e.__c};var pt=o.diffed;o.diffed=function(e){pt&&pt(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),lt=null};var dt={ReactCurrentDispatcher:{current:{readContext:function(e){return lt.__n[e.__c].props.value},useCallback:be,useContext:ve,useDebugValue:_e,useDeferredValue:Re,useEffect:se,useId:he,useImperativeHandle:ye,useInsertionEffect:De,useLayoutEffect:pe,useMemo:me,useReducer:fe,useRef:de,useState:ce,useSyncExternalStore:Te,useTransition:Me}}};function yt(e){return!!e&&e.$$typeof===Xe}function mt(e){return yt(e)?$.apply(null,arguments):e}function bt(e){return!!e.__k&&(G(null,e),!0)}var vt={useState:ce,useId:he,useReducer:fe,useEffect:se,useLayoutEffect:pe,useInsertionEffect:De,useTransition:Me,useDeferredValue:Re,useSyncExternalStore:Te,startTransition:Ce,useRef:de,useImperativeHandle:ye,useMemo:me,useCallback:be,useContext:ve,useDebugValue:_e,version:"18.3.1",Children:ze,render:rt,hydrate:function(e,t,n){return Z(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:bt,createPortal:Ye,createElement:O,createContext:K,createFactory:function(e){return O.bind(null,e)},cloneElement:mt,createRef:function(){return{current:null}},Fragment:P,isValidElement:yt,isElement:yt,isFragment:function(e){return yt(e)&&e.type===P},isMemo:function(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")},findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},Component:w,PureComponent:Ne,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:ke(this.props,e)}function r(t){return this.shouldComponentUpdate=n,O(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r},forwardRef:function(e){function t(t){var n=Ae({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Le,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t},flushSync:function(e,t){return e(t)},unstable_batchedUpdates:function(e,t){return e(t)},StrictMode:P,Suspense:Ve,SuspenseList:Ze,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then(function(e){n=e.default||e},function(e){r=e}),r)throw r;if(!n)throw t;return O(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dt};function _t(e){return{render:function(t){rt(t,e)},unmount:function(){bt(e)}}}var ht=n("./src/services/eventBus.js"),gt=[{id:"showKeyboardHelp",group:"General",title:"Show keyboard help",command:"<kbd>Alt</kbd> + <kbd>K</kbd>",enabled:!0},{id:"selectControl",group:"General",title:"Select a map control",command:"<kbd>Tab</kbd> or <kbd>Shift</kbd> + <kbd>Tab</kbd>",enabled:!0},{id:"moveLarge",group:"Navigation",title:"Move in large steps",command:"<kbd>←</kbd>, <kbd>↑</kbd>, <kbd>→</kbd> or <kbd>↓</kbd>",enabled:!0},{id:"nudgeMap",group:"Navigation",title:"Nudge map",command:"<kbd>Shift</kbd> + <kbd>←</kbd>, <kbd>↑</kbd>, <kbd>→</kbd> or <kbd>↓</kbd>",enabled:!1},{id:"zoomLarge",group:"Navigation",title:"Zoom in large steps",command:"<kbd>+</kbd> or <kbd>-</kbd>",enabled:!0},{id:"nudgeZoom",group:"Navigation",title:"Nudge zoom",command:"<kbd>Shift</kbd> + <kbd>+</kbd> or <kbd>-</kbd>",enabled:!1},{id:"highlightLabelAtCenter",group:"Labels",title:"Highlight label at centre",command:"<kbd>Alt</kbd> + <kbd>Enter</kbd>",enabled:!1},{id:"highlightNextLabel",group:"Labels",title:"Highlight nearby label",command:"<kbd>Alt</kbd> + <kbd>→</kbd>, <kbd>←</kbd>, <kbd>↑</kbd> or <kbd>↓</kbd>",enabled:!1}];function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var St=[],Pt=new Set,wt=new Set,jt=function(){wt=new Set(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])},Et=0;function At(e,t,n,r,i,u){t||(t={});var a,l,c=t;if("ref"in c)for(l in c={},t)"ref"==l?a=t[l]:c[l]=t[l];var f={type:e,props:c,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Et,__i:-1,__u:0,__source:i,__self:u};if("function"==typeof e&&(a=e.defaultProps))for(l in a)void 0===c[l]&&(c[l]=a[l]);return o.vnode&&o.vnode(f),f}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Array.isArray;var Tt=function(){var e,t,n=(e=gt.filter(function(e){return wt.has(e.id)}),[].concat((t=e,function(e){if(Array.isArray(e))return Ot(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),St)).reduce(function(e,t){return e[t.group]=e[t.group]||[],e[t.group].push(t),e},{});return At("div",{className:"dm-c-keyboard-help",children:Object.entries(n).map(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=t[0];return At("div",{className:"dm-c-keyboard-help__group",children:At("dl",{className:"dm-c-keyboard-help__list",children:t[1].map(function(e){return At("div",{className:"dm-c-keyboard-help__item",children:[At("dt",{className:"dm-c-keyboard-help__title",children:e.title}),At("dd",{className:"dm-c-keyboard-help__description",dangerouslySetInnerHTML:{__html:e.command}})]},e.id)})})},n)})})};function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach(function(t){Mt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Mt(e,t,n){return(t=function(e){var t=function(e){if("object"!=It(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==It(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt={slot:"middle",initiallyOpen:!1,dismissable:!0,modal:!0},Nt={slot:"right-top",showLabel:!1,order:10},xt={slot:"top-left",showLabel:!1,order:-1},Lt={buttons:[{id:"exit",label:"Exit",iconId:"close",onClick:function(e,t){return t.services.closeApp()},excludeWhen:function(e){var t=e.appConfig,n=e.appState;return!t.hasExitButton||!(n.isFullscreen&&new URL(window.location.href).searchParams.has(t.mapViewParamKey))},mobile:xt,tablet:xt,desktop:xt},{id:"fullscreen",label:function(){return"".concat(document.fullscreenElement?"Exit":"Enter"," fullscreen")},iconId:function(){return document.fullscreenElement?"minimise":"maximise"},onClick:function(e,t){var n=t.appState.layoutRefs.appContainerRef.current;document.fullscreenElement?document.exitFullscreen():n.requestFullscreen()},excludeWhen:function(e){var t=e.appState;return!e.appConfig.enableFullscreen||t.isFullscreen},mobile:Nt,tablet:Nt,desktop:Nt}],panels:[{id:"keyboardHelp",label:"Keyboard shortcuts",mobile:Rt({},Dt),tablet:Rt(Rt({},Dt),{},{width:"500px"}),desktop:Rt(Rt({},Dt),{},{width:"500px"}),render:function(){return At(Tt,{})}}],icons:[{id:"maximise",svgContent:'<path d="M15 3h6v6"/><path d="m21 3-7 7"/><path d="m3 21 7-7"/><path d="M9 21H3v-6"/>'},{id:"minimise",svgContent:'<path d="m14 10 7-7"/><path d="M20 10h-6V4"/><path d="m3 21 7-7"/><path d="M4 14h6v6"/>'}]},Ht={slot:"right-top",showLabel:!1},zt={label:"Button",mobile:Ht,tablet:Ht,desktop:Ht},Ut={showLabel:!0,label:"Panel",mobile:{slot:"bottom",initiallyOpen:!0,dismissable:!0,modal:!1},tablet:{slot:"inset",initiallyOpen:!0,dismissable:!0,modal:!1},desktop:{slot:"inset",initiallyOpen:!0,dismissable:!0,modal:!1},render:null,html:null},Bt={label:"Control",mobile:{slot:"bottom"},tablet:{slot:"inset"},desktop:{slot:"inset"}},Ft={small:1,medium:1.5,large:2},Wt=[{shape:"pin",backgroundPath:"M31 16.001c0 7.489-8.308 15.289-11.098 17.698-.533.4-1.271.4-1.803 0C15.309 31.29 7 23.49 7 16.001c0-6.583 5.417-12 12-12s12 5.417 12 12z",graphicPath:"M19 11.001c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.241 5-5-2.24-5-5-5z"}];function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zt(e,t,n){return(t=function(e){var t=function(e){if("object"!=Vt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=function(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach(function(t){Zt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);for(var r in t)"object"!==Vt(t[r])||Array.isArray(t[r])||null===t[r]?n[r]=t[r]:n[r]=$t(e[r]||{},t[r]);return n};function Kt(e){return Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach(function(t){Xt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xt(e,t,n){return(t=function(e){var t=function(e){if("object"!=Kt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt={},Qt=function(){return Jt};function en(e){return en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en(e)}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach(function(t){rn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rn(e,t,n){return(t=function(e){var t=function(e){if("object"!=en(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=en(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==en(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var un={},an=function(){return un};function ln(e){return ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ln(e)}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach(function(t){sn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sn(e,t,n){return(t=function(e){var t=function(e){if("object"!=ln(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ln(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ln(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pn={},dn=function(){return pn};function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach(function(t){vn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vn(e,t,n){return(t=function(e){var t=function(e){if("object"!=yn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==yn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n={close:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>'},hn=function(){return _n};function gn(e){return gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gn(e)}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach(function(t){Pn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pn(e,t,n){return(t=function(e){var t=function(e){if("object"!=gn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=[];function jn(e){var t,n,r=e.manifest,o={pluginId:e.id,includeModes:null===(t=e.config)||void 0===t?void 0:t.includeModes,excludeModes:null===(n=e.config)||void 0===n?void 0:n.excludeModes};r.buttons&&(Array.isArray(r.buttons)?r.buttons:[r.buttons]).forEach(function(e){!function(e){Jt=Yt(Yt({},Jt),e)}(Pn({},e.id,Sn(Sn({},o),e)))}),r.panels&&(Array.isArray(r.panels)?r.panels:[r.panels]).forEach(function(e){!function(e){var t=Object.fromEntries(Object.entries(e).map(function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[r[0],nn({showLabel:!0},r[1])]}));un=nn(nn({},un),t)}(Pn({},e.id,Sn(Sn({},o),e)))}),r.controls&&(Array.isArray(r.controls)?r.controls:[r.controls]).forEach(function(e){!function(e){pn=fn(fn({},pn),e)}(Pn({},e.id,Sn(Sn({},o),e)))}),r.icons&&(Array.isArray(r.icons)?r.icons:[r.icons]).forEach(function(e){return function(e){_n=bn(bn({},_n),e)}(Pn({},e.id,e.svgContent))}),r.keyboardShortcuts&&(Array.isArray(r.keyboardShortcuts)?r.keyboardShortcuts:[r.keyboardShortcuts]).forEach(function(e){return function(e){var t=e.shortcut;Pt.has(t.id)||(Pt.add(t.id),St.push(t))}(Sn(Sn({},o),{},{shortcut:e}))}),wn.push(e)}function En(e){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},En(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach(function(t){Tn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tn(e,t,n){return(t=function(e){var t=function(e){if("object"!=En(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=En(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==En(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Array.isArray(e)||(e=[]),Array.isArray(t)||(t=[]);var n=new Map(e.map(function(e){return[e.id,e]}));return t.forEach(function(e){e&&e.id&&(n.has(e.id)?n.set(e.id,kn(kn({},n.get(e.id)),e)):n.set(e.id,e))}),Array.from(n.values())},r=kn(kn({},e),t);return(e.buttons||t.buttons)&&(r.buttons=n(e.buttons,t.buttons)),(e.panels||t.panels)&&(r.panels=n(e.panels,t.panels)),(e.controls||t.controls)&&(r.controls=n(e.controls,t.controls)),(e.icons||t.icons)&&(r.icons=n(e.icons,t.icons)),r}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return Object.keys(e).forEach(function(o){var i,u=e[o][t];null!==(i=null==u?void 0:u.initiallyOpen)&&void 0!==i&&i&&(r[o]=n[o]||{props:{}})}),r}var Rn=function(e,t){return["mapOnly","buttonFirst"].includes(e)||"hybrid"===e&&"mobile"===t};function Mn(e){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mn(e)}function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(t){Ln(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ln(e,t,n){return(t=Hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e){var t=function(e){if("object"!=Dn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Dn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dn(t)?t:t+""}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Un(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=an(),u=null===(r=i[t])||void 0===r?void 0:r[n],a=!!u.exclusive&&!u.modal,l=!!u.modal,c=Object.fromEntries(Object.entries(e.openPanels).filter(function(e){var t,r,o,u=(r=e,o=1,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return!(null!==(t=i[u])&&void 0!==t&&null!==(t=t[n])&&void 0!==t&&t.exclusive)}));return xn(xn(xn({},a?{}:c),l?e.openPanels:{}),{},Ln({},t,{props:o}))}var Bn={SET_BREAKPOINT:function(e,t){var n=Rn(t.behaviour,t.breakpoint),r=Object.keys(e.openPanels).at(-1);return xn(xn({},e),{},{breakpoint:t.breakpoint,isFullscreen:n,previousOpenPanels:e.openPanels,openPanels:r?Un(e,r,t.breakpoint):{}})},SET_MEDIA:function(e,t){return xn(xn({},e),t)},SET_INTERFACE_TYPE:function(e,t){return xn(xn({},e),{},{interfaceType:t})},SET_MODE:function(e,t){var n=an();return xn(xn({},e),{},{mode:t,previousMode:e.mode,openPanels:Cn(n,e.breakpoint,e.openPanels)})},SET_SAFE_ZONE_INSET:function(e,t){var n=t.safeZoneInset,r=t.syncMapPadding,o=void 0===r||r;return function(e,t){if(e===t)return!0;if(!e||!t||"object"!==Mn(e)||"object"!==Mn(t))return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return Object.is(e[n],t[n])})}(e.safeZoneInset,n)?e:xn(xn({},e),{},{safeZoneInset:n,syncMapPadding:o,isLayoutReady:!0})},REVERT_MODE:function(e){var t=an();return xn(xn({},e),{},{mode:e.previousMode,previousMode:e.mode,openPanels:Cn(t,e.breakpoint,e.openPanels)})},OPEN_PANEL:function(e,t){var n=t.panelId,r=t.props,o=void 0===r?{}:r;return xn(xn({},e),{},{previousOpenPanels:e.openPanels,openPanels:Un(e,n,e.breakpoint,o)})},CLOSE_PANEL:function(e,t){var n=e.openPanels,r=(n[t],function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,[t].map(Hn)));return xn(xn({},e),{},{previousOpenPanels:e.openPanels,openPanels:r})},CLOSE_ALL_PANELS:function(e){return xn(xn({},e),{},{previousOpenPanels:e.openPanels,openPanels:{}})},RESTORE_PREVIOUS_PANELS:function(e){return xn(xn({},e),{},{openPanels:e.previousOpenPanels||{},previousOpenPanels:e.openPanels})},TOGGLE_HAS_EXCLUSIVE_CONTROL:function(e,t){return xn(xn({},e),{},{hasExclusiveControl:t})},TOGGLE_BUTTON_DISABLED:function(e,t){var n=t.id,r=t.isDisabled,o=new Set(e.disabledButtons);return r?o.add(n):o.delete(n),xn(xn({},e),{},{disabledButtons:o})},TOGGLE_BUTTON_HIDDEN:function(e,t){var n=t.id,r=t.isHidden,o=new Set(e.hiddenButtons);return r?o.add(n):o.delete(n),xn(xn({},e),{},{hiddenButtons:o})},TOGGLE_BUTTON_PRESSED:function(e,t){var n=t.id,r=t.isPressed,o=new Set(e.pressedButtons);return r?o.add(n):o.delete(n),xn(xn({},e),{},{pressedButtons:o})}};function Fn(){return{preferredColorScheme:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",prefersReducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches}}var Wn=function(e,t){var n=t.type,r=t.payload,o=Bn[n];return o?o(e,r):e},Vn=K(null);function Gn(){return ve(Vn)}var Zn=n("./src/utils/detectBreakpoint.js"),$n=n("./src/utils/detectInterfaceType.js");function Kn(e){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(e)}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach(function(t){Jn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jn(e,t,n){return(t=function(e){var t=function(e){if("object"!=Kn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Kn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=K(null),er=function(e){var t,n,r=e.options,o=e.children,i={appContainerRef:de(null),sideRef:de(null),mainRef:de(null),topRef:de(null),topLeftColRef:de(null),topRightColRef:de(null),insetRef:de(null),rightRef:de(null),footerRef:de(null),actionsRef:de(null),bannerRef:de(null),viewportRef:de(null)},u=de({}),a=Xn(Xn({},r),{},{buttonConfig:Qt(),panelConfig:an()}),l=fe(Wn,function(e){var t=e.behaviour,n=e.initialBreakpoint,r=e.initialInterfaceType,o=e.appColorScheme,i=e.autoColorScheme,u=e.panelConfig,a=e.mode,l=Fn(),c=l.preferredColorScheme,f=l.prefersReducedMotion,s=Rn(t,n),p=Cn(u,n);return{isLayoutReady:!1,breakpoint:n,interfaceType:r,preferredColorScheme:i?c:o,prefersReducedMotion:f,isFullscreen:s,mode:a||null,previousMode:null,safeZoneInset:null,disabledButtons:new Set,hiddenButtons:new Set,pressedButtons:new Set,hasExclusiveControl:!1,openPanels:p,previousOpenPanels:{},syncMapPadding:!0}}(a)),c=(n=2,function(e){if(Array.isArray(e))return e}(t=l)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return qn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qn(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=c[0],s=c[1];!function(e,t){t.maxMobileWidth,t.minDesktopWidth;var n=t.appColorScheme,r=t.autoColorScheme;se(function(){var t=[window.matchMedia("(prefers-color-scheme: dark)"),window.matchMedia("(prefers-reduced-motion: reduce)")];function o(){var t=Fn(),o=t.preferredColorScheme,i=t.prefersReducedMotion;e({type:"SET_MEDIA",payload:{preferredColorScheme:r?o:n,prefersReducedMotion:i}})}return t.forEach(function(e){return e.addEventListener("change",o)}),function(){t.forEach(function(e){return e.removeEventListener("change",o)})}},[e])}(s,a);var p=(0,Zn.DX)(function(e){s({type:"SET_BREAKPOINT",payload:{behaviour:a.behaviour,breakpoint:e}})}),d=(0,$n.Ey)(function(e){s({type:"SET_INTERFACE_TYPE",payload:e})}),y=function(e){s({type:"SET_MODE",payload:e})},m=function(){s({type:"REVERT_MODE"})};se(function(){return ht.A.on("app:setmode",y),ht.A.on("app:revertmode",m),function(){ht.A.off("app:setmode",y),ht.A.off("app:revertmode",m),p(),d()}},[]);var b=me(function(){return Xn(Xn({},f),{},{dispatch:s,layoutRefs:i,buttonRefs:u})},[f]);return At(Vn.Provider,{value:a,children:At(Qn.Provider,{value:b,children:o})})};function tr(e){return tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr(e)}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach(function(t){or(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function or(e,t,n){return(t=function(e){var t=function(e){if("object"!=tr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ir={SET_MAP_READY:function(e){return rr(rr({},e),{},{isMapReady:!0})},MAP_MOVE:function(e,t){return rr(rr({},e),t)},MAP_MOVE_END:function(e,t){return rr(rr({},e),t)},MAP_FIRST_IDLE:function(e,t){return rr(rr({},e),t)},SET_MAP_STYLE:function(e,t){return rr(rr({},e),{},{mapStyle:t})},SET_MAP_SIZE:function(e,t){return rr(rr({},e),{},{mapSize:t})},UPDATE_CROSS_HAIR:function(e,t){return rr(rr({},e),{},{crossHair:rr(rr({},e.crossHair),t)})},UPSERT_LOCATION_MARKER:function(e,t){var n=new Map(e.markers.items.map(function(e){return[e.id,e]}));n.set(t.id,t);var r=Array.from(n.values());return rr(rr({},e),{},{markers:rr(rr({},e.markers),{},{items:r})})},REMOVE_LOCATION_MARKER:function(e,t){var n=e.markers.items.filter(function(e){return e.id!==t});return rr(rr({},e),{},{markers:rr(rr({},e.markers),{},{items:n})})}},ur=function(e,t){var n=t.type,r=t.payload,o=ir[n];return o?o(e,r):e};function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach(function(t){fr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fr(e,t,n){return(t=function(e){var t=function(e){if("object"!=ar(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ar(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var pr=K(null),dr=function(e){var t,n,r,o,i,u,a,l,c,f,s=e.options,p=e.children,d=(c=fe(ur,(n=(t=s).center,r=t.zoom,o=t.bounds,i=t.extent,u=t.mapStyle,a=t.mapSize,l=t.markers,{isMapReady:!1,mapStyle:null!=wn&&wn.find(function(e){var t;return null===(t=e.config)||void 0===t?void 0:t.handlesMapStyle})?null:u,mapSize:a,center:n,zoom:r,bounds:o||i,resolution:null,isAtMaxZoom:null,isAtMinZoom:null,crossHair:{isVisible:!1,isPinnedToMap:!1,state:"active"},markers:{items:l||[]}})),f=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(c,f)||function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(c,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=d[0],m=d[1],b=function(){m({type:"SET_MAP_READY"})},v=function(e){var t=localStorage.getItem("".concat(s.id,":mapStyleId")),n=e.find(function(e){return e.id===t})||e[0],r=localStorage.getItem("".concat(s.id,":mapSize"))||s.mapSize;m({type:"SET_MAP_STYLE",payload:n}),m({type:"SET_MAP_SIZE",payload:r})},_=function(e){m({type:"SET_MAP_STYLE",payload:e})},h=function(e){m({type:"SET_MAP_SIZE",payload:e})};se(function(){return ht.A.on("map:ready",b),ht.A.on("map:initmapstyles",v),ht.A.on("map:setmapstyle",_),ht.A.on("map:setmapsize",h),function(){ht.A.off("map:ready",b),ht.A.off("map:initmapstyles",v),ht.A.off("map:setmapstyle",_),ht.A.off("map:setmapsize",h)}},[]),se(function(){y.mapStyle&&y.mapSize&&(localStorage.setItem("".concat(s.id,":mapStyleId"),y.mapStyle.id),localStorage.setItem("".concat(s.id,":mapSize"),y.mapSize))},[y.mapStyle,y.mapSize]);var g=me(function(){return cr(cr({},y),{},{dispatch:m})},[y]);return At(pr.Provider,{value:g,children:p})};var yr=n("./src/services/reverseGeocode.js"),mr=K(null),br=function(e){var t=e.children,n=Gn().handleExitClick,r=de(null),o=me(function(){return function(e){var t=!1,n=function(t){null!=e&&e.current&&t&&(e.current.textContent="",setTimeout(function(){e.current&&(e.current.textContent=t)},100))},r=function(e){var t=null,n=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout(function(){e.apply(void 0,r)},500)};return n.cancel=function(){t&&(clearTimeout(t),t=null)},n}(n);return function(e){if(e)return"plugin"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core")?(t=!0,void n(e)):void(t?t=!1:r(e))}}(r)},[]),i=me(function(){return{announce:o,reverseGeocode:function(e,t){return(0,yr.R)(e,t)},eventBus:ht.A,mapStatusRef:r,closeApp:function(){return function(e){var t;null!==(t=history.state)&&void 0!==t&&t.isBack?history.back():e()}(n)}}},[o]);return At(mr.Provider,{value:i,children:t})},vr=n("./src/DefraMap/domStateManager.js");function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach(function(t){Sr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sr(e,t,n){return(t=function(e){var t=function(e){if("object"!=_r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=_r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pr=K(null),wr=function(e){var t=e.children,n={},r={},o=de({});wn.forEach(function(e){var t=e.reducer;if(t){var i=t.initialState,u=t.actions;n[e.id]=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=null==e?void 0:e[null==n?void 0:n.type];return r?r(t,n.payload):t}}(u),r[e.id]=i}o.current[e.id]||(o.current[e.id]={})});var i,u,a=fe(function(e,t){var r=t.pluginId;return r&&n[r]?Or(Or({},e),{},Sr({},r,n[r](e[r],t))):e},r),l=(u=2,function(e){if(Array.isArray(e))return e}(i=a)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(i,u)||function(e,t){if(e){if("string"==typeof e)return hr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}(i,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],f=l[1],s=function(e,t){return o.current[e]||(o.current[e]={}),o.current[e][t]||(o.current[e][t]=vt.createRef()),o.current[e][t]},p=me(function(){return{state:c,dispatch:f,refs:o,getPluginRef:s}},[c,f]);return At(Pr.Provider,{value:p,children:t})},jr=function(e){var t=ve(Pr);if(!t)throw new Error("usePlugin must be used within PluginProvider");var n=t.state,r=t.dispatch,o=t.refs,i=t.getPluginRef;return o.current[e]||(o.current[e]={}),Or(Or({},n[e]),{},{dispatch:function(t){return r(Or(Or({},t),{},{pluginId:e}))},refs:o.current[e],useRef:function(t){return i(e,t)}})};function Er(){return ve(Qn)}function Ar(){return ve(pr)}function kr(){return ve(mr)}function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach(function(t){Rr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Tr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mr=new Map;function Dr(e,t){var n=t.pluginId,r=t.pluginConfig,o=e;return Mr.has(o)||Mr.set(o,function(t){var o=Gn(),i=Er(),u=Ar(),a=kr(),l=jr(n);return At(e,Cr(Cr({},t),{},{pluginConfig:r,pluginState:l,appConfig:o,appState:i,mapState:u,services:a,mapProvider:o.mapProvider,iconRegistry:hn(),buttonConfig:Qt()}))}),Mr.get(o)}function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach(function(t){Hr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hr(e,t,n){return(t=function(e){var t=function(e){if("object"!=Nr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Nr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zr(e){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zr(e)}function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach(function(t){Fr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fr(e,t,n){return(t=function(e){var t=function(e){if("object"!=zr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=zr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==zr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(){var e=Gn(),t=Er(),n=Ar(),r=kr(),o=ve(Pr),i={appConfig:e,appState:t,mapState:n,services:r,mapProvider:null==e?void 0:e.mapProvider,iconRegistry:hn()};function u(e,t){var n,r;if(t){var u,a,l=wn.find(function(e){return e.id===t});n=l?Br({pluginId:l.id},l.config):{},r=Br(Br({},null!==(u=null==o||null===(a=o.state)||void 0===a?void 0:a[t])&&void 0!==u?u:{}),{},{dispatch:null==o?void 0:o.dispatch})}var c=Br(Br({},i),{},{pluginConfig:n,pluginState:r});return"function"==typeof e?e(c):e}return u.ctx=i,u}var Vr=["api"];function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Zr=function(){var e,t,n,r,o,i,u=Er().mode;return r=Er(),o=r.dispatch,i=r.breakpoint,se(function(){var e=function(e){var t,n,r;t=e.id,n=e.config,r=$t(zt,n),Jt[t]=r},t=function(e){var t,n=e.id,r=function(e,t){var n=$t(Ut,t);return un[e]=nn(nn({},n),{},{html:n.html,render:n.render}),un[e]}(n,e.config);null!==(t=r[i])&&void 0!==t&&t.initiallyOpen&&o({type:"OPEN_PANEL",payload:{panelId:n}})},n=function(e){o({type:"CLOSE_PANEL",payload:e}),function(e){delete un[e]}(e)},r=function(e){o({type:"OPEN_PANEL",payload:{panelId:e}})},u=function(e){o({type:"CLOSE_PANEL",payload:e})},a=function(e){var t,n,r;t=e.id,n=e.config,r=$t(Bt,n),pn[t]=fn({id:t},r),pn[t]};return ht.A.on("app:addbutton",e),ht.A.on("app:addpanel",t),ht.A.on("app:removepanel",n),ht.A.on("app:showpanel",r),ht.A.on("app:hidepanel",u),ht.A.on("app:addcontrol",a),function(){ht.A.off("app:addbutton",e),ht.A.off("app:addpanel",t),ht.A.off("app:removepanel",n),ht.A.off("app:showpanel",r),ht.A.off("app:hidepanel",u),ht.A.off("app:addcontrol",a)}},[o]),e=Wr(),t=Er(),n=ve(Pr),se(function(){if(null!=t&&t.dispatch&&n){var r=t.dispatch;wn.forEach(function(n){var o;((null==n||null===(o=n.manifest)||void 0===o?void 0:o.buttons)||[]).forEach(function(o){var i=n.id;if("function"==typeof o.enableWhen)try{var u=e(o.enableWhen,i),a=t.disabledButtons.has(o.id),l=!u;a!==l&&r({type:"TOGGLE_BUTTON_DISABLED",payload:{id:o.id,isDisabled:l}})}catch(e){console.warn("enableWhen error for button ".concat(o.id,":"),e)}if("function"==typeof o.hiddenWhen)try{var c=e(o.hiddenWhen,i);t.hiddenButtons.has(o.id)!==c&&r({type:"TOGGLE_BUTTON_HIDDEN",payload:{id:o.id,isHidden:c}})}catch(e){console.warn("hiddenWhen error for button ".concat(o.id,":"),e)}if("function"==typeof o.pressedWhen)try{var f=e(o.pressedWhen,i);t.pressedButtons.has(o.id)!==f&&r({type:"TOGGLE_BUTTON_PRESSED",payload:{id:o.id,isPressed:f}})}catch(e){console.warn("pressedWhen error for button ".concat(o.id,":"),e)}})})}},[t,n,e]),wn.forEach(function(e){var t=function(e){var t=de(null),n=Gn(),r=Er(),o=Ar(),i=kr(),u=jr(e);return se(function(){t.current={appConfig:n,appState:r,mapState:o,services:i,mapProvider:n.mapProvider,pluginState:u}}),t}(e.id);e.api&&e._originalPlugin&&Object.entries(e.api).forEach(function(n){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return Gr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gr(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],a=i[1];e._originalPlugin[u]=function(e,t){var n=t.pluginId,r=t.pluginConfig,o=t.stateRef;return function(){var t=o.current;if(!t)throw new Error('Plugin API "'.concat(n,'" called before state is initialized'));for(var i=arguments.length,u=new Array(i),a=0;a<i;a++)u[a]=arguments[a];return e.apply(void 0,[Lr(Lr({},t),{},{pluginConfig:r,pluginId:n})].concat(u))}}(a,{pluginId:e.id,pluginConfig:(null==e?void 0:e.config)||{},stateRef:t})})}),At(P,{children:wn.map(function(e,t){var n,r,o=e.InitComponent,i=(null==e?void 0:e.config)||{},a=(i.api,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(i,Vr)),l=e.config||{},c=l.includeModes,f=l.excludeModes,s=null===(n=null==c?void 0:c.includes(u))||void 0===n||n,p=null!==(r=null==f?void 0:f.includes(u))&&void 0!==r&&r,d=s&&!p&&o?Dr(o,{pluginId:e.id,pluginConfig:a}):null;return d?At(d,{},"init-".concat(e.id,"-").concat(t)):null})})};function $r(e){return function(e){if(Array.isArray(e))return Yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||qr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xr(e)}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach(function(t){eo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eo(e,t,n){return(t=function(e){var t=function(e){if("object"!=Xr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var to=function(e){var t=e.mainRef,n=e.insetRef,r=e.rightRef,o=e.actionsRef,i=t.current,u=n.current,a=r.current,l=o.current,c=document.documentElement,f=Number.parseInt(getComputedStyle(c).getPropertyValue("--divider-gap"),10),s=l.offsetTop-u.offsetTop-f,p=u.offsetLeft+a.offsetWidth+f,d=i.offsetWidth-2*p,y=u.offsetWidth-p+u.offsetLeft,m=d-y>s-u.offsetHeight,b=u.offsetTop+(!m&&u.offsetHeight>0?u.offsetHeight+f:0),v=m?u.offsetWidth+u.offsetLeft+f:p,_=i.offsetHeight-l.offsetTop,h=y<d/3&&u.offsetHeight<s/3;return{top:h?u.offsetTop:b,right:p,left:i.offsetLeft+(h?p:Math.max(v,p)),bottom:_+f}};function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ro=function(e,t){return Object.entries(e).reduce(function(e,n){var r,o,i=(o=2,function(e){if(Array.isArray(e))return e}(r=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return no(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?no(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],a=i[1];return e[u]=Math.round(a/t),e},{})};function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach(function(t){ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ao(e,t,n){return(t=function(e){var t=function(e){if("object"!=oo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lo=function(e){var t=e.mapContainerRef,n=Gn(),r=n.id,o=n.mapProvider,i=Er(),u=i.safeZoneInset,a=i.breakpoint,l=i.isLayoutReady,c=i.syncMapPadding,f=Ar(),s=f.isMapReady,p=f.mapStyle,d=f.mapSize,y=f.center,m=f.zoom,b=f.bounds,v=de(!1),_=function(e){var t=e.id,n=e.center,r=e.zoom,o=e.bounds,i=function(e,t){var n=new URLSearchParams(t),r=n.get("".concat(e,":center")),o=n.get("".concat(e,":zoom"));if(!r||!o)return null;var i=Kr(r.split(",").map(Number),2);return{center:[i[0],i[1]],zoom:Number(o)}}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location.search);return i?{center:i.center,zoom:i.zoom}:o?{bounds:o}:{center:n,zoom:r}}({id:r,center:y,zoom:m,bounds:b});return se(function(){if(u&&l&&p&&d&&!v.current)return requestAnimationFrame(function(){o.initMap(uo(uo({},n),{},{pixelRatio:window.devicePixelRatio*Ft[d],container:t.current,padding:u,center:_.center,zoom:_.zoom,bounds:_.bounds,mapStyle:p}))}),v.current=!0,function(){}},[u,l,p,d]),function(){var e=Gn().mapProvider,t=Ar().dispatch,n=de(null),r=de(!1);se(function(){if(e){var o=function(e){t({type:"MAP_MOVE",payload:e})},i=function(e){t({type:"MAP_MOVE_END",payload:e}),ht.A.emit("map:stateupdated",{previous:n.current,current:e}),n.current=e},u=function(o){r.current||(n.current={center:e.getCenter(),zoom:e.getZoom()},r.current=!0),t({type:"MAP_FIRST_IDLE",payload:o})};return ht.A.on("map:move",o),ht.A.on("map:moveend",i),ht.A.on("map:firstidle",u),function(){ht.A.off("map:move",o),ht.A.off("map:moveend",i),ht.A.off("map:firstidle",u)}}},[e,t])}(),function(){var e=Gn().id;se(function(){if(e){var t=function(t){var n=t.current;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:globalThis.location.href,r=new URL(n||"http://localhost"),o=$r(new URLSearchParams(r.search)).map(function(e){var t=Kr(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)}),i=[];t.center&&i.push("".concat(e,":center=").concat(t.center[0],",").concat(t.center[1])),null!=t.zoom&&i.push("".concat(e,":zoom=").concat(t.zoom));var u=o.filter(function(e){return!i.some(function(t){return t.split("=")[0]===e.split("=")[0]})}),a=r.hash||"",l="".concat(r.origin).concat(r.pathname,"?").concat([].concat($r(u),i).join("&")).concat(a);globalThis.history.replaceState(globalThis.history.state,"",l)}(e,{center:n.center,zoom:n.zoom})};return ht.A.on("map:stateupdated",t),function(){return ht.A.off("map:stateupdated",t)}}},[e])}(),function(){var e=Gn().mapProvider,t=kr().announce;se(function(){var n=function(n){var r,o,i,u=n.previous,a=n.current;if(null!=u&&u.center&&null!=a&&a.center){var l,c=u.zoom!==a.zoom,f=u.center[0]!==a.center[0]||u.center[1]!==a.center[1],s=e.getAreaDimensions();if(f&&!c)l=function(e){var t=e.direction;return"Map moved ".concat(t,".")}({direction:e.getCardinalMove(u.center,a.center),areaDimensions:s});else l=!f&&c?function(e){var t=e.from,n=e.to,r=e.areaDimensions,o=e.isAtMaxZoom,i=e.isAtMinZoom;return"Map zoomed ".concat(n>t?"in":"out").concat(o?" (Maximum zoom)":"").concat(i?" (Minimum zoom)":"",". New area approximately ").concat(r,".")}(Qr(Qr({},a),{},{from:u.zoom,to:a.zoom,areaDimensions:s})):f||c?function(e){var t=e.areaDimensions,n=e.isAtMaxZoom,r=e.isAtMinZoom;return"New area approximately ".concat(t).concat(n?" (Maximum zoom)":"").concat(r?" (Minimum zoom)":"",".")}(Qr(Qr({},a),{},{areaDimensions:s})):(r=Qr({},a),o=r.isAtMaxZoom,i=r.isAtMinZoom,"No change, ".concat(o?"maximum zoom reached":"").concat(i?"minimum zoom reached":"","."));l&&t(l,"core")}};return ht.A.on("map:stateupdated",n),function(){ht.A.off("map:stateupdated",n)}},[e,t])}(),function(){var e=Gn().mapProvider,t=Er(),n=t.dispatch,r=t.layoutRefs,o=Ar().mapSize,i=de(o);i.current=o;var u=function(){var t=to(r),o=ro(t,Ft[i.current]);"function"==typeof n&&n({type:"SET_SAFE_ZONE_INSET",payload:{safeZoneInset:t,syncMapPadding:!1}}),"function"==typeof e.setPadding&&e.setPadding(o)};se(function(){if(e){var t=e.fitToBounds;e.fitToBounds=function(n,r){if(n)return u(),t.call(e,n,r)};var n=e.setView;return e.setView=function(t){var r=t.center,o=t.zoom;if(r)return u(),n.call(e,{center:r,zoom:o})},function(){e.fitToBounds=t,e.setView=n}}},[e,n,r,o])}(),se(function(){s&&c&&o.setPadding(ro(u,Ft[d]))},[s,d,a,u]),null},co={keydown:{ArrowUp:"panUp",ArrowDown:"panDown",ArrowLeft:"panLeft",ArrowRight:"panRight","+":"zoomIn","=":"zoomIn","-":"zoomOut",_:"zoomOut"},keyup:{"Alt+k":"showKeyboardControls","Alt+K":"showKeyboardControls","Alt+ArrowRight":"highlightNextLabel","Alt+ArrowLeft":"highlightNextLabel","Alt+ArrowUp":"highlightNextLabel","Alt+ArrowDown":"highlightNextLabel","Alt+Enter":"highlightLabelAtCenter","Alt+i":"getInfo","Alt+I":"getInfo",Escape:"clearSelection"}};function fo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return so(c,"_invoke",function(n,r,o){var i,a,l,c=0,f=o||[],s=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(n,r){for(a=n,l=r,t=0;!s&&c&&!o&&t<f.length;t++){var o,i=f[t],d=p.p,y=i[2];n>3?(o=y===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,a=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,y){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,y),a=f,l=y;(t=a<2?e:l)||!s;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(s=p.n<0)?l:n.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:t,done:s}}}(n,o,i),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(so(t={},r,function(){return this}),t),s=c.prototype=a.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,so(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=c,so(s,"constructor",c),so(c,"constructor",l),l.displayName="GeneratorFunction",so(c,o,"GeneratorFunction"),so(s),so(s,o,"Generator"),so(s,r,function(){return this}),so(s,"toString",function(){return"[object Generator]"}),(fo=function(){return{w:i,m:p}})()}function so(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}so=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{function i(t,n){so(e,t,function(e){return this._invoke(t,n,e)})}i("next",0),i("throw",1),i("return",2)}},so(e,t,n,r)}function po(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bo=function(){return At("div",{ref:kr().mapStatusRef,role:"status",className:"dm-c-viewport__status","aria-live":"polite","aria-atomic":"true","aria-label":"Map updates"})},vo={active:"M5.035 20H1v-2h4.035C5.525 11.069 11.069 5.525 18 5.035V1h2v4.035c6.931.49 12.475 6.034 12.965 12.965H37v2h-4.035c-.49 6.931-6.034 12.475-12.965 12.965V37h-2v-4.035C11.069 32.475 5.525 26.931 5.035 20zM19 7c-6.581.005-11.995 5.419-12 12 .005 6.581 5.419 11.995 12 12 6.581-.005 11.995-5.419 12-12-.005-6.581-5.419-11.995-12-12zm0 10a2.01 2.01 0 0 1 2 2 2.01 2.01 0 0 1-2 2 2.01 2.01 0 0 1-2-2 2.01 2.01 0 0 1 2-2z",inactive:"M5.035 20H1v-2h4.035a13.98 13.98 0 0 1 .246-1.8l1.96.399C7.083 17.375 7 18.178 7 19s.083 1.625.241 2.401l-1.96.399a13.98 13.98 0 0 1-.246-1.8zM20 5.035a13.98 13.98 0 0 1 1.8.246l-.399 1.96C20.625 7.083 19.822 7 19 7s-1.625.083-2.401.241l-.399-1.96a13.98 13.98 0 0 1 1.8-.246V1h2v4.035zm-2 27.93a13.98 13.98 0 0 1-1.8-.246l.399-1.96c.776.158 1.579.241 2.401.241s1.625-.083 2.401-.241l.399 1.96a13.98 13.98 0 0 1-1.8.246V37h-2v-4.035zM32.965 20a13.98 13.98 0 0 1-.246 1.8l-1.96-.399c.158-.776.241-1.579.241-2.401s-.083-1.625-.241-2.401l1.96-.399a13.98 13.98 0 0 1 .246 1.8H37v2h-4.035zM19 17a2.01 2.01 0 0 1 2 2 2.01 2.01 0 0 1-2 2 2.01 2.01 0 0 1-2-2 2.01 2.01 0 0 1 2-2zm3.8-9.385l.634-1.897c1.789.598 3.438 1.553 4.848 2.805l-1.327 1.496c-1.196-1.06-2.605-1.886-4.155-2.404zm5.181 3.43l1.496-1.327c1.252 1.41 2.207 3.059 2.805 4.848l-1.897.634c-.518-1.55-1.344-2.959-2.404-4.155zM30.385 22.8l1.897.634c-.598 1.789-1.553 3.438-2.805 4.848l-1.496-1.327c1.06-1.196 1.886-2.605 2.404-4.155zm-3.43 5.181l1.327 1.496c-1.41 1.252-3.059 2.207-4.848 2.805l-.634-1.897c1.55-.518 2.959-1.344 4.155-2.404zM15.2 30.385l-.634 1.897c-1.789-.598-3.438-1.553-4.848-2.805l1.327-1.496c1.196 1.06 2.605 1.886 4.155 2.404zm-5.181-3.43l-1.496 1.327c-1.252-1.41-2.207-3.059-2.805-4.848l1.897-.634c.518 1.55 1.344 2.959 2.404 4.155zM7.615 15.2l-1.897-.634c.598-1.789 1.553-3.438 2.805-4.848l1.496 1.327c-1.06 1.196-1.886 2.605-2.404 4.155zm3.43-5.181L9.718 8.523c1.41-1.252 3.059-2.207 4.848-2.805l.634 1.897c-1.55.518-2.959 1.344-4.155 2.404z"},_o=function(){var e=Gn().id,t=function(){var e=Gn().mapProvider,t=Er().safeZoneInset,n=Ar(),r=n.crossHair,o=n.dispatch,i=n.mapSize,u=function(e,n,r){if(t){var o=n*Ft[i],u=r*Ft[i];e.style.transform="translate(".concat(o-t.left,"px, ").concat(u-t.top,"px)"),e.style.left="0",e.style.top="0",e.style.display="block"}},a=be(function(t){if(t){r.pinToMap=function(n,i){var a=e.getPointFromCoords(n),l=a.x,c=a.y;r.coords=n,o({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!0,isVisible:!0,coords:n,state:i}}),u(t,l,c)},r.fixAtCenter=function(){t.style.left="50%",t.style.top="50%",t.style.transform="translate(0,0)",t.style.display="block",o({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!1,isVisible:!0}})},r.remove=function(){t.style.display="none",o({type:"UPDATE_CROSS_HAIR",payload:{isPinnedToMap:!1,isVisible:!1}})},r.show=function(){t.style.display="block",o({type:"UPDATE_CROSS_HAIR",payload:{isVisible:!0}})},r.hide=function(){t.style.display="none",o({type:"UPDATE_CROSS_HAIR",payload:{isVisible:!1}})},r.setStyle=function(e){o({type:"UPDATE_CROSS_HAIR",payload:{state:e}})},r.getDetail=function(){var t=r.isPinnedToMap?r.coords:e.getCenter();return{state:r.state,point:e.getPointFromCoords(t),zoom:e.getZoom(),coords:t}};var n=function(){if(r.coords&&r.isPinnedToMap){var n=e.getPointFromCoords(r.coords),o=n.x,i=n.y;u(t,o,i,r.state)}};return ht.A.on("map:render",n),function(){ht.A.off("map:render",n)}}},[r,e,i,o,t]);return se(function(){r.coords&&r.isPinnedToMap&&r.pinToMap(r.coords,r.state)},[i]),{crossHair:r,crossHairRef:a}}(),n=t.crossHairRef,r=t.crossHair,o=r.isVisible,i=r.isPinnedToMap,u=r.state;return At("svg",{id:"".concat(e,"-cross-hair"),ref:n,className:"dm-c-cross-hair",width:"38",height:"38",viewBox:"0 0 38 38",fillRule:"evenodd",fill:"currentColor",style:{position:"absolute",left:i?0:"50%",top:i?0:"50%",pointerEvents:"none",display:o?"block":"none"},children:At("path",{d:vo[u||"active"]})})};function ho(e){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(e)}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach(function(t){So(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function So(e,t,n){return(t=function(e){var t=function(e){if("object"!=ho(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ho(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po=function(e,t,n,r){if(!t||!r)return{x:0,y:0};var o=t.getPointFromCoords(e),i=o.x,u=o.y;return{x:i*Ft[n],y:u*Ft[n]-19}};function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}var jo=function(e,t){if(!e)return null;if("string"==typeof e)return e.trim();if("object"===wo(e)){if(t&&e[t])return e[t];var n=Object.values(e)[0];return null!=n?n:null}return null};function Eo(e){return null==e?void 0:e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}var Ao=function(){var e=Gn(),t=e.id,n=e.markerShape,r=e.markerColor,o=Ar().mapStyle,i=function(){var e=Gn().mapProvider,t=Ar(),n=t.markers,r=t.dispatch,o=t.mapSize,i=t.isMapReady,u=de(new Map);se(function(){e&&(n.markerRefs=u.current,n.add=function(t,n,u){var a=Po(n,e,o,i),l=a.x,c=a.y;r({type:"UPSERT_LOCATION_MARKER",payload:Oo(Oo({id:t,coords:n},u),{},{x:l,y:c,isVisible:!0})})},n.remove=function(e){r({type:"REMOVE_LOCATION_MARKER",payload:e})},n.getMarker=function(e){return n.items.find(function(t){return t.id===e})})},[e,n,r,o]);var a=be(function(t){return function(r){if(r){u.current.set(t,r);var a=function(){i&&e&&n.items.forEach(function(t){var n=u.current.get(t.id);if(n&&t.coords){var r=Po(t.coords,e,o,i),a=r.x,l=r.y;n.style.transform="translate(".concat(a,"px, ").concat(l,"px)"),n.style.display="block"}})};return ht.A.on("map:render",a),function(){ht.A.off("map:render",a)}}u.current.delete(t)}},[n,e,i,o]);return se(function(){i&&e&&n.items.forEach(function(t){var n=u.current.get(t.id);if(n&&t.coords){var r=Po(t.coords,e,o,i),a=r.x,l=r.y;n.style.transform="translate(".concat(a,"px, ").concat(l,"px)")}})},[o,n.items,e,i]),se(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&e.id&&e.coords){var t=e.id,r=e.coords,o=e.options;n.add(t,r,o)}};ht.A.on("app:addmarker",e);var t=function(e){e&&n.remove(e)};return ht.A.on("app:removemarker",t),function(){ht.A.off("app:addmarker",e),ht.A.off("app:removemarker",t)}},[]),{markers:n,markerRef:a}}(),u=i.markers,a=i.markerRef;if(o){var l=Wt.find(function(e){return e.shape===n});return At(P,{children:u.items.map(function(e){return At("svg",{ref:a(e.id),id:"".concat(t,"-marker-").concat(e.id),className:"dm-c-marker dm-c-marker--".concat(e.markerShape||Eo(n)),width:"38",height:"38",viewBox:"0 0 38 38",style:{display:e.isVisible?"block":"none"},children:[At("path",{className:"dm-c-marker__background",d:l.backgroundPath,fill:jo(e.color||r,o.id)}),At("path",{className:"dm-c-marker__graphic",d:l.graphicPath})]},e.id)})})}};function ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var To=function(e){var t,n,r=e.keyboardHintPortalRef,o=Gn(),i=o.id,u=o.mapProvider,a=o.mapLabel,l=o.keyboardHintText,c=Er(),f=c.interfaceType,s=c.mode,p=c.previousMode,d=c.layoutRefs,y=c.safeZoneInset,m=Ar().mapSize,b=de(null),v=de(null),_=(t=ce(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ko(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ko(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=_[0],g=_[1];!function(e){var t=Gn(),n=t.mapProvider,r=t.panDelta,o=t.nudgePanDelta,i=t.zoomDelta,u=t.nudgeZoomDelta,a=t.readMapText,l=Er(),c=l.interfaceType,f=l.dispatch,s=kr().announce;se(function(){var t=e.current;if(t&&"keyboard"===c){var l=function(e,t,n){var r,o=n.containerRef,i=n.dispatch,u=n.panDelta,a=n.nudgePanDelta,l=n.zoomDelta,c=n.nudgeZoomDelta,f=n.readMapText,s=function(e){return e?a:u},p=function(e){return e?c:l};return{showKeyboardControls:function(){i({type:"OPEN_PANEL",payload:{panelId:"keyboardHelp",props:{triggeringElement:o.current}}})},panUp:function(t){return e.panBy([0,-s(t.shiftKey)])},panDown:function(t){return e.panBy([0,s(t.shiftKey)])},panLeft:function(t){return e.panBy([-s(t.shiftKey),0])},panRight:function(t){return e.panBy([s(t.shiftKey),0])},zoomIn:function(t){return e.zoomIn(p(t.shiftKey))},zoomOut:function(t){return e.zoomOut(p(t.shiftKey))},getInfo:(r=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){po(i,r,o,u,a,"next",e)}function a(e){po(i,r,o,u,a,"throw",e)}u(void 0)})}}(fo().m(function n(r){var o,i,u,a;return fo().w(function(n){for(;;)switch(n.n){case 0:return i=e.getCenter(),n.n=1,(0,yr.R)(e.getZoom(),i);case 1:u=n.v,a=null===(o=e.getAreaDimensions)||void 0===o?void 0:o.call(e),t("".concat(u,".").concat(a?" Covering "+a+".":""),"core");case 2:return n.a(2)}},n)})),function(e){return r.apply(this,arguments)}),highlightNextLabel:function(n){if(f||!e.highlightNextLabel){var r=e.highlightNextLabel(n.key);t(r,"core")}},highlightLabelAtCenter:function(){if(f||!e.highlightNextLabel){var n=e.highlightLabelAtCenter();t(n,"core")}},clearSelection:function(){var t;return null==e||null===(t=e.clearHighlightedLabel)||void 0===t?void 0:t.call(e)}}}(n,s,{containerRef:e,dispatch:f,panDelta:r,nudgePanDelta:o,zoomDelta:i,nudgeZoomDelta:u,readMapText:a}),p=function(e){return function(t){var n=co[e][function(e){var t;return"Add"===(t=/^Key[A-Z]$/.test(e.code)?e.code.slice(3):e.key)||"NumpadAdd"===t?t="+":"Subtract"!==t&&"NumpadSubtract"!==t||(t="-"),e.altKey?"Alt+".concat(t):t}(t)];n&&l[n]&&(l[n](t),t.preventDefault())}},d=p("keydown"),y=p("keyup");return t.addEventListener("keydown",d),t.addEventListener("keyup",y),function(){t.removeEventListener("keydown",d),t.removeEventListener("keyup",y)}}},[e,c,n,r,o,i,u])}(d.viewportRef),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Gn().mapProvider;se(function(){if(t){var n={};return Object.entries(e).forEach(function(e){var t=yo(e,2),r=t[0],o=t[1],i=function(e){return o(e)};n[r]=i,ht.A.on(r,i)}),function(){Object.entries(n).forEach(function(e){var t=yo(e,2),n=t[0],r=t[1];ht.A.off(n,r)})}}},[t,e])}({"map:click":function(e){var t;return null==u||null===(t=u.clearHighlightedLabel)||void 0===t?void 0:t.call(u)}});var O=function(e){var t=e.interfaceType,n=e.containerRef,r=e.keyboardHintRef,o=e.onViewportFocusChange,i=e.keyboardHintVisible;return se(function(){if(i&&n.current){var e=n.current,t=function(e){["Escape","Tab"].includes(e.key)&&o(!1)},u=function(t){var n,i=e.contains(t.target),u=null===(n=r.current)||void 0===n?void 0:n.contains(t.target);i&&!u&&o(!1)};return e.addEventListener("keydown",t),e.addEventListener("mousedown",u),function(){e.removeEventListener("keydown",t),e.removeEventListener("mousedown",u)}}},[i,n,r,o]),{showHint:i,handleFocus:function(){"keyboard"===t&&o(!0)},handleBlur:function(){o(!1)}}}({interfaceType:f,containerRef:d.viewportRef,keyboardHintRef:v,keyboardHintVisible:h,onViewportFocusChange:g}),S=O.showHint,w=O.handleFocus,j=O.handleBlur;return se(function(){var e;s&&p&&s!==p&&(null===(e=d.viewportRef)||void 0===e||e.current.focus())},[s]),se(function(){var e,t=null===(e=d.mainRef)||void 0===e?void 0:e.current;if(t)return t.classList.toggle("dm-o-app__main--keyboard-hint-visible",S),function(){return null==t?void 0:t.classList.remove("dm-o-app__main--keyboard-hint-visible")}},[S]),At(P,{children:[At(lo,{mapContainerRef:b}),At("div",{id:"".concat(i,"-viewport"),className:"dm-c-viewport dm-c-viewport--".concat(m),"aria-label":a,role:"application",tabIndex:"0",onFocus:w,onBlur:j,ref:d.viewportRef,children:[S&&(null==r?void 0:r.current)&&Ye(At("div",{className:"dm-c-viewport__keyboard-hint","aria-hidden":"true",ref:v,dangerouslySetInnerHTML:{__html:l}}),r.current),At("div",{className:"dm-c-viewport__map-container",ref:b}),At("div",{className:"dm-c-viewport__features"}),At(bo,{}),At("div",{className:"dm-c-viewport__safezone",style:y,ref:d.safeZoneRef,children:At(_o,{})}),At(Ao,{})]})]})};function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Co(e,t){var n=de(),r=de(new WeakMap);return se(function(){var o=(Array.isArray(e)?e:[e]).map(function(e){return null==e?void 0:e.current}).filter(Boolean);if(o.length&&t){var i=new ResizeObserver(function(e){var n,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Io(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Io(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,u=i.contentRect,a=u.width,l=u.height,c=r.current.get(i.target)||{};c.width===a&&c.height===l||(r.current.set(i.target,{width:a,height:l}),t(i))}}catch(e){o.e(e)}finally{o.f()}});return o.forEach(function(e){return i.observe(e)}),function(){i.disconnect(),n.current&&cancelAnimationFrame(n.current)}}},[e,t]),{frameRef:n}}var Ro=function(){var e=Ar().mapStyle;if(null!=e&&e.logo)return At("img",{className:"dm-c-logo",src:e.logo,alt:e.logoAltText})},Mo=function(){var e=Er().breakpoint,t=Ar().mapStyle;if(t)return"mobile"!==e&&At("div",{className:"dm-c-attributions",dangerouslySetInnerHTML:{__html:t.attribution}})},Do=Object.freeze({SIDE:"side",BANNER:"banner",TOP_LEFT:"top-left",TOP_MIDDLE:"top-middle",TOP_RIGHT:"top-right",INSET:"inset",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom",MIDDLE:"middle",FOOTER_RIGHT:"footer-right",BOTTOM:"bottom",ACTIONS:"actions",MODAL:"modal"}),No=Object.freeze({control:[Do.BANNER,Do.TOP_LEFT,Do.TOP_RIGHT,Do.INSET,Do.FOOTER_RIGHT,Do.BOTTOM,Do.ACTIONS],panel:[Do.SIDE,Do.BANNER,Do.INSET,Do.MIDDLE,Do.BOTTOM,Do.ACTIONS,Do.DRAWER,Do.MODAL],button:[Do.TOP_LEFT,Do.TOP_MIDDLE,Do.TOP_RIGHT,Do.RIGHT_TOP,Do.RIGHT_BOTTOM,Do.ACTIONS]}),xo=n("./src/utils/toggleInertElements.js");var Lo=function(e){var t=e.id,n=e.svgContent;return At("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false",dangerouslySetInnerHTML:{__html:hn()[t]||n}})};function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(t){Bo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bo(e,t,n){return(t=function(e){var t=function(e){if("object"!=Ho(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ho(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo=function(e){var t,n=e.panelId,r=e.panelConfig,o=e.props,i=e.WrappedChild,u=e.label,a=e.html,l=e.children,c=Gn().id,f=Er(),s=f.dispatch,p=f.breakpoint,d=f.layoutRefs,y=document.getElementById("".concat(c,"-dm-app")),m=r[p],b="".concat(c,"-panel-").concat(Eo(n)),v="side"===m.slot&&m.initiallyOpen,_=!v&&m.dismissable,h=!0===m.modal,g=!0===m.dismissable,O=Boolean(h||(null==o?void 0:o.triggeringElement)),S=m.slot.endsWith("button")?null==o||null===(t=o.triggeringElement)||void 0===t?void 0:t.parentNode:void 0,P=d.mainRef,w=de(null),j=function(){requestAnimationFrame(function(){var e,t;null===(e=(t=(null==o?void 0:o.triggeringElement)||d.viewportRef.current).focus)||void 0===e||e.call(t)}),s({type:"CLOSE_PANEL",payload:n})};(function(e){var t=e.mainRef,n=e.panelRef,r=e.isModal,o=e.rootEl,i=e.buttonContainerEl,u=e.handleClose;se(function(){if(r){var e=function(e){"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),u()),"Tab"===e.key&&n.current&&function(e,t){if("Tab"===t.key){var n=Array.from(e.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(",")));if(0!==(n=n.filter(function(e){return!!e.offsetParent})).length){var r=n[0],o=n[n.length-1];!t.shiftKey||document.activeElement!==e&&document.activeElement!==r||(o.focus(),t.preventDefault()),t.shiftKey||document.activeElement!==o||(r.focus(),t.preventDefault())}}}(n.current,e)},t=n.current;return null==t||t.addEventListener("keydown",e),function(){null==t||t.removeEventListener("keydown",e)}}},[r,n,u]);var a=document.documentElement,l=parseInt(getComputedStyle(a).getPropertyValue("--divider-gap"),10);Co([t],function(){if(r&&i&&t.current){var e=t.current.getBoundingClientRect(),n=i.getBoundingClientRect(),o=n.top-e.top,u=Math.round(e.right-n.right+n.width+l);a.style.setProperty("--modal-inset","".concat(o,"px ").concat(u,"px auto auto"))}}),se(function(){if(r){var e=function(e){var t=e.target.closest(".dm-o-app__modal-backdrop");o&&t&&o.contains(t)&&u()};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}},[r,o,u]),se(function(){if(r&&n.current&&o)return(0,xo.U)({containerEl:n.current,isFullscreen:!0,boundaryEl:o}),function(){(0,xo.U)({containerEl:n.current,isFullscreen:!1,boundaryEl:o})}},[r,n,o]),se(function(){if(r){var e=function(e){var t=e.target,r=n.current;if(t&&r&&o){var i=o.contains(t),u=r.contains(t);i&&!u&&r.focus()}};return document.addEventListener("focusin",e),function(){document.removeEventListener("focusin",e)}}},[r,n,o])})({mainRef:P,panelRef:w,isModal:h,isAside:v,rootEl:y,buttonContainerEl:S,handleClose:j}),se(function(){O&&w.current.focus()},[]);var E=["dm-c-panel","dm-c-panel--".concat(m.slot),!r.showLabel&&"dm-c-panel--no-heading"].filter(Boolean).join(" "),A=["dm-c-panel__body",!r.showLabel&&g&&"dm-c-panel__body--offset"].filter(Boolean).join(" ");return At("div",{ref:w,id:b,"aria-labelledby":"".concat(b,"-label"),tabIndex:O?-1:void 0,role:_?"dialog":g?"complementary":"region","aria-modal":_&&h?"true":void 0,style:m.width?{width:m.width}:void 0,className:E,children:[At("h2",{id:"".concat(b,"-label"),className:r.showLabel?"dm-c-panel__heading dm-e-heading-m":"dm-u-visually-hidden",children:u}),g&&At("button",{"aria-label":"Close ".concat(u),className:"dm-c-panel__close",onClick:j,children:At(Lo,{id:"close"})}),At("div",a?{className:A,dangerouslySetInnerHTML:{__html:a}}:{className:A,children:i?At(i,Uo({},o)):l})]})};function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach(function(t){Zo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zo(e,t,n){return(t=function(e){var t=function(e){if("object"!=Wo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ko(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ko(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||Yo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){if(e){if("string"==typeof e)return Xo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xo(e,t):void 0}}function Xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e){return Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jo(e)}function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ti=0,ni=function(e){var t=e.children,n=e.content,r=Er().interfaceType,o=de(null),i=de(null),u=Qo(ce(!1),2),a=u[0],l=u[1],c=Qo(ce(!1),2),f=c[0],s=c[1],p=Qo(ce(null),2),d=p[0],y=p[1],m=Qo(ce(function(){return"tooltip-".concat(ti+=1)}),1)[0],b=de(null),v=de(null),_=function(){clearTimeout(b.current),l(!1)},h=function(){clearTimeout(v.current),b.current=setTimeout(function(){return l(!0)},500)},g=function(){clearTimeout(b.current),v.current=setTimeout(function(){return l(!1)},0)};se(function(){var e=function(e){"Escape"===e.key&&(clearTimeout(b.current),clearTimeout(v.current),l(!1))};if(window.addEventListener("keydown",e),a){var t=function(e,t){if(!e)return"bottom";t||(t=e.closest(".dm-o-app__main"));var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o={top:n.top-r.top,bottom:r.bottom-n.bottom,left:n.left-r.left,right:r.right-n.right},i=Object.entries(o),u=i.sort(function(e,t){return qo(e,2)[1]-qo(t,2)[1]}),a=qo(u[0],2),l=a[0],c=a[1];if("top"===l||"bottom"===l){var f,s=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Yo(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}(i);try{for(s.s();!(f=s.n()).done;){var p=qo(f.value,2),d=p[0],y=p[1];if(("left"===d||"right"===d)&&Math.abs(y-c)<=50)return"left"===d?"right":"left"}}catch(e){s.e(e)}finally{s.f()}}return{top:"bottom",bottom:"top",left:"right",right:"left"}[l]}(o.current);y(t)}return function(){window.removeEventListener("keydown",e),clearTimeout(b.current),clearTimeout(v.current)}},[a]);var O=mt(t,{ref:function(e){var n;o.current=e;var r=null===(n=t.props)||void 0===n?void 0:n.ref;"function"==typeof r?r(e):r&&"object"===Jo(r)&&(r.current=e)},onMouseEnter:h,onMouseLeave:g,onMouseDown:_,onKeyDown:_,onFocus:function(e){"keyboard"===r&&h(),s(!0)},onBlur:function(e){g(),s(!1)},"aria-labelledby":m});return At("div",{className:"dm-c-tooltip-wrapper".concat(f?" dm-c-tooltip-wrapper--has-focus":""),children:[O,At("div",{id:m,ref:i,className:"dm-c-tooltip dm-c-tooltip--".concat(d||"hidden"," ").concat(a?"dm-c-tooltip--is-visible":""),role:"tooltip","aria-hidden":!a,children:n})]})};function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach(function(t){ui(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ui(e,t,n){return(t=function(e){var t=function(e){if("object"!=ri(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ri(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ri(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=function(e){var t=e.buttonId,n=e.iconId,r=e.iconSvgContent,o=e.label,i=e.showLabel,u=e.isDisabled,a=e.isExpanded,l=e.isPressed,c=e.isHidden,f=e.isOpen,s=e.variant,p=e.onClick,d=e.panelId,y=e.idPrefix,m=e.href,b=e.groupMiddle,v=e.groupStart,_=e.groupEnd,h=Gn().id,g=Er().buttonRefs,O=["dm-c-map-button",t&&"dm-c-map-button--".concat(Eo(t)),s&&"dm-c-map-button--".concat(s),i&&"dm-c-map-button--with-label"].filter(Boolean).join(" "),S=m?"a":"button",P=ii({id:"".concat(h,"-").concat(Eo(t)),className:O,onClick:p,ref:function(e){g.current&&t&&(g.current[t]=e)},"aria-disabled":u||void 0,"aria-expanded":"boolean"==typeof a?a:void 0,"aria-pressed":d?String(f):l,"aria-controls":d?"".concat(y,"-panel-").concat(Eo(d)):void 0},m?{href:m,target:"_blank",onKeyUp:function(e){" "!==e.key&&"Spacebar"!==e.key||(e.preventDefault(),e.currentTarget.click())},role:"button"}:{type:"button"}),w=At(S,ii(ii({},P),{},{children:[(n||r)&&At(Lo,{id:n,svgContent:r}),i&&At("span",{children:o})]}));return At("div",{className:["dm-c-button-wrapper",i&&" dm-c-button-wrapper--wide",v&&"dm-c-button-wrapper--group-start",b&&"dm-c-button-wrapper--group-middle",_&&"dm-c-button-wrapper--group-end"].filter(Boolean).join(" "),style:c?{display:"none"}:void 0,children:[i?w:At(ni,{content:o,children:w}),d&&At(Oi,{slot:"".concat(Eo(t),"-button")})]})};function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(e,t)||ci(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){if(e){if("string"==typeof e)return fi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fi(e,t):void 0}}function fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function si(e){var t,n=e.btn,r=e.appState,o=e.appConfig,i=e.evaluateProp,u=e.groupStart,a=e.groupMiddle,l=e.groupEnd,c=li(n,2),f=c[0],s=c[1],p=null!==(t=s[r.breakpoint])&&void 0!==t?t:{},d=function(e,t,n){var r=li(e,2)[1],o=!(!r.panelId||!t.openPanels[r.panelId]);return function(e){if("function"==typeof r.onClick)return r.onClick(e,n(function(e){return e},r.pluginId));if(r.panelId){var i=document.activeElement;t.dispatch({type:o?"CLOSE_PANEL":"OPEN_PANEL",payload:o?r.panelId:{panelId:r.panelId,props:{triggeringElement:i}}})}}}(n,r,i),y=!(!s.panelId||!r.openPanels[s.panelId]);return At(ai,{buttonId:f,iconId:i(s.iconId,s.pluginId),iconSvgContent:i(s.iconSvgContent,s.pluginId),variant:s.variant,label:i(s.label,s.pluginId),href:i(s.href,s.pluginId),showLabel:p.showLabel,isDisabled:r.disabledButtons.has(f),isHidden:r.hiddenButtons.has(f),isPressed:s.pressedWhen?r.pressedButtons.has(f):void 0,isOpen:y,onClick:d,panelId:s.panelId,idPrefix:o.id,groupStart:u,groupMiddle:a,groupEnd:l},f)}function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}var di=["evaluateProp"];function yi(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(t){_i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _i(e,t,n){return(t=function(e){var t=function(e){if("object"!=pi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hi(e){var t=e.evaluateProp,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,di),r=function(e){var t=e.slot,n=e.appState,r=e.evaluateProp,o=n.breakpoint,i=n.mode,u=dn();return Object.values(u).filter(function(e){var n,r,u,a,l=e[o];if(!l)return!1;var c=No.control.includes(l.slot),f=null===(n=null===(r=e.includeModes)||void 0===r?void 0:r.includes(i))||void 0===n||n,s=null!==(u=null===(a=e.excludeModes)||void 0===a?void 0:a.includes(i))&&void 0!==u&&u;return f&&!s&&l.slot===t&&c}).map(function(e){var t,n,i,u=wn.find(function(t){var n;return null===(n=t.manifest)||void 0===n||null===(n=n.controls)||void 0===n?void 0:n.some(function(t){return t.id===e.id})}),a=null==u?void 0:u.id;return i=e.html?At("div",{className:"dm-c-control",dangerouslySetInnerHTML:{__html:r(e.html,a)}},e.id):At(Dr(e.render,{pluginId:a,pluginConfig:null==u?void 0:u.config}),{},e.id),{id:e.id,type:"control",order:null!==(t=null===(n=e[o])||void 0===n?void 0:n.order)&&void 0!==t?t:0,element:i}})}(vi({evaluateProp:t},n)),o=function(e){var t=e.slot,n=e.appState,r=e.evaluateProp,o=n.breakpoint,i=n.mode,u=n.openPanels,a=an(),l=Object.entries(u),c=l.filter(function(e){var t,n=$o(e,1)[0],r=null===(t=a[n])||void 0===t?void 0:t[o];return null==r?void 0:r.modal}),f=c.length>0?c[c.length-1][0]:null;return l.map(function(e){var n,u,l,c,s,p=$o(e,2),d=p[0],y=p[1].props,m=a[d];if(!m)return null;var b=m[o];if(!b)return null;var v=b.modal?"modal":b.slot,_="".concat(Eo(d),"-button")===v,h=No.panel.includes(v)||_,g=null===(n=null===(u=m.includeModes)||void 0===u?void 0:u.includes(i))||void 0===n||n,O=null!==(l=null===(c=m.excludeModes)||void 0===c?void 0:c.includes(i))&&void 0!==l&&l;if(!h||!g||O)return null;if(v!==t)return null;if(b.modal&&d!==f)return null;var S=wn.find(function(e){return e.id===m.pluginId}),P=null==S?void 0:S.id,w=m.render?Dr(m.render,Go(Go({},y),{},{pluginId:P,pluginConfig:null==S?void 0:S.config})):null;return{id:d,type:"panel",order:null!==(s=b.order)&&void 0!==s?s:0,element:At(Fo,{panelId:d,panelConfig:m,props:y,WrappedChild:w,label:r(m.label,P),html:r(m.html,P)},d)}}).filter(Boolean)}(vi({evaluateProp:t},n)),i=function(e){var t=e.slot,n=e.appState,r=e.appConfig,o=e.evaluateProp,i=Qt(),u=n.breakpoint,a=function(e){var t=e.appState,n=e.buttonConfig,r=e.slot,o=e.evaluateProp,i=t.breakpoint,u=t.mode;return n?Object.entries(n).filter(function(e){var t,n,a=li(e,2),l=(a[0],a[1]),c=l[i];return!("function"==typeof l.excludeWhen&&o(l.excludeWhen,l.pluginId)||l.includeModes&&(null===(t=l.includeModes)||void 0===t||!t.includes(u))||null!==(n=l.excludeModes)&&void 0!==n&&n.includes(u)||(null==c?void 0:c.slot)!==r||!No.button.includes(c.slot))}):[]}({appState:n,appConfig:r,buttonConfig:i,slot:t,evaluateProp:o});if(!a.length)return[];var l=new Map;a.forEach(function(e,t){var n=li(e,2)[1].group;null!=n&&(l.has(n)||l.set(n,[]),l.get(n).push(t))});var c,f=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ci(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(u)throw o}}}}(l);try{for(f.s();!(c=f.n()).done;){var s=li(c.value,2),p=s[0];s[1].length<2&&l.delete(p)}}catch(e){f.e(e)}finally{f.f()}return a.map(function(e,t){var i,a,c=li(e,2),f=c[0],s=c[1],p=s.group,d=null!=p?l.get(p):null,y=!!d&&t===d[0],m=!!d&&t===d[d.length-1],b=d&&d.length>=3&&!y&&!m;return{id:f,type:"button",order:null!==(i=null===(a=s[u])||void 0===a?void 0:a.order)&&void 0!==i?i:0,element:si({btn:e,appState:n,appConfig:r,evaluateProp:o,groupStart:y,groupMiddle:b,groupEnd:m})}})}(vi({evaluateProp:t},n));return[].concat(yi(r),yi(o),yi(i)).sort(function(e,t){return e.order-t.order})}var gi=function(e){var t=e.slot,n=e.children,r=vt.Children.toArray(n).find(function(e){var t;return!1===(null===(t=e.props)||void 0===t?void 0:t.isHidden)});return At("div",{className:"dm-c-".concat(t," dm-c-panel"),style:r?void 0:{display:"none"},children:n})},Oi=function(e){var t=e.slot,n=Gn(),r=hi({slot:t,appState:Er(),appConfig:n,evaluateProp:Wr()});return r.length?At(P,{children:"actions"===t?At(gi,{slot:t,children:r.map(function(e){return e.element})}):At(P,{children:r.map(function(e){return e.element})})}):null},Si=function(){var e=Gn().id,t=Er(),n=t.breakpoint,r=t.interfaceType,o=t.preferredColorScheme,i=t.layoutRefs,u=t.isLayoutReady,a=t.hasExclusiveControl,l=t.isFullscreen,c=Ar().mapStyle;return function(){var e=Er(),t=e.dispatch,n=e.breakpoint,r=e.layoutRefs,o=Ar(),i=o.mapSize,u=(o.isMapReady,r.mainRef),a=r.bannerRef,l=r.topRef,c=r.topLeftColRef,f=r.topRightColRef,s=r.insetRef,p=r.footerRef,d=r.actionsRef,y=function(){var e=u.current,t=l.current,n=c.current,r=f.current,o=s.current,i=p.current,a=d.current;if(e&&t&&o&&i){var y=document.documentElement,m=parseInt(getComputedStyle(y).getPropertyValue("--divider-gap"),10),b=n.offsetHeight+t.offsetTop,v=e.offsetHeight-b-t.offsetTop;y.style.setProperty("--inset-offset-top","".concat(b,"px")),y.style.setProperty("--inset-max-height","".concat(v,"px"));var _=o.offsetHeight+b,h=Math.min(i.offsetTop,a.offsetTop)-m>_?0:o.offsetLeft+o.offsetWidth;y.style.setProperty("--offset-left","".concat(h,"px"));var g=r.offsetHeight+t.offsetTop,O=e.offsetHeight-i.offsetTop+m;y.style.setProperty("--right-offset-top","".concat(g,"px")),y.style.setProperty("--right-offset-bottom","".concat(O,"px"));var S=n.offsetWidth||0,P=r.offsetWidth||0,w=S||P?Math.max(S,P):0;y.style.setProperty("--top-col-width","".concat(w,"px"))}};pe(function(){requestAnimationFrame(function(){y();var e=to(r);t({type:"SET_SAFE_ZONE_INSET",payload:{safeZoneInset:e}})})},[n,i]),Co([a,u,s,d],function(){requestAnimationFrame(function(){y()})})}(),function(){var e=Er(),t=e.interfaceType,n=e.layoutRefs;se(function(){if(n.appContainerRef.current)return document.addEventListener("focusin",e),document.addEventListener("focusout",r),document.addEventListener("pointerdown",o),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",r),document.removeEventListener("pointerdown",o)};function e(e){e.target.dataset.focusVisible="keyboard"===t}function r(e){delete e.target.dataset.focusVisible}function o(e){delete document.activeElement.dataset.focusVisible}},[t,n.appContainerRef])}(),At("div",{id:"".concat(e,"-dm-app"),className:["dm-o-app","dm-o-app--".concat(n),"dm-o-app--".concat(r),"dm-o-app--".concat(l?"fullscreen":"inline"),"dm-o-app--".concat((null==c?void 0:c.appColorScheme)||o,"-app"),"dm-o-app--".concat((null==c?void 0:c.mapColorScheme)||"light","-map"),a&&"dm-o-app--exclusive-control"].filter(Boolean).join(" "),style:{backgroundColor:(null==c?void 0:c.backgroundColor)||void 0},ref:i.appContainerRef,children:[At(To,{keyboardHintPortalRef:i.topRef}),At("div",{className:"dm-o-app__overlay".concat(u?"":" dm-o-app__overlay--not-ready"),children:[At("div",{className:"dm-o-app__side",ref:i.sideRef,children:At(Oi,{slot:Do.SIDE})}),At("div",{className:"dm-o-app__main",ref:i.mainRef,children:[["mobile","tablet"].includes(n)&&At("div",{className:"dm-o-app__banner",ref:i.bannerRef,children:At(Oi,{slot:Do.BANNER})}),At("div",{className:"dm-o-app__top",ref:i.topRef,children:[At("div",{className:"dm-o-app__top-col",ref:i.topLeftColRef,children:At(Oi,{slot:Do.TOP_LEFT})}),At("div",{className:"dm-o-app__top-col",children:[At(Oi,{slot:Do.TOP_MIDDLE}),["desktop"].includes(n)&&At("div",{className:"dm-o-app__banner",ref:i.bannerRef,children:At(Oi,{slot:Do.BANNER})})]}),At("div",{className:"dm-o-app__top-col",ref:i.topRightColRef,children:At(Oi,{slot:Do.TOP_RIGHT})})]}),At("div",{className:"dm-o-app__inset",ref:i.insetRef,children:At(Oi,{slot:Do.INSET})}),At("div",{className:"dm-o-app__right",ref:i.rightRef,children:[At("div",{className:"dm-o-app__right-top",children:At(Oi,{slot:Do.RIGHT_TOP})}),At("div",{className:"dm-o-app__right-bottom",children:At(Oi,{slot:Do.RIGHT_BOTTOM})})]}),At("div",{className:"dm-o-app__middle",children:At(Oi,{slot:Do.MIDDLE})}),At("div",{className:"dm-o-app__footer",ref:i.footerRef,children:[At("div",{className:"dm-o-app__footer-col",children:At(Ro,{})}),At("div",{className:"dm-o-app__footer-col",children:[At(Oi,{slot:Do.FOOTER_RIGHT}),At("div",{className:"dm-o-app__attributions",children:At(Mo,{})})]})]}),At("div",{className:"dm-o-app__bottom",children:At(Oi,{slot:Do.BOTTOM})}),At("div",{className:"dm-o-app__actions",ref:i.actionsRef,children:At(Oi,{slot:Do.ACTIONS})})]})]}),At("div",{className:"dm-o-app__modal",children:[At(Oi,{slot:Do.MODAL}),At("div",{className:"dm-o-app__modal-backdrop"})]})]})},Pi=function(e){return se(function(){(0,vr.i)(),ht.A.emit("app:ready")},[]),At(er,{options:e,children:At(dr,{options:e,children:At(br,{children:At(wr,{children:[At(Zr,{}),At(Si,{})]})})})})};function wi(e){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wi(e)}var ji=["MapProvider","mapProviderConfig","mapFramework","plugins"],Ei=["id","load","manifest"],Ai=["InitComponent","api","reducer"];function ki(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var l=r&&r.prototype instanceof a?r:a,c=Object.create(l.prototype);return Ti(c,"_invoke",function(n,r,o){var i,a,l,c=0,f=o||[],s=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(n,r){for(a=n,l=r,t=0;!s&&c&&!o&&t<f.length;t++){var o,i=f[t],d=p.p,y=i[2];n>3?(o=y===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,a=0))}if(o||n>1)return u;throw s=!0,r}return function(o,f,y){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,y),a=f,l=y;(t=a<2?e:l)||!s;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(s=p.n<0)?l:n.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:t,done:s}}}(n,o,i),!0),c}var u={};function a(){}function l(){}function c(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(Ti(t={},r,function(){return this}),t),s=c.prototype=a.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ti(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=c,Ti(s,"constructor",c),Ti(c,"constructor",l),l.displayName="GeneratorFunction",Ti(c,o,"GeneratorFunction"),Ti(s),Ti(s,o,"Generator"),Ti(s,r,function(){return this}),Ti(s,"toString",function(){return"[object Generator]"}),(ki=function(){return{w:i,m:p}})()}function Ti(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ti=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{function i(t,n){Ti(e,t,function(e){return this._invoke(t,n,e)})}i("next",0),i("throw",1),i("return",2)}},Ti(e,t,n,r)}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach(function(t){Ri(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ri(e,t,n){return(t=function(e){var t=function(e){if("object"!=wi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=wi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==wi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Di(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ni(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xi(e,t,n,r,o,i,u){try{var a=e[i](u),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}var Li=new WeakMap,Hi=new WeakMap;function zi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){xi(i,r,o,u,a,"next",e)}function a(e){xi(i,r,o,u,a,"throw",e)}u(void 0)})}}(ki().m(function e(t,n){var r,o,i,u,a,l,c,f,s,p,d,y,m,b,v,_,h,g,O,S,P,w,j;return ki().w(function(e){for(;;)switch(e.p=e.n){case 0:o=n.MapProvider,i=n.mapProviderConfig,u=n.mapFramework,a=n.plugins,l=void 0===a?[]:a,c=Ni(n,ji),(f=Hi.get(t))||(f=new o({mapFramework:u,mapProviderConfig:i,eventBus:ht.A}),Hi.set(t,f)),null!==(r=f.capabilities)&&void 0!==r&&r.supportedShortcuts&&jt(f.capabilities.supportedShortcuts),wn.length=0,jn({id:"appConfig",manifest:Lt}),(s=Li.get(t))||(s=_t(t),Li.set(t,s)),p={_root:s,on:ht.A.on,off:ht.A.off,emit:ht.A.emit,unmount:function(){var e,n;s.unmount(),Li.delete(t),null===(e=(n=f).destroyMap)||void 0===e||e.call(n),Hi.delete(t),wn.length=0}},d=Mi(l),e.p=1,d.s();case 2:if((y=d.n()).done){e.n=5;break}if("function"!=typeof(m=y.value).load){e.n=4;break}return e.n=3,m.load();case 3:b=e.v,v=m.id,m.load,_=m.manifest,h=Ni(m,Ei),g=b.InitComponent,O=b.api,S=b.reducer,P=Ni(b,Ai),w=In(P,_),jn({id:v,InitComponent:g,api:O,reducer:S,config:h,manifest:w,_originalPlugin:m});case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,j=e.v,d.e(j);case 7:return e.p=7,d.f(),e.f(7);case 8:return s.render(At(Pi,Ci(Ci({},c),{},{mapProvider:f}))),e.a(2,p)}},e,null,[[1,6,7,8]])})),Ui.apply(this,arguments)}}};