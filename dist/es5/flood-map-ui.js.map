{"version":3,"file":"flood-map-ui.js","mappings":"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","sources":["webpack://@defra/flood-map/./node_modules/@turf/invariant/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/debounce.js","webpack://@defra/flood-map/./node_modules/@turf/helpers/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/symbols.js","webpack://@defra/flood-map/./node_modules/@turf/distance/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/viewport.js","webpack://@defra/flood-map/./node_modules/preact/dist/preact.module.js","webpack://@defra/flood-map/./node_modules/preact/hooks/dist/hooks.module.js","webpack://@defra/flood-map/./node_modules/preact/compat/dist/compat.module.js","webpack://@defra/flood-map/./node_modules/preact/compat/client.mjs","webpack://@defra/flood-map/./src/js/lib/query.js","webpack://@defra/flood-map/./src/js/store/app-actions-map.js","webpack://@defra/flood-map/./src/js/store/app-reducer.js","webpack://@defra/flood-map/./src/js/store/app-provider.jsx","webpack://@defra/flood-map/./src/js/lib/utils.js","webpack://@defra/flood-map/./src/js/store/viewport-actions-map.js","webpack://@defra/flood-map/./src/js/store/viewport-reducer.js","webpack://@defra/flood-map/./src/js/store/viewport-provider.jsx","webpack://@defra/flood-map/./src/js/store/use-app.js","webpack://@defra/flood-map/./src/js/lib/dom.js","webpack://@defra/flood-map/./src/js/hooks/use-query-state.js","webpack://@defra/flood-map/./src/js/hooks/use-resize-observer.js","webpack://@defra/flood-map/./src/js/store/use-viewport.js","webpack://@defra/flood-map/./src/js/components/padding-box.jsx","webpack://@defra/flood-map/./src/js/hooks/use-pixel-obscurred.js","webpack://@defra/flood-map/./src/js/components/target.jsx","webpack://@defra/flood-map/./src/js/components/viewport.jsx","webpack://@defra/flood-map/./src/js/components/exit.jsx","webpack://@defra/flood-map/./src/js/hooks/use-outside-interact.js","webpack://@defra/flood-map/./src/js/lib/search.js","webpack://@defra/flood-map/./src/js/store/search-actions-map.js","webpack://@defra/flood-map/./src/js/store/search-reducer.js","webpack://@defra/flood-map/./src/js/components/autocomplete.jsx","webpack://@defra/flood-map/./src/js/components/search.jsx","webpack://@defra/flood-map/./src/js/components/panel.jsx","webpack://@defra/flood-map/./src/js/components/segment-group.jsx","webpack://@defra/flood-map/./src/js/components/segments.jsx","webpack://@defra/flood-map/./src/js/components/more.jsx","webpack://@defra/flood-map/./src/js/components/layer-group.jsx","webpack://@defra/flood-map/./src/js/components/layers.jsx","webpack://@defra/flood-map/./src/js/components/logo.jsx","webpack://@defra/flood-map/./src/js/components/draw-menu.jsx","webpack://@defra/flood-map/./src/js/hooks/use-draw-handlers.js","webpack://@defra/flood-map/./src/js/components/tooltip.jsx","webpack://@defra/flood-map/./src/js/components/action-menu.jsx","webpack://@defra/flood-map/./src/js/components/draw-action.jsx","webpack://@defra/flood-map/./src/js/components/styles.jsx","webpack://@defra/flood-map/./src/js/components/keyboard.jsx","webpack://@defra/flood-map/./src/js/components/legend-button.jsx","webpack://@defra/flood-map/./src/js/components/key-button.jsx","webpack://@defra/flood-map/./src/js/components/search-button.jsx","webpack://@defra/flood-map/./src/js/components/styles-button.jsx","webpack://@defra/flood-map/./src/js/components/zoom.jsx","webpack://@defra/flood-map/./src/js/components/reset.jsx","webpack://@defra/flood-map/./src/js/components/location.jsx","webpack://@defra/flood-map/./src/js/components/map-error.jsx","webpack://@defra/flood-map/./src/js/components/viewport-label.jsx","webpack://@defra/flood-map/./src/js/components/actions.jsx","webpack://@defra/flood-map/./src/js/components/edit-button.jsx","webpack://@defra/flood-map/./src/js/components/help-button.jsx","webpack://@defra/flood-map/./src/js/components/attribution.jsx","webpack://@defra/flood-map/./src/js/components/banner.jsx","webpack://@defra/flood-map/./src/js/components/draw-constraint.jsx","webpack://@defra/flood-map/./src/js/components/scale-bar.jsx","webpack://@defra/flood-map/./src/js/components/inspector.jsx","webpack://@defra/flood-map/./src/js/components/container.jsx","webpack://@defra/flood-map/./src/app.jsx","webpack://@defra/flood-map/./src/root.js"],"sourcesContent":["// index.ts\nimport { isNumber } from \"@turf/helpers\";\nfunction getCoord(coord) {\n  if (!coord) {\n    throw new Error(\"coord is required\");\n  }\n  if (!Array.isArray(coord)) {\n    if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\n      return [...coord.geometry.coordinates];\n    }\n    if (coord.type === \"Point\") {\n      return [...coord.coordinates];\n    }\n  }\n  if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\n    return [...coord];\n  }\n  throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nfunction getCoords(coords) {\n  if (Array.isArray(coords)) {\n    return coords;\n  }\n  if (coords.type === \"Feature\") {\n    if (coords.geometry !== null) {\n      return coords.geometry.coordinates;\n    }\n  } else {\n    if (coords.coordinates) {\n      return coords.coordinates;\n    }\n  }\n  throw new Error(\n    \"coords must be GeoJSON Feature, Geometry Object or an Array\"\n  );\n}\nfunction containsNumber(coordinates) {\n  if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n    return true;\n  }\n  if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n    return containsNumber(coordinates[0]);\n  }\n  throw new Error(\"coordinates must only contain numbers\");\n}\nfunction geojsonType(value, type, name) {\n  if (!type || !name) {\n    throw new Error(\"type and name required\");\n  }\n  if (!value || value.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type\n    );\n  }\n}\nfunction featureOf(feature, type, name) {\n  if (!feature) {\n    throw new Error(\"No feature passed\");\n  }\n  if (!name) {\n    throw new Error(\".featureOf() requires a name\");\n  }\n  if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n    throw new Error(\n      \"Invalid input to \" + name + \", Feature with geometry required\"\n    );\n  }\n  if (!feature.geometry || feature.geometry.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n    );\n  }\n}\nfunction collectionOf(featureCollection, type, name) {\n  if (!featureCollection) {\n    throw new Error(\"No featureCollection passed\");\n  }\n  if (!name) {\n    throw new Error(\".collectionOf() requires a name\");\n  }\n  if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n    throw new Error(\n      \"Invalid input to \" + name + \", FeatureCollection required\"\n    );\n  }\n  for (const feature of featureCollection.features) {\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n      throw new Error(\n        \"Invalid input to \" + name + \", Feature with geometry required\"\n      );\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n      throw new Error(\n        \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n      );\n    }\n  }\n}\nfunction getGeom(geojson) {\n  if (geojson.type === \"Feature\") {\n    return geojson.geometry;\n  }\n  return geojson;\n}\nfunction getType(geojson, _name) {\n  if (geojson.type === \"FeatureCollection\") {\n    return \"FeatureCollection\";\n  }\n  if (geojson.type === \"GeometryCollection\") {\n    return \"GeometryCollection\";\n  }\n  if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n    return geojson.geometry.type;\n  }\n  return geojson.type;\n}\nexport {\n  collectionOf,\n  containsNumber,\n  featureOf,\n  geojsonType,\n  getCoord,\n  getCoords,\n  getGeom,\n  getType\n};\n//# sourceMappingURL=index.js.map","export const debounce = (fn, wait) => {\n  let timeoutId = null\n  return (...args) => {\n    window.clearTimeout(timeoutId)\n    timeoutId = window.setTimeout(() => {\n      fn(...args)\n    }, wait)\n  }\n}\n","// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\nfunction azimuthToBearing(angle) {\n  angle = angle % 360;\n  if (angle > 180) {\n    return angle - 360;\n  } else if (angle < -180) {\n    return angle + 360;\n  }\n  return angle;\n}\nfunction radiansToDegrees(radians) {\n  const normalisedRadians = radians % (2 * Math.PI);\n  return normalisedRadians * 180 / Math.PI;\n}\nfunction degreesToRadians(degrees) {\n  const normalisedDegrees = degrees % 360;\n  return normalisedDegrees * Math.PI / 180;\n}\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\nexport {\n  areaFactors,\n  azimuthToBearing,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","const { DOMParser } = window\n\nexport const parseSVG = (icon, fill, text, isDarkBasemap = false, scale = 1) => {\n  const isSelected = icon.includes('selected')\n  // let styled = text.replace(/#0f0|#00ff00|#0F0|#00FF00/g, isSelected ? isDarkBasemap ? '#ffffff' : '#0b0c0c' : 'transparent')\n  // styled = styled.replace(/#00f|#0000ff|#00F|#0000FF/g, isDarkBasemap ? '#162232' : '#ffffff')\n  const parser = new DOMParser()\n  const dom = parser.parseFromString(text, 'text/html')\n  const svg = dom.querySelector('svg')\n  // Add xmlns attribute and class to svg\n  // svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n  svg.classList.add('fm-c-symbol')\n  svg.classList.toggle('fm-c-symbol--selected', isSelected)\n  svg.classList.toggle('fm-c-symbol--dark', isDarkBasemap)\n  // Set svg height and width\n  const viewBox = svg.getAttribute('viewBox')\n  const width = parseInt(viewBox.split(' ')[2], 10) * scale\n  const height = parseInt(viewBox.split(' ')[3], 10) * scale\n  svg.setAttribute('width', width)\n  svg.setAttribute('height', height)\n  // Conditionally add fill\n  if (fill) {\n    svg.setAttribute('fill', fill)\n  }\n  // Add classnames\n  const olFill = svg.querySelectorAll('[fill=\"#0b0c0c\" i], [style*=\"fill:#0b0c0c\" i]')\n  const olStroke = svg.querySelectorAll('[stroke=\"#0b0c0c\" i], [style*=\"stroke:#0b0c0c\" i]')\n  olFill.forEach(n => n.classList.add('fm-c-symbol__ol-fill'))\n  olStroke.forEach(n => n.classList.add('fm-c-symbol__ol-stroke'))\n  const bgFill = svg.querySelectorAll('[fill=\"#fff\" i], [fill=\"#ffffff\" i], [style*=\"fill:#fff\" i], [style*=\"fill:#ffffff\" i]')\n  const bgStroke = svg.querySelectorAll('[stroke*=\"#fff\" i], [stroke*=\"#ffffff\" i], [style*=\"stroke:#fff\" i], [style*=\"stroke:#ffffff\" i]')\n  bgFill.forEach(n => n.classList.add('fm-c-symbol__bg-fill'))\n  bgStroke.forEach(n => n.classList.add('fm-c-symbol__bg-stroke'))\n  const fgFill = svg.querySelectorAll(':not(.fm-c-symbol__ol-fill):not(.fm-c-symbol__bg-fill)[fill], :not(.fm-c-symbol__ol-fill):not(.fm-c-symbol__bg-fill)[style*=\"fill\"]')\n  const fgStroke = svg.querySelectorAll(':not(.fm-c-symbol__ol-stroke):not(.fm-c-symbol__bg-stroke)[stroke], :not(.fm-c-symbol__ol-stroke):not(.fm-c-symbol__bg-stroke)[style*=\"stroke\"]')\n  fgFill.forEach(n => n.classList.add('fm-c-symbol__fg-fill'))\n  fgStroke.forEach(n => n.classList.add('fm-c-symbol__fg-stroke'))\n  return dom.body.innerHTML\n}\n","// index.ts\nimport { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians } from \"@turf/helpers\";\nfunction distance(from, to, options = {}) {\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(\n    2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n    options.units\n  );\n}\nvar turf_distance_default = distance;\nexport {\n  turf_distance_default as default,\n  distance\n};\n//# sourceMappingURL=index.js.map","import { distance as turfDistance } from '@turf/distance'\nimport { point as TurfPoint } from '@turf/helpers'\nimport { defaults } from '../store/constants'\n\nconst getBearing = (coord1, coord2) => {\n  const east = coord1[0] < coord2[0] && 'east'\n  const west = coord1[0] > coord2[0] && 'west'\n  const north = coord1[1] < coord2[1] && 'north'\n  const south = coord1[1] > coord2[1] && 'south'\n  return [east, west, north, south].filter(b => b && typeof b === 'string')\n}\n\nconst getUnits = (metres) => {\n  const MAX_METRES = 800\n  const MAX_MILES = 5000\n  const RATIO = 0.621371\n  let units\n  if (metres < MAX_METRES) {\n    units = `${metres} metres`\n  } else if (metres < MAX_MILES) {\n    units = (metres / 1000 * RATIO).toFixed(1) + ' miles'\n  } else {\n    units = Math.round((metres / 1000) * RATIO) + ' miles'\n  }\n  return units\n}\n\nconst getDirection = (coord1, coord2) => {\n  coord1 = coord1.map(n => n > 1000 ? Math.round(n) : Math.round(n * 100000) / 100000)\n  coord2 = coord2.map(n => n > 1000 ? Math.round(n) : Math.round(n * 100000) / 100000)\n  const ns1 = [coord1[0], coord1[1]]\n  const ns2 = [coord1[0], coord2[1]]\n  const ew1 = [coord1[0], coord1[1]]\n  const ew2 = [coord2[0], coord1[1]]\n  const nsd = getDistance(ns1, ns2)\n  const ewd = getDistance(ew1, ew2)\n  const bearing = getBearing(coord1, coord2)\n  const ewc = bearing.filter(b => ['east', 'west'].includes(b)).join('')\n  const nsc = bearing.filter(b => ['north', 'south'].includes(b)).join('')\n  const ew = ewc ? `${ewc} ${getUnits(ewd)}` : ''\n  const ns = nsc ? `${nsc} ${getUnits(nsd)}` : ''\n  return `${ns + (ewc && nsc ? ', ' : '') + ew}`\n}\n\nconst getArea = (bounds) => {\n  const ew = getDistance([bounds[0], bounds[1]], [bounds[2], bounds[1]])\n  const ns = getDistance([bounds[0], bounds[1]], [bounds[0], bounds[3]])\n  return `${getUnits(ew)} by ${getUnits(ns)}`\n}\n\nconst getBoundsChange = (oCentre, originalZoom, isMaxZoom, isMinZoom, center, zoom) => {\n  const isSameCentre = JSON.stringify(oCentre) === JSON.stringify(center)\n  const isSameZoom = originalZoom === zoom\n  const isMove = oCentre && originalZoom && !(isSameCentre && isSameZoom)\n  const maxZoom = isMaxZoom ? ' (Maximum zoom reached)' : ''\n  const minZoom = isMinZoom ? ' (Minimum zoom reached)' : ''\n  let change = ''\n  if (isMove) {\n    if (!isSameCentre && !isSameZoom) {\n      change = `New area${maxZoom}${minZoom}: `\n    } else if (!isSameCentre) {\n      change = `Map move: ${getDirection(oCentre, center)}, `\n    } else {\n      const direction = zoom > originalZoom ? 'in' : 'out'\n      change = `Zoomed ${direction}${maxZoom}${minZoom}: `\n    }\n  }\n  return change\n}\n\nconst getSelectedStatus = (featuresInViewport, id) => {\n  const total = featuresInViewport.length\n  const index = featuresInViewport.findIndex(f => f.id === id)\n  return index >= 0 && `${total} feature${total !== 1 ? 's' : ''} in this area. ${featuresInViewport[index].name}. ${index + 1} of ${total} highlighted.`\n}\n\nconst getOffsetBoundingClientRect = (el) => {\n  const offsetParent = el.closest('[data-fm-main]') || document.body\n  return offsetParent.getBoundingClientRect()\n}\n\nconst isCirclePolygon = (geometry) => {\n  const coordinates = geometry?.coordinates?.[0]\n\n  // Expect exactly 64 points\n  if (coordinates?.length !== 65) {\n    return false\n  }\n\n  // Compute approximate centre using two opposite points\n  const [x1, y1] = coordinates[0]\n  const [x2, y2] = coordinates[32]\n  const center = [(x1 + x2) / 2, (y1 + y2) / 2]\n\n  let minDist = Infinity; let maxDist = -Infinity\n  let minEdge = Infinity; let maxEdge = -Infinity\n\n  for (let i = 0; i < 64; i++) {\n    const [xA, yA] = coordinates[i]\n    const [xB, yB] = coordinates[(i + 1) % 64]\n\n    // Distance from center\n    const dist = Math.hypot(xA - center[0], yA - center[1])\n    minDist = Math.min(minDist, dist)\n    maxDist = Math.max(maxDist, dist)\n\n    // Distance to next vertex (edge length)\n    const edgeDist = Math.hypot(xB - xA, yB - yA)\n    minEdge = Math.min(minEdge, edgeDist)\n    maxEdge = Math.max(maxEdge, edgeDist)\n  }\n\n  // Need to revist tolerance as they depend on size too\n  const WSG84_TOLERANCE = 0.3\n  const BNG_TOLERANCE = 0.3\n  const tolerance = detectCoordinateType(center) === 'WSG84' ? WSG84_TOLERANCE : BNG_TOLERANCE\n\n  return Math.abs(maxDist - minDist) < tolerance && Math.abs(maxEdge - minEdge) < tolerance\n}\n\nconst metresToImperial = (metres) => {\n  const MILE = 1609.344\n  const YARD = 0.9144\n  const pluralize = (value, singular, plural) => `${value} ${value === 1 ? singular : plural}`\n  if (metres >= MILE) {\n    const miles = Math.floor(metres / MILE)\n    const remainder = metres % MILE\n    const yards = Math.floor(remainder / YARD)\n    return `${pluralize(miles, 'mile', 'miles')}, ${pluralize(yards, 'yard', 'yards')}`\n  } else {\n    const yards = Math.floor(metres / YARD)\n    return `${pluralize(yards, 'yard', 'yards')}`\n  }\n}\n\nconst squareMetresToKm = (metres) => {\n  const SQ_KM = 1_000_000\n  if (metres >= SQ_KM) {\n    let km2 = (metres / SQ_KM).toFixed(2)\n    km2 = Number(km2).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 2 })\n    return `${km2} km`\n  } else {\n    return `${Math.ceil(metres).toLocaleString()} m`\n  }\n}\n\nexport const parseDimensions = (dimensions) => {\n  const { area, length } = dimensions\n  const areaDisplay = area ? squareMetresToKm(area) : null\n  const lengthDisplay = length ? metresToImperial(length) : null\n  return { ...dimensions, areaDisplay, lengthDisplay }\n}\n\nexport const detectCoordinateType = (coords) => {\n  if (coords.length === 3) {\n    return 'BNG' // If a third value exists (zone), it's UTM\n  }\n  const [x, y] = coords\n  if (x >= -180 && x <= 180 && y >= -90 && y <= 90) {\n    return 'WSG84'\n  }\n  if (x > 180 && y > 90) {\n    return 'BNG'\n  }\n  return 'Unknown'\n}\n\nexport const getDistance = (coord1, coord2) => {\n  let distance\n  if (coord1[0] > 1000) {\n    const x = Math.abs(coord1[0] - coord2[0])\n    const y = Math.abs(coord1[1] - coord2[1])\n    const dist = Math.sqrt((Math.pow(x, 2)) + (Math.pow(y, 2)))\n    distance = dist\n  } else {\n    const p1 = new TurfPoint(coord1)\n    const p2 = new TurfPoint(coord2)\n    distance = turfDistance(p1, p2, { units: 'metres' })\n  }\n  return Math.round(distance)\n}\n\nexport const getFocusPadding = (el, scale) => {\n  let padding\n  if (el) {\n    const parent = getOffsetBoundingClientRect(el)\n    const box = el.getBoundingClientRect()\n    const boxX = box.x || box.left\n    const boxY = box.y || box.top\n    const parentX = parent.x || parent.left\n    const parentY = parent.y || parent.top\n    padding = {\n      top: (boxY - parentY) / scale,\n      left: (boxX - parentX) / scale,\n      right: (parent.width - box.width - (boxX - parentX)) / scale,\n      bottom: (parent.height - box.height - (boxY - parentY)) / scale\n    }\n  }\n  // Addresses repid browser resizing\n  const isValid = Object.values(padding).every(i => i >= 0)\n  return isValid && padding\n}\n\nexport const getFocusBounds = (el, scale) => {\n  let bounds\n  if (el) {\n    const parent = getOffsetBoundingClientRect(el)\n    const box = el.getBoundingClientRect()\n    const m = 10\n    bounds = [[\n      ((box.x || box.left) - (parent.x || parent.left) + m) / scale,\n      (((box.y || box.top) - (parent.y || parent.top)) + box.height - m) / scale\n    ], [\n      (box.width + ((box.x || box.left) - (parent.x || parent.left)) - m) / scale,\n      ((box.y || box.top) - (parent.y || parent.top) + m) / scale\n    ]]\n  }\n  return bounds\n}\n\nexport const getMapPixel = (el, scale) => {\n  const parent = getOffsetBoundingClientRect(el)\n  const box = el.getBoundingClientRect()\n  const left = ((box.x || box.left) - (parent.x || parent.left)) / scale\n  const top = ((box.y || box.top) - (parent.y || parent.top)) / scale\n  const offsetLeft = (box.width / 2) / scale\n  const offsetTop = (box.height / 2) / scale\n  const point = [left + offsetLeft, top + offsetTop]\n  return point\n}\n\nexport const getDescription = (place, bounds, features) => {\n  const { featuresTotal, isFeaturesInMap, isPixelFeaturesAtPixel, isPixelFeaturesInMap } = features || {}\n  let text = ''\n\n  if (featuresTotal) {\n    text = `${featuresTotal} feature${featuresTotal === 1 ? '' : 's'} in this area. `\n  } else if (isPixelFeaturesAtPixel) {\n    text = 'Data visible at the center coordinate. '\n  } else if (isPixelFeaturesInMap) {\n    text = 'No data visible at the center coordinate. '\n  } else if (isFeaturesInMap) {\n    text = 'No feature data in this area. '\n  } else {\n    // Null\n  }\n\n  const focusPlace = place ? `approximate centre ${place}, ` : ''\n  const focusArea = `covering ${getArea(bounds)}`\n  const findPlace = place ? '' : 'Use ALT plus I to find closest place'\n\n  return `${focusPlace}${focusArea}. ${text}${findPlace}`\n}\n\nexport const getStatus = (action, isBoundsChange, place, state, current) => {\n  const { center, bounds, zoom, isMaxZoom, isMinZoom, features, label, selectedId } = current\n  let status = null\n  if (label) {\n    status = label\n  } else if (selectedId) {\n    const selected = getSelectedStatus(features?.featuresInViewport, selectedId)\n    status = selected\n  } else if (action === 'DATA') {\n    status = 'Map change: new data. Use ALT plus I to get new details'\n  } else if (isBoundsChange) {\n    const direction = getBoundsChange(state.center, state.zoom, isMaxZoom, isMinZoom, center, zoom)\n    const description = getDescription(place, bounds, features)\n    status = `${direction}${direction ? 'f' : 'F'}ocus area ${description}`\n  } else {\n    status = ''\n  }\n  return status\n}\n\nexport const getPlace = (isUserInitiated, action, oPlace, newPlace) => {\n  let place\n  if (!isUserInitiated) {\n    if (action === 'RESET') {\n      place = oPlace\n    } else {\n      place = newPlace\n    }\n  }\n  return place\n}\n\nexport const parseCentre = (value, srid) => {\n  const mb = defaults[`MAX_BOUNDS_${srid}`]\n  let isInRange\n  let coords = value?.split(',')\n  // Query string formed correctly\n  if (!(Array.isArray(coords) && coords?.length === 3)) {\n    return null\n  }\n  // Coords are numbers\n  coords = coords.slice(0, 2).map(x => parseFloat(x))\n  coords = !coords.some(isNaN) && coords\n  if (!coords) {\n    return null\n  }\n  // Coords are within the valid range\n  if (srid === '27700') {\n    isInRange = !!coords.filter(c => c >= 0).length\n  } else {\n    isInRange = (coords[0] > mb[0] && coords[0] < mb[2]) && (coords[1] > mb[1] && coords[1] < mb[3])\n  }\n  return isInRange ? coords : null\n}\n\nexport const parseZoom = value => {\n  const coords = value?.split(',')\n  if (!(Array.isArray(coords) && coords?.length === 3)) {\n    return null\n  }\n  const zoom = parseFloat(coords[2])\n  return !zoom.isNaN ? zoom : null\n}\n\nexport const getShortcutKey = (e, featuresViewport) => {\n  const number = e.code.slice(-1)\n  const hasFeature = featuresViewport.length >= number\n  const id = hasFeature ? featuresViewport[number - 1].id : ''\n  return id\n}\n\nexport const getFeatureShape = (feature) => {\n  if (isCirclePolygon(feature?.geometry)) {\n    return 'circle'\n  }\n  if (feature?.geometry?.type?.toLowerCase() === 'polygon') {\n    const coords = feature.geometry?.coordinates\n    const flatCoords = (coords && Array.from(new Set(coords.flat(2)))) || null\n    return flatCoords?.length === 4 ? 'square' : 'polygon'\n  }\n  return null\n}\n\nexport const spatialNavigate = (direction, start, pixels) => {\n  const quadrant = pixels.filter(p => {\n    const offsetX = Math.abs(p[0] - start[0])\n    const offsetY = Math.abs(p[1] - start[1])\n    let isQuadrant = false\n    if (direction === 'up') {\n      isQuadrant = p[1] <= start[1] && offsetY >= offsetX\n    } else if (direction === 'down') {\n      isQuadrant = p[1] > start[1] && offsetY >= offsetX\n    } else if (direction === 'left') {\n      isQuadrant = p[0] <= start[0] && offsetY < offsetX\n    } else {\n      isQuadrant = p[0] > start[0] && offsetY < offsetX\n    }\n    return isQuadrant && (JSON.stringify(p) !== JSON.stringify(start))\n  })\n  if (!quadrant.length) {\n    quadrant.push(start)\n  }\n  const pythagorean = (a, b) => Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))\n  const distances = quadrant.map(p => pythagorean(Math.abs(start[0] - p[0]), Math.abs(start[1] - p[1])))\n  const closest = quadrant[distances.indexOf(Math.min(...distances))]\n  return pixels.findIndex(i => JSON.stringify(i) === JSON.stringify(closest))\n}\n\nexport const getScale = (size) => {\n  return { small: 1, medium: 1.5, large: 2 }[size] || 1\n}\n\nexport const getPoint = (el, e, scale) => {\n  const { left, top } = el.getBoundingClientRect()\n  const { clientX, clientY } = e.nativeEvent\n  const x = clientX - left\n  const y = clientY - top\n  return [x / scale, y / scale]\n}\n\nexport const getStyle = (styles = []) => {\n  const validStyles = styles.filter(s => defaults.STYLES.includes(s.name))\n  const style = window.localStorage.getItem('style')\n  return validStyles.find(s => s.name === style) || validStyles.find(s => s.name === 'default')\n}\n","var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},y=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)null==e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,v,w,d,g,_=t&&t.__k||y,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(v=u.__k[a])&&(h=-1==v.__i?p:_[v.__i]||p,v.__i=a,g=O(n,v,h,i,r,o,e,f,c,s),w=v.__e,v.ref&&h.ref!=v.ref&&(h.ref&&q(h.ref,null,v),s.push(v.ref,v.__c||w,v)),null==d&&null!=w&&(d=w),4&v.__u||h.__k===v.__k?f=A(v,f,n):\"function\"==typeof v.type&&void 0!==g?f=g:w&&(f=w.nextSibling),v.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&0==(2&f.__u))return u;if(t>(null!=f&&0==(2&f.__u)?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,y,v,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),y=h.props,v=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,v,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(y,v)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,y,v,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)y=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?v=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||y&&(h.__html==y.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(y&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(v)?v:[v],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function B(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}function G(n,l){E(n,l,G)}function J(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=null==u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=y.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,t as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as l,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as p,useId as m,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}),o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn,ln={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var l=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===l&&\"no\"===c?c=!1:\"o\"===l[0]&&\"n\"===l[1]?\"ondoubleclick\"===l?i=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===l?i=\"onfocusin\":\"onblur\"===l?i=\"onfocusout\":J.test(i)&&(i=l):l=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===l&&u[i=l]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",ln)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),cn=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),cn=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return cn.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:p,useDeferredValue:w,useEffect:h,useId:m,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function pn(n){return!!n&&n.$$typeof===q}function mn(n){return pn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return pn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=pn,Rn={useState:a,useId:m,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:p,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:c,createFactory:dn,cloneElement:_n,createRef:l,Fragment:u,isValidElement:pn,isElement:xn,isFragment:mn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,mn as isFragment,yn as isMemo,pn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import { render, hydrate, unmountComponentAtNode } from 'preact/compat';\n\nexport function createRoot(container) {\n\treturn {\n\t\t// eslint-disable-next-line\n\t\trender: function (children) {\n\t\t\trender(children, container);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\tunmount: function () {\n\t\t\tunmountComponentAtNode(container);\n\t\t}\n\t};\n}\n\nexport function hydrateRoot(container, children) {\n\thydrate(children, container);\n\treturn createRoot(container);\n}\n\nexport default {\n\tcreateRoot,\n\thydrateRoot\n};\n","export const parseSegments = (dataSegments, seg) => {\n  let segments = null\n  if (dataSegments) {\n    const queryParams = new URLSearchParams(window.location.search)\n    if (!seg) {\n      seg = queryParams.get('seg')?.split(',')\n    }\n    segments = []\n    for (const g of dataSegments) {\n      const hasParent = !!g.parentIds?.length\n      const hasActiveParent = g.parentIds?.some(p => segments.includes(p))\n      const q = g.items.find(s => seg?.includes(s?.id))?.id\n      const c = g.items.find(l => l.isSelected)?.id || g.items[0]?.id\n      if (!(hasParent && !hasActiveParent)) {\n        segments.push(q || c)\n      }\n    }\n  }\n  return segments\n}\n\nexport const parseLayers = (dataLayers) => {\n  let layers = null\n  if (dataLayers) {\n    const queryParams = new URLSearchParams(window.location.search)\n    const lyr = queryParams.get('lyr')?.split(',') || []\n    layers = []\n    for (const g of dataLayers) {\n      const c = g.items.filter(l => l.id && l.isSelected).map(l => l.id)\n      const q = g.items.filter(l => lyr.includes(l.id)).map(l => l.id)\n      layers = layers.concat(queryParams.has('lyr') ? q : c)\n    }\n    layers = [...new Set(layers)]\n  }\n  return layers\n}\n\nexport const parseGroups = (data, segments, layers, zoom, hasInputs, queryLabel) => {\n  // Filter groups\n  let groups = data?.filter(g => {\n    const hasValidParent = !g.parentIds || g.parentIds.some(i => segments?.includes(i))\n    const isValidMinZoom = !g.minZoom || g.minZoom <= zoom\n    const isValidMaxZoom = !g.maxZoom || g.maxZoom > zoom\n    return hasValidParent && isValidMinZoom && isValidMaxZoom\n  })\n\n  // Flatten groups and items and remove non-checked items for use in key\n  if (!hasInputs) {\n    const ramps = []\n    let flatItems = []\n    groups.forEach(g => {\n      const checkedRadioId = g.items.find(item => layers.includes(item.id))?.id\n      g.items.forEach(item => {\n        const isChecked = g?.type === 'radio' ? item.id === checkedRadioId : layers.includes(item.id)\n        const isVisible = isChecked || !item.id\n        if (!(isVisible && (item.fill || item.icon || item.items?.length))) {\n          return\n        }\n        if (item.display === 'ramp') {\n          ramps.push(item)\n        } else if (item.items) {\n          flatItems = flatItems.concat(item.items)\n        } else {\n          flatItems.push(item)\n        }\n      })\n    })\n\n    // Add query polygon\n    if (queryLabel) {\n      flatItems.push({\n        display: 'query-polygon',\n        label: queryLabel\n      })\n    }\n\n    groups = ramps.concat([{ items: flatItems }]).filter(g => g.items.length)\n  }\n\n  return groups\n}\n","const containerReady = (state) => {\n  return {\n    ...state,\n    isContainerReady: true\n  }\n}\n\nconst setSearch = (state, payload) => {\n  return {\n    ...state,\n    search: payload.data\n  }\n}\n\nconst setInfo = (state, payload) => {\n  // Conditioanlly set featureId\n  const featureId = payload?.featureId || state.featureId\n  // Restore previous panel only if it was the key\n  let previousPanel = (state.activePanel !== 'INFO' && state.activePanel) || state.previousPanel\n  previousPanel = previousPanel === 'KEY' && 'KEY'\n  let activePanel = state.activePanel === 'INFO' ? state.previousPanel : state.activePanel\n  activePanel = payload ? 'INFO' : activePanel\n  return {\n    ...state,\n    featureId,\n    info: payload,\n    previousPanel,\n    activePanel,\n    hasViewportLabel: false,\n    hash: state.hash + 1\n  }\n}\n\nconst setSelected = (state, payload) => {\n  return {\n    ...state,\n    featureId: payload.featureId,\n    targetMarker: payload.targetMarker,\n    activePanelHasFocus: payload.activePanelHasFocus || state.activePanelHasFocus,\n    hash: state.hash + (payload.featureId ? 1 : 0)\n  }\n}\n\nconst setBanner = (state, payload) => {\n  return {\n    ...state,\n    banner: payload\n  }\n}\n\nconst setNextSelected = (state, payload) => {\n  let featureId = state.featureId\n  const { key, features } = payload\n  if (features.length) {\n    const current = features.findIndex(f => f.id === featureId) || 0\n    const total = features.length\n    const down = current === total - 1 ? 0 : current + 1\n    const up = current > 0 ? current - 1 : total - 1\n    let nextIndex = key === 'PageDown' ? down : up\n    nextIndex = nextIndex < features.length ? nextIndex : 0\n    featureId = features[nextIndex]?.id || features[0]?.id\n  }\n  return {\n    ...state,\n    featureId,\n    activePanel: null\n  }\n}\n\nconst error = (state, payload) => {\n  return {\n    ...state,\n    error: {\n      label: payload.label,\n      message: payload.message\n    },\n    activePanel: 'ERROR',\n    hasViewportLabel: false\n  }\n}\n\nconst open = (state, payload) => {\n  return {\n    ...state,\n    previousPanel: state.activePanel,\n    activePanel: payload,\n    activePanelHasFocus: true,\n    hasViewportLabel: false,\n    targetMarker: payload === 'SEARCH' && null,\n    featureId: payload === 'INFO' ? state.featureId : '',\n    hash: state.hash + 1\n  }\n}\n\nconst close = (state) => {\n  // Restore previous panel if it wasn't an info or legend\n  const activePanel = state.previousPanel !== 'INFO' ? state.previousPanel : null\n  return {\n    ...state,\n    featureId: null,\n    targetMarker: null,\n    previousPanel: null,\n    activePanelHasFocus: !activePanel,\n    isKeyExpanded: false,\n    activePanel\n  }\n}\n\nconst setMode = (state, payload) => {\n  return {\n    ...state,\n    drawMode: payload.value,\n    query: payload.query,\n    shape: payload.shape,\n    activePanel: state.activePanel === 'INSPECTOR' ? state.activePanel : null,\n    featureId: null,\n    targetMarker: null\n  }\n}\n\nconst setIsDarkMode = (state, payload) => {\n  const { style, colourScheme } = payload\n  const { hasAutoMode } = state\n  const isDarkMode = style?.name === 'dark' || (hasAutoMode && colourScheme === 'dark')\n  return {\n    ...state,\n    isDarkMode\n  }\n}\n\nconst setIsTargetVisible = (state, payload) => {\n  return {\n    ...state,\n    isTargetVisible: payload\n  }\n}\n\nconst toggleSegments = (state, payload) => {\n  return {\n    ...state,\n    segments: payload.segments,\n    layers: payload.layers,\n    featureId: null,\n    targetMarker: null,\n    isKeyExpanded: false\n  }\n}\n\nconst toggleLayers = (state, payload) => {\n  return {\n    ...state,\n    layers: payload\n  }\n}\n\nconst toggleKeyExpanded = (state, payload) => {\n  return {\n    ...state,\n    isKeyExpanded: payload\n  }\n}\n\nconst toggleDrawExpanded = (state, payload) => {\n  return {\n    ...state,\n    isDrawMenuExpanded: payload\n  }\n}\n\nconst toggleViewportLabel = (state, payload) => {\n  const hasViewportLabel = payload.data && (!state.isMobile || !state.activePanel || state.activePanel === 'LEGEND')\n  return {\n    ...state,\n    hasViewportLabel\n  }\n}\n\nexport const actionsMap = {\n  CONTAINER_READY: containerReady,\n  SET_AVAILABILITY: setSearch,\n  SET_INFO: setInfo,\n  ERROR: error,\n  OPEN: open,\n  CLOSE: close,\n  SET_MODE: setMode,\n  SET_SELECTED: setSelected,\n  SET_BANNER: setBanner,\n  SET_NEXT_SELECTED: setNextSelected,\n  SET_IS_DARK_MODE: setIsDarkMode,\n  SET_IS_TARGET_VISIBLE: setIsTargetVisible,\n  TOGGLE_SEGMENTS: toggleSegments,\n  TOGGLE_LAYERS: toggleLayers,\n  TOGGLE_KEY_EXPANDED: toggleKeyExpanded,\n  TOGGLE_DRAW_EXPANDED: toggleDrawExpanded,\n  TOGGLE_VIEWPORT_LABEL: toggleViewportLabel\n}\n","import { parseSegments, parseLayers } from '../lib/query'\nimport { actionsMap } from './app-actions-map'\nimport { getStyle, getFeatureShape } from '../lib/viewport'\nimport { drawTools as defaultDrawTools } from '../store/constants'\n\nconst getIsDarkMode = (style, hasAutoMode) => {\n  return style === 'dark' || (hasAutoMode && window?.matchMedia('(prefers-color-scheme: dark)').matches)\n}\n\nconst getActivePanel = (drawMode, info, featureId, targetMarker, legend) => {\n  let panel\n  if (drawMode === 'default' && info && (featureId || targetMarker)) {\n    panel = 'INFO'\n  } else if (drawMode === 'default' && legend?.isVisible) {\n    panel = legend?.display === 'inset' ? 'LEGEND' : 'KEY'\n  } else {\n    panel = null\n  }\n  return panel\n}\n\nconst parseDrawTools = (tool, tools, defaultTools) => {\n  // Remove invalid tools\n  let validTools = tools ? defaultTools.filter(d => tools.includes(d.id)) : defaultTools\n  // Sort tools on order provided by config if any\n  validTools = validTools.sort((a, b) => { return tools?.indexOf(a.id) - tools?.indexOf(b.id) })\n  // Find valid initial tool or return null\n  const validTool = validTools.find(m => m.id === tool) ? tool : null\n  return [validTool, validTools]\n}\n\nexport const initialState = (options) => {\n  const { styles, legend, search, info, banner, draw, hasAutoMode } = options\n  const style = getStyle(styles)\n  const featureId = info?.featureId || options.featureId\n  const targetMarker = info?.coord ? { coord: info.coord, hasData: info.hasData } : null\n  const query = draw?.feature\n  const [drawTool, drawTools] = parseDrawTools(draw?.tool, draw?.tools, defaultDrawTools)\n  const featureShape = getFeatureShape(query)\n  const shape = featureShape || drawTool || drawTools[0].id\n  const drawMode = drawTool ? defaultDrawTools.find(m => m.id === drawTool).drawMode : 'default'\n  const activePanel = getActivePanel(drawMode, info, featureId, targetMarker, legend)\n\n  return {\n    isContainerReady: false,\n    search,\n    legend,\n    info,\n    banner,\n    segments: legend && parseSegments(legend.segments),\n    layers: legend && parseLayers(legend.key),\n    isKeyExpanded: false,\n    isDrawMenuExpanded: draw?.collapse !== 'collapse',\n    isDarkMode: getIsDarkMode(style?.name, hasAutoMode),\n    hasAutoMode,\n    featureId,\n    targetMarker: !featureId && targetMarker,\n    pointerQuery: null,\n    previousPanel: null,\n    activePanel,\n    activePanelHasFocus: false,\n    hasViewportLabel: false,\n    draw,\n    drawMode,\n    drawTool,\n    drawTools,\n    shape,\n    isFrameVisible: false,\n    isTargetVisible: false,\n    query,\n    hash: 1\n  }\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n  return state\n}\n","import React, { createContext, useReducer, useMemo } from 'react'\nimport { initialState, reducer } from './app-reducer.js'\n\nexport const AppContext = createContext()\n\nexport const AppProvider = ({ options, app, children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState(options))\n\n  const store = useMemo(() => ({\n    ...app,\n    ...state,\n    options,\n    dispatch\n  }))\n\n  return (\n    <AppContext.Provider value={store}>\n      {children}\n    </AppContext.Provider>\n  )\n}\n","export const parseAttribute = a => {\n  try {\n    return JSON.parse(a)\n  } catch (e) {\n    return a\n  }\n}\n\nexport const isSame = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b)\n}\n\nexport const getQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.get(name)\n}\n\nexport const hasQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.has(name)\n}\n\nexport const getImagePos = (style) => {\n  return { default: '0 0', dark: '0 -120px', aerial: '0 -240px', deuteranopia: '0 -360px', tritanopia: '0 -480px' }[style]\n}\n\nexport const getColor = (value, style) => {\n  const colors = value?.replace(/\\s/g, '').split(',').map(f => f.includes(':') ? f : `default:${f}`)\n  const color = colors?.length ? (colors.find(f => f.includes(style)) || colors[0]).split(':')[1] : null\n  return color\n}\n","import { getDescription, getStatus, getPlace, parseDimensions } from '../lib/viewport'\nimport { isSame } from '../lib/utils'\nimport { margin } from './constants'\n\nconst ready = (state, payload) => {\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const zoom = payload.zoom\n  return {\n    ...state,\n    zoom,\n    currentZoom: zoom,\n    resolution: payload.resolution,\n    attributions,\n    isReady: !state.style?.url || zoom\n  }\n}\n\nconst update = (state, payload) => {\n  const { oPlace, originalZoom, isUserInitiated, action } = state\n  const { bounds, center, zoom, features } = payload\n  const place = getPlace(isUserInitiated, action, oPlace, state.place)\n  const original = { oBbox: bounds, oCentre: center, rZoom: zoom, originalZoom, oPlace: place }\n  const isBoundsChange = !isSame(state.bounds, bounds)\n  const isUpdate = ['GEOLOC', 'DATA'].includes(action) || isBoundsChange\n  const status = getStatus(action, isBoundsChange, place, state, payload)\n  const newAction = isBoundsChange && action === 'SEARCH' && !isUserInitiated ? 'SEARCH' : null\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const dimensions = payload.dimensions ? parseDimensions(payload.dimensions) : {}\n  const isDrawValid = state.drawMaxArea ? payload.dimensions?.area <= state.drawMaxArea : true\n\n  return {\n    ...state,\n    ...(['INIT', 'GEOLOC'].includes(action) && original),\n    place,\n    bounds,\n    center,\n    zoom,\n    features,\n    status,\n    isUpdate,\n    isMoving: false,\n    isStatusVisuallyHidden: true,\n    action: newAction,\n    attributions,\n    dimensions,\n    isDrawValid\n  }\n}\n\nconst updatePlace = (state, payload) => {\n  const { bounds, features } = state\n  let status = getDescription(payload, bounds, features)\n  status = status ? String(status[0]).toUpperCase() + String(status).slice(1) : status\n\n  return {\n    ...state,\n    place: payload,\n    status,\n    isUserInitiated: false,\n    isStatusVisuallyHidden: true\n  }\n}\n\nconst moveStart = (state, payload) => {\n  return {\n    ...state,\n    status: '',\n    isMoving: true,\n    isUpdate: false,\n    isUserInitiated: payload,\n    isStatusVisuallyHidden: true,\n    hasShortcuts: true,\n    action: null\n  }\n}\n\nconst move = (state, payload) => {\n  const { isMaxZoom, isMinZoom, zoom, resolution } = payload\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const currentZoom = zoom\n  const dimensions = payload.dimensions ? parseDimensions(payload.dimensions) : {}\n  const isDrawValid = state.drawMaxArea ? payload.dimensions?.area <= state.drawMaxArea : true\n\n  return {\n    ...state,\n    isMaxZoom,\n    isMinZoom,\n    currentZoom,\n    resolution,\n    attributions,\n    dimensions,\n    isDrawValid\n  }\n}\n\nconst reset = (state) => {\n  return {\n    ...state,\n    place: state.oPlace,\n    action: 'RESET',\n    isUpdate: false\n  }\n}\n\nconst search = (state, payload) => {\n  return {\n    ...state,\n    bounds: payload.bounds,\n    center: payload.center,\n    zoom: payload.zoom,\n    place: payload.place,\n    action: 'SEARCH',\n    isStatusVisuallyHidden: true,\n    isUpdate: false,\n    padding: null,\n    timestamp: Date.now()\n  }\n}\n\nconst geoloc = (state, payload) => {\n  return {\n    ...state,\n    place: payload.place,\n    center: payload.center,\n    bounds: null,\n    status: '',\n    isStatusVisuallyHidden: true,\n    action: 'GEOLOC',\n    isUpdate: false\n  }\n}\n\nconst zoomIn = (state) => {\n  return {\n    ...state,\n    action: 'ZOOM_IN',\n    isUserInitiated: true,\n    isUpdate: false\n  }\n}\n\nconst zoomOut = (state) => {\n  return {\n    ...state,\n    action: 'ZOOM_OUT',\n    isUserInitiated: true,\n    isUpdate: false\n  }\n}\n\nconst setStyle = (state, payload) => {\n  const { style, colourScheme } = payload\n  const defaultName = colourScheme === 'light' && style === 'dark' && 'default'\n  const darkName = colourScheme === 'dark' && style === 'default' && 'dark'\n  const styleName = defaultName || darkName || style\n  const newStyle = state.styles.find(s => s.name === styleName)\n  const attributions = newStyle.attribution ? [newStyle.attribution] : []\n  return {\n    ...state,\n    action: 'STYLE',\n    isUpdate: false,\n    style: newStyle,\n    attributions\n  }\n}\n\nconst toggleConstraints = (state, payload = {}) => {\n  const { styles, minZoom, maxZoom } = payload\n  const styleName = state.style.name\n  let style\n  if (styles?.length) {\n    style = styles?.find(s => s.name === styleName) || styles[0]\n  } else {\n    style = state.originalStyles.find(s => s.name === styleName) || state.originalStyles[0]\n  }\n  return {\n    ...state,\n    action: 'STYLE',\n    isUpdate: false,\n    minZoom: minZoom || state.originalMinZoom,\n    maxZoom: maxZoom || state.originalMaxZoom,\n    styles: styles || state.originalStyles,\n    style,\n    dimensions: {},\n    isDrawValid: !state.drawMaxArea\n  }\n}\n\nconst setSize = (state, payload) => {\n  return {\n    ...state,\n    action: 'SIZE',\n    isUpdate: false,\n    padding: null,\n    size: payload\n  }\n}\n\nconst clearStatus = (state) => {\n  return {\n    ...state,\n    status: '',\n    isStatusVisuallyHidden: false\n  }\n}\n\nconst clearFeatures = (state) => {\n  const status = state.action === 'SEARCH' ? state.status : null\n\n  return {\n    ...state,\n    features: null,\n    status,\n    action: 'DATA'\n  }\n}\n\nconst setPadding = (state, payload) => {\n  const { panel, viewport, isMobile, isAnimate } = payload\n  let padding = null\n  const pRect = panel?.getBoundingClientRect()\n  if (pRect?.height > 0) {\n    const vRect = viewport.getBoundingClientRect()\n    const oHeight = pRect.bottom - vRect.top\n    const oWidth = pRect.right - vRect.left\n    const isPortrait = viewport.offsetHeight / oHeight > viewport.offsetWidth / oWidth\n    const top = isPortrait ? Math.round(pRect.height) + margin.TOP : 0\n    const left = isPortrait ? 0 : Math.round(pRect.width) + margin.LEFT\n    padding = {\n      ...isMobile ? { bottom: margin.BOTTOM + pRect.height } : {},\n      ...isPortrait && !isMobile ? { top } : {},\n      ...!isPortrait && !isMobile ? { left } : {}\n    }\n  }\n  return {\n    ...state,\n    isAnimate,\n    padding\n  }\n}\n\nconst toggleShortcuts = (state, payload) => {\n  return {\n    ...state,\n    hasShortcuts: payload\n  }\n}\n\nconst clear = (state) => {\n  return {\n    ...state,\n    hasShortcuts: false,\n    isVertexEdit: false\n  }\n}\n\nexport const actionsMap = {\n  READY: ready,\n  UPDATE: update,\n  UPDATE_PLACE: updatePlace,\n  MOVE_START: moveStart,\n  MOVE: move,\n  RESET: reset,\n  SEARCH: search,\n  GEOLOC: geoloc,\n  ZOOM_IN: zoomIn,\n  ZOOM_OUT: zoomOut,\n  SET_STYLE: setStyle,\n  TOGGLE_CONSTRAINTS: toggleConstraints,\n  SET_SIZE: setSize,\n  CLEAR: clear,\n  CLEAR_STATUS: clearStatus,\n  CLEAR_FEATURES: clearFeatures,\n  SET_PADDING: setPadding,\n  TOGGLE_SHORTCUTS: toggleShortcuts\n}\n","import { parseCentre, parseZoom, getStyle } from '../lib/viewport'\nimport { actionsMap } from './viewport-actions-map'\n\nconst getSize = (hasSizeCapability) => {\n  return (hasSizeCapability && window.localStorage.getItem('size')) || 'small'\n}\n\nconst getBounds = (cz, center, bounds, srid) => {\n  const hasValidCentre = !!(parseCentre(cz, srid) || center)\n  return hasValidCentre ? null : bounds\n}\n\nconst getCentre = (cz, center, srid) => {\n  return parseCentre(cz, srid) || center\n}\n\nconst getZoom = (cz, zoom, minZoom, maxZoom) => {\n  let initZoom = parseZoom(cz) || zoom\n  initZoom = minZoom && initZoom ? Math.max(minZoom, initZoom) : initZoom\n  initZoom = maxZoom && initZoom ? Math.min(maxZoom, initZoom) : initZoom\n  return initZoom\n}\n\nexport const initialState = ({ hasSizeCapability, srid, bounds, extent, center, zoom, maxZoom, minZoom, place, features, styles, draw }) => {\n  const queryParams = new URLSearchParams(window.location.search)\n  const style = getStyle(styles)\n  const cz = queryParams.get('cz')\n  bounds = getBounds(cz, center, (bounds || extent), srid)\n  center = !bounds ? getCentre(cz, center, srid) : undefined\n  zoom = getZoom(cz, zoom, minZoom, maxZoom)\n\n  return {\n    bounds,\n    center,\n    zoom,\n    currentZoom: zoom,\n    resolution: null,\n    originalMinZoom: minZoom,\n    originalMaxZoom: maxZoom,\n    minZoom,\n    maxZoom,\n    isMaxZoom: zoom >= maxZoom,\n    isMinZoom: zoom < -minZoom,\n    originalStyles: styles,\n    styles,\n    style,\n    attributions: [],\n    dimensions: {},\n    place: !cz ? place : null,\n    originalZoom: zoom,\n    size: getSize(hasSizeCapability),\n    features,\n    status: '',\n    isStatusVisuallyHidden: true,\n    error: null,\n    action: 'INIT',\n    isMoving: false,\n    isUpdate: false,\n    isFeaturesChange: false,\n    isPanZoomChange: false,\n    isUserInitiated: false,\n    isReady: false,\n    hasShortcuts: true,\n    padding: null,\n    drawMaxArea: draw?.maxArea,\n    isDrawValid: !draw?.maxArea,\n    timestamp: Date.now()\n  }\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n\n  return state\n}\n","import React, { createContext, useReducer, useMemo } from 'react'\nimport { initialState, reducer } from './viewport-reducer'\n\nexport const ViewportContext = createContext()\n\nexport const ViewportProvider = ({ options, children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState(options))\n\n  const store = useMemo(() => ({\n    ...state,\n    dispatch\n  }))\n\n  return (\n    <ViewportContext.Provider value={store}>\n      {children}\n    </ViewportContext.Provider>\n  )\n}\n","import { useContext } from 'react'\n\nimport { AppContext } from './app-provider.jsx'\n\nexport const useApp = () => useContext(AppContext)\n","const ATTR_PAGE = 'data-fm-page'\nconst ARIA_HIDDEN = 'aria-hidden'\n\nconst getContainer = (el) => {\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  let container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = (isPage || isWithinContainer) && isWithinModal && modal\n  container = isPage && container\n\n  return modal || container\n}\n\nexport const updateTitle = () => {\n  const page = document.querySelector(`[${ATTR_PAGE}]`)?.getAttribute(ATTR_PAGE)\n  document.documentElement.classList.toggle('fm-page', !!page)\n  const parts = document.title.split(': ')\n  const title = parts[parts.length - 1]\n  document.title = page ? `${page}: ${title}` : title\n}\n\nexport const toggleInert = (activeEl) => {\n  const inertEls = document.querySelectorAll('[data-fm-inert]')\n  for (const inertEl of inertEls) {\n    inertEl.removeAttribute(ARIA_HIDDEN)\n    inertEl.removeAttribute('data-fm-inert')\n  }\n\n  let el = getContainer(activeEl || document.activeElement)\n\n  if (!el) {\n    return\n  }\n\n  while (el.parentNode && el !== document.body) {\n    let sibling = el.parentNode.firstChild\n    while (sibling) {\n      if (sibling.nodeType === 1 && sibling !== el && !sibling.hasAttribute(ARIA_HIDDEN)) {\n        sibling.setAttribute(ARIA_HIDDEN, true)\n        sibling.setAttribute('data-fm-inert', '')\n      }\n      sibling = sibling.nextSibling\n    }\n    el = el.parentNode\n  }\n}\n\nexport const setInitialFocus = () => {\n  let el = document.activeElement\n\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  const container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = ((isPage || isWithinContainer) && modal && !isWithinModal) && modal\n  const viewport = isPage && !isWithinContainer && container.querySelector('[data-fm-viewport]')\n  el = modal || viewport\n\n  if (el) {\n    el.focus()\n  }\n}\n\nexport const constrainFocus = e => {\n  if (e.key !== 'Tab') {\n    return\n  }\n\n  const el = document.activeElement.closest(`[aria-modal=\"true\"][open], [${ATTR_PAGE}]`)\n\n  if (!el) {\n    return\n  }\n\n  const selectors = [\n    'a[href]:not([disabled])',\n    'button:not([disabled])',\n    'textarea:not([disabled])',\n    'input:not([disabled])',\n    'select:not([disabled])',\n    '*[tabindex=\"0\"]:not([disabled])'\n  ]\n  let focusableEls = Array.from(el.querySelectorAll(selectors.join(',')))\n  focusableEls = focusableEls.filter(focusableEl => !!focusableEl.offsetParent)\n  const firstFocusableEl = focusableEls[0]\n  const lastFocusableEl = focusableEls[focusableEls.length - 1]\n\n  if (e.shiftKey && (document.activeElement === el || document.activeElement === firstFocusableEl)) {\n    lastFocusableEl.focus()\n    e.preventDefault()\n  }\n  if (!e.shiftKey && (document.activeElement === lastFocusableEl)) {\n    firstFocusableEl.focus()\n    e.preventDefault()\n  }\n}\n\nexport const findTabStop = (el, direction) => {\n  const focusableEls = document.querySelectorAll('input, button, select, textarea, a[href]')\n  const list = Array.prototype.filter.call(focusableEls, item => { return item.tabIndex >= '0' })\n  const index = list.indexOf(el)\n  return list[direction === 'next' ? index + 1 : index - 1] || list[0]\n}\n","import { useCallback } from 'react'\n\nconst { history } = window\n\nexport const useQueryState = (query) => {\n  const navigate = (state, url) => {\n    history.replaceState(state, '', url)\n  }\n\n  const setQuery = useCallback(\n    value => {\n      const existingQueries = new URLSearchParams(window.location.search)\n\n      existingQueries.delete(query)\n      existingQueries.set(query, value)\n      const queryString = existingQueries.toString()\n\n      navigate(window.history.state, `${window.location.pathname}?${decodeURIComponent(queryString)}`)\n    },\n    [navigate, query]\n  )\n\n  return [\n    (new URLSearchParams(window.location.search)).get(query),\n    setQuery\n  ]\n}\n","import { useEffect, useRef } from 'react'\n\n/**\n* Hook that alerts panel size change\n*/\n\nexport const useResizeObserver = (el, callback) => {\n  const observer = useRef(null)\n  const prevWidth = useRef(null)\n  const prevHeight = useRef(null)\n\n  const observe = () => {\n    if (el && observer.current) {\n      observer.current.observe(el)\n    }\n  }\n\n  useEffect(() => {\n    if (observer.current && el) {\n      observer.current.unobserve(el)\n    }\n    if (window.ResizeObserver) {\n      observer.current = new window.ResizeObserver(entries => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect\n          if ((typeof height === 'number' && height !== prevHeight.current) || (typeof width === 'number' && width !== prevWidth.current)) {\n            prevWidth.current = width\n            prevHeight.current = height\n            callback()\n          }\n        }\n      })\n      observe()\n    }\n\n    return () => {\n      if (observer.current && el) {\n        observer.current.unobserve(el)\n      }\n    }\n  }, [el, window.ResizeObserver])\n}\n","import { useContext } from 'react'\n\nimport { ViewportContext } from './viewport-provider.jsx'\n\nexport const useViewport = () => useContext(ViewportContext)\n","import React, { useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nconst getClassName = (isVisible, isActive, drawMode, shape, isDrawValid) => {\n  const frame = drawMode === 'frame' ? ` fm-c-padding-box--${shape}` : ''\n  const drawValid = drawMode === 'frame' && isDrawValid ? ' fm-c-padding-box--draw-valid' : ''\n  return `fm-c-padding-box${frame}${drawValid}${isVisible ? ' fm-c-padding-box--visible' : ''}${isActive ? ' fm-c-padding-box--active' : ''}`\n}\n\nexport default function PaddingBox ({ children }) {\n  const { provider, options, isContainerReady, drawMode, shape, viewportRef, obscurePanelRef, targetMarker, frameRef, interfaceType, isMobile } = useApp()\n  const { dispatch, features, padding, isAnimate, isDrawValid } = useViewport()\n\n  // Update provider padding, need to run this before viewport action effect\n  useEffect(() => {\n    if (provider.map) {\n      provider.setPadding(targetMarker?.coord, isAnimate)\n    }\n  }, [padding])\n\n  // Set initial viewport padding before provider map is initialised\n  useEffect(() => {\n    if (isContainerReady) {\n      dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef?.current, viewport: viewportRef.current, isMobile } })\n    }\n  }, [isContainerReady])\n\n  // Update padding if isMobile change, needs timeout\n  useEffect(() => {\n    setTimeout(() => {\n      dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef.current, viewport: viewportRef.current, isMobile, isAnimate: false } })\n    }, 0)\n  }, [isMobile])\n\n  // Reset padding on entering vertex drawMode\n  useEffect(() => {\n    if (['frame', 'vertex'].includes(drawMode)) {\n      dispatch({ type: 'SET_PADDING', payload: { viewport: viewportRef.current, isMobile, isAnimate: false } })\n    }\n  }, [drawMode])\n\n  // Template properties\n  const isVisible = interfaceType === 'keyboard' && (options.queryLocation?.layers || options.queryFeature?.layers)\n  const isActive = interfaceType === 'keyboard' && (features?.featuresInViewport.length || features?.isPixelFeaturesInMap)\n  const className = getClassName(isVisible, isActive, drawMode, shape, isDrawValid)\n\n  return (\n    <div className={className} {...padding ? { style: padding } : {}}>\n      <div className='fm-c-padding-box__frame' ref={frameRef} />\n      {children}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport.js'\nimport { getScale } from '../lib/viewport.js'\n\n// Hook that alerts if pixel is obscured\n\nexport const usePixelObscurred = () => {\n  const { provider, info, viewportRef, targetMarker, isMobile, padding } = useApp()\n  const { size } = useViewport()\n\n  const [isObscurred, setIsObscurred] = useState(false)\n\n  useEffect(() => {\n    if (targetMarker?.coord && provider.isLoaded) {\n      let pixel = provider.getPixel(targetMarker.coord)\n      const scale = getScale(size)\n      pixel = pixel.map(c => c * scale)\n      const { top, left } = viewportRef.current.getBoundingClientRect()\n      const topEl = document.elementFromPoint(pixel[0] + left, pixel[1] + top)\n      setIsObscurred(!!topEl?.closest('.fm-c-panel--info'))\n    }\n\n    return () => {\n      setIsObscurred(false)\n    }\n  }, [provider, isMobile, padding, info, targetMarker])\n\n  return [isObscurred]\n}\n","import React, { useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { usePixelObscurred } from '../hooks/use-pixel-obscurred.js'\n\nconst isCentre = (interfaceType, targetMarker, activePanel) => {\n  return ['keyboard', 'touch'].includes(interfaceType) && !(targetMarker && activePanel === 'INFO')\n}\n\nconst hasData = (isTargetCentre, features, targetMarker) => {\n  return isTargetCentre ? features?.isPixelFeaturesAtPixel : targetMarker?.hasData\n}\n\nconst isVisible = (interfaceType, isTargetCentre, drawMode, features, targetCoord, activePanel) => {\n  let isTargetVisible = isTargetCentre && drawMode === 'default' && !!features ? features?.resultType === 'pixel' : !!targetCoord\n  // Hide when touch detected and a panel is displayed at the bottom\n  if (interfaceType === 'touch') {\n    isTargetVisible = isTargetVisible && (!activePanel || activePanel === 'INFO')\n  }\n  return isTargetVisible\n}\n\nexport default function Target () {\n  const { provider, drawMode, targetMarker, activePanel, viewportRef, obscurePanelRef, isContainerReady, interfaceType, isMobile } = useApp()\n  const appDispatch = useApp().dispatch\n  const { dispatch, features } = useViewport()\n  const [isObscurred] = usePixelObscurred()\n\n  const isTargetCentre = isCentre(interfaceType, targetMarker, activePanel)\n  const hasTargetData = hasData(isTargetCentre, features, targetMarker)\n  const targetCoord = !isTargetCentre ? targetMarker?.coord : null\n  const isTargetVisible = isVisible(interfaceType, isTargetCentre, drawMode, features, targetCoord, activePanel)\n\n  // Update app state\n  useEffect(() => {\n    appDispatch({ type: 'SET_IS_TARGET_VISIBLE', payload: isTargetVisible })\n  }, [isTargetVisible])\n\n  // Conditionally show target marker\n  useEffect(() => {\n    provider.setTargetMarker(targetCoord, hasTargetData, isTargetVisible)\n  }, [provider.map, targetCoord, hasTargetData, isTargetVisible])\n\n  // Update padding if target marker is obscurred\n  useEffect(() => {\n    if (!isObscurred || !(isContainerReady && obscurePanelRef.current)) {\n      return\n    }\n    dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef.current, viewport: viewportRef.current, isMobile, isAnimate: true } })\n  }, [isObscurred])\n\n  return (\n    <>\n      {!targetCoord && isTargetVisible && (\n        <div className={`fm-c-marker fm-c-marker--target fm-c-marker--visible fm-c-marker--center${hasTargetData ? ' fm-c-marker--has-data' : ''}`} aria-label='Map marker'>\n          <div className='fm-c-marker__inner'>\n            <svg width='38' height='38' viewBox='0 0 38 38' fillRule='evenodd' fill='currentColor'>\n              <path d='M5.035 20H1v-2h4.035C5.525 11.069 11.069 5.525 18 5.035V1h2v4.035c6.931.49 12.475 6.034 12.965 12.965H37v2h-4.035c-.49 6.931-6.034 12.475-12.965 12.965V37h-2v-4.035C11.069 32.475 5.525 26.931 5.035 20zM19 7A12.01 12.01 0 0 0 7 19a12.01 12.01 0 0 0 12 12 12.01 12.01 0 0 0 12-12A12.01 12.01 0 0 0 19 7zm0 10a2 2 0 1 1 0 4 2 2 0 1 1 0-4z' />\n              <path d='M5.035 20H1v-2h4.035a14.02 14.02 0 0 1 .246-1.8l1.96.399C7.083 17.375 7 18.178 7 19s.083 1.625.241 2.401l-1.96.399a14.02 14.02 0 0 1-.246-1.8zM20 5.035a14.02 14.02 0 0 1 1.8.246l-.399 1.96C20.625 7.083 19.822 7 19 7s-1.625.083-2.401.241l-.399-1.96a14.02 14.02 0 0 1 1.8-.246V1h2v4.035zm-2 27.93a14.02 14.02 0 0 1-1.8-.246l.399-1.96c.776.158 1.579.241 2.401.241s1.625-.083 2.401-.241l.399 1.96a14.02 14.02 0 0 1-1.8.246V37h-2v-4.035zM32.965 20a14.02 14.02 0 0 1-.246 1.8l-1.96-.399c.158-.776.241-1.579.241-2.401s-.083-1.625-.241-2.401l1.96-.399a14.02 14.02 0 0 1 .246 1.8H37v2h-4.035zM19 17a2 2 0 1 1 0 4 2 2 0 1 1 0-4zm3.8-9.385l.634-1.897a13.98 13.98 0 0 1 4.848 2.805l-1.327 1.496c-1.196-1.06-2.605-1.886-4.155-2.404zm5.181 3.43l1.496-1.327a13.98 13.98 0 0 1 2.805 4.848l-1.897.634c-.518-1.55-1.344-2.959-2.404-4.155zM30.385 22.8l1.897.634a13.98 13.98 0 0 1-2.805 4.848l-1.496-1.327c1.06-1.196 1.886-2.605 2.404-4.155zm-3.43 5.181l1.327 1.496a13.98 13.98 0 0 1-4.848 2.805l-.634-1.897c1.55-.518 2.959-1.344 4.155-2.404zM15.2 30.385l-.634 1.897a13.98 13.98 0 0 1-4.848-2.805l1.327-1.496c1.196 1.06 2.605 1.886 4.155 2.404zm-5.181-3.43l-1.496 1.327a13.98 13.98 0 0 1-2.805-4.848l1.897-.634c.518 1.55 1.344 2.959 2.404 4.155zM7.615 15.2l-1.897-.634a13.98 13.98 0 0 1 2.805-4.848l1.496 1.327c-1.06 1.196-1.886 2.605-2.404 4.155zm3.43-5.181L9.718 8.523a13.98 13.98 0 0 1 4.848-2.805l.634 1.897c-1.55.518-2.959 1.344-4.155 2.404z' />\n            </svg>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useEffect, useRef, useMemo, useCallback } from 'react'\nimport { useQueryState } from '../hooks/use-query-state.js'\nimport { useResizeObserver } from '../hooks/use-resize-observer.js'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { settings, offsets, events } from '../store/constants.js'\nimport { debounce } from '../lib/debounce.js'\nimport { getShortcutKey, getMapPixel, getScale, getPoint } from '../lib/viewport.js'\nimport { getColor } from '../lib/utils.js'\nimport eventBus from '../lib/eventbus.js'\nimport PaddingBox from './padding-box.jsx'\nimport Target from './target.jsx'\nimport { toggleInert } from '../lib/dom.js'\n\nconst getClassName = (size, styleName, isFocusVisible, isKeyboard, hasShortcuts) => {\n  return `fm-o-viewport${size !== 'small' ? ' fm-o-viewport--' + size : ''} fm-o-viewport--${styleName}${hasShortcuts && isKeyboard ? ' fm-o-viewport--has-shortcuts' : ''}${isFocusVisible ? ' fm-u-focus-visible' : ''}`\n}\n\nexport default function Viewport () {\n  const { isContainerReady, provider, geocode, options, parent, drawMode, shape, segments, layers, viewportRef, frameRef, activePanel, activeRef, featureId, targetMarker, interfaceType } = useApp()\n  const { id, hasAutoMode, backgroundColor, queryFeature, queryLocation, draw } = options\n  const appDispatch = useApp().dispatch\n\n  const { style, bounds, center, zoom, oCentre, originalZoom, rZoom, minZoom, maxZoom, features, size, status, isStatusVisuallyHidden, hasShortcuts, action, timestamp, isMoving, isUpdate } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQueryCz] = useQueryState(settings.params.centerZoom)\n\n  const mapContainerRef = useRef(null)\n  const startPixel = useRef([0, 0])\n  const labelPixel = useRef(null)\n  const pointerPixel = useRef(null)\n  const isDraggingRef = useRef(false)\n  const STATUS_DELAY = 500\n\n  // Template properties\n  const isKeyboard = interfaceType === 'keyboard'\n  const isFocusVisible = isKeyboard && document.activeElement === viewportRef.current\n  const className = getClassName(size, style?.name, isFocusVisible, isKeyboard, hasShortcuts)\n  const scale = getScale(size)\n  const bgColor = getColor(backgroundColor, style?.name)\n\n  const handleFocus = () => {\n    toggleInert(viewportRef.current)\n  }\n\n  const handleKeyDown = e => {\n    // Disable body scroll\n    if (e.key !== 'Tab') {\n      e.preventDefault()\n    }\n\n    // Pan map (Cursor keys)\n    if (!e.altKey && offsets.pan[e.key.toUpperCase()]) {\n      provider.panBy(offsets[e.shiftKey ? 'shiftPan' : 'pan'][e.key.toUpperCase()])\n    }\n\n    // Zoom map (+ or -)\n    if (['+', '-', '=', '_'].includes(e.key)) {\n      // ['+', '='].includes(e.key) ? provider.zoomIn() : provider.zoomOut()\n      ['+', '='].includes(e.key) ? viewportDispatch({ type: 'ZOOM_IN' }) : viewportDispatch({ type: 'ZOOM_OUT' })\n    }\n\n    // Select feature or query center (Enter)\n    if (!e.altKey && e.key === 'Enter' && drawMode === 'default') {\n      if (featureId) {\n        provider.queryFeature(featureId)\n      } else if (queryLocation?.layers && !isMoving) {\n        const point = getMapPixel(frameRef.current, scale)\n        provider.queryPoint(point)\n      } else {\n        // No action\n      }\n    }\n\n    // Cycle through feature list (PageUp and PageDown)\n    if (['PageDown', 'PageUp'].includes(e.key) && queryFeature) {\n      labelPixel.current = provider?.hideLabel()\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: true })\n      appDispatch({ type: 'SET_NEXT_SELECTED', payload: { key: e.key, features: features.featuresInViewport } })\n      activeRef.current = viewportRef.current\n    }\n  }\n\n  const handleKeyUp = e => {\n    // Get map details (Alt + i)\n    if (e.altKey && e.code.slice(-1) === 'I') {\n      viewportDispatch({ type: 'CLEAR_STATUS' })\n      // Debounce place update\n      debounceUpdatePlace(center)\n    }\n\n    // Open keyboard controls (Alt + k)\n    if (e.altKey && e.code.slice(-1) === 'K') {\n      appDispatch({ type: 'OPEN', payload: 'KEYBOARD' })\n    }\n\n    // Clear selected feature and label\n    if (['Escape', 'Esc'].includes(e.key)) {\n      // Triggers an update event\n      labelPixel.current = provider.hideLabel?.()\n      viewportDispatch({ type: 'CLEAR' })\n      appDispatch({ type: 'SET_SELECTED', payload: { featureId: null } })\n    }\n\n    // Feature shortcut keys (Alt + 1 - 9)\n    if (e.altKey && /^[1-9]$/.test(e.code.slice(-1))) {\n      const fId = getShortcutKey(e, features?.featuresInViewport)\n      provider.queryFeature(fId)\n    }\n\n    // Select label (Alt + arrow key)\n    if (e.altKey && ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key) && provider.showNextLabel) {\n      const direction = e.key.substring(5).toLowerCase()\n      // Triggers an update event\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: false })\n      labelPixel.current = provider.showNextLabel(labelPixel.current, direction)\n    }\n\n    // Select label (Alt + Enter with mousehover)\n    if (e.altKey && e.key === 'Enter' && pointerPixel.current && provider.showLabel) {\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: false })\n      labelPixel.current = provider.showLabel(pointerPixel.current)\n    }\n  }\n\n  const handleClick = e => {\n    // Hide panel\n    if (['SEARCH', 'KEY'].includes(activePanel)) {\n      appDispatch({ type: 'CLOSE' })\n      return\n    }\n\n    // Query point\n    if (!isDraggingRef.current) {\n      const point = getPoint(viewportRef.current, e, scale)\n      if (e.altKey && provider.showLabel) {\n        labelPixel.current = provider.showLabel(point)\n      } else if (!(drawMode !== 'default' || !(queryFeature?.layers || queryLocation?.layers))) {\n        provider.queryPoint(point)\n      } else {\n        // No action\n      }\n    }\n  }\n\n  const handlePointerMove = e => {\n    const { layerX, layerY } = e.nativeEvent\n    pointerPixel.current = [layerX / scale, layerY / scale]\n  }\n\n  const handleMapLoad = e => {\n    viewportDispatch({ type: 'READY', payload: e.detail })\n    eventBus.dispatch(parent, events.APP_READY, {\n      ...e.detail, drawMode, segments, layers, style: style.name, size\n    })\n  }\n\n  const handlePointerDown = e => {\n    startPixel.current = [e.pageX, e.pageY]\n    isDraggingRef.current = false\n  }\n\n  const handlePointerUp = e => {\n    const diffX = Math.abs(e.pageX - startPixel.current[0])\n    const diffY = Math.abs(e.pageY - startPixel.current[1])\n    isDraggingRef.current = diffX >= offsets.drag || diffY >= offsets.drag\n  }\n\n  // Update place after Alt + i\n  const debounceUpdatePlace = useCallback(debounce(async (coord) => {\n    const place = await geocode.getNearest(zoom, coord)\n    viewportDispatch({ type: 'UPDATE_PLACE', payload: place || 'remote area' })\n  }, STATUS_DELAY), [])\n\n  // Provider events\n  const handleMoveStart = e => {\n    const isUserInitiated = e.detail.isUserInitiated\n    viewportDispatch({ type: 'MOVE_START', payload: isUserInitiated })\n    if (isKeyboard && activePanel === 'INFO' && isUserInitiated) {\n      appDispatch({ type: 'CLOSE' })\n    }\n  }\n\n  // Get is min or max zoom during animation\n  const handleMove = e => {\n    viewportDispatch({ type: 'MOVE', payload: { ...e.detail } })\n  }\n\n  // Get new bounds after map has moved\n  const debounceUpdate = useCallback(debounce(async (e) => {\n    viewportDispatch({ type: 'UPDATE', payload: e.detail })\n  }, STATUS_DELAY), [])\n\n  const handleUpdate = e => {\n    viewportDispatch({ type: 'CLEAR_STATUS' })\n    debounceUpdate(e)\n  }\n\n  // Map query\n  const handleMapQuery = e => {\n    const { resultType } = e.detail\n    const { items, isPixelFeaturesAtPixel, coord } = e.detail.features\n    const selectedId = resultType === 'feature' && items.length ? items[0].id : null\n    const marker = resultType === 'pixel' ? { coord, hasData: isPixelFeaturesAtPixel } : null\n    appDispatch({ type: 'SET_SELECTED', payload: { featureId: selectedId, targetMarker: marker, activePanelHasFocus: true } })\n    eventBus.dispatch(parent, events.APP_QUERY, { ...e.detail, style: style.name, size, segments, layers })\n  }\n\n  // Provider style change\n  const handleMapStyle = e => {\n    eventBus.dispatch(parent, events.APP_CHANGE, { ...e.detail, style: style.name, size, drawMode, segments, layers })\n  }\n\n  // Initial render\n  useEffect(() => {\n    if (isContainerReady && !provider.isLoaded) {\n      provider.init({\n        ...options,\n        container: mapContainerRef.current,\n        paddingBox: frameRef.current,\n        bounds,\n        center,\n        zoom,\n        minZoom,\n        maxZoom,\n        style,\n        size,\n        featureLayers: queryFeature?.layers,\n        locationLayers: queryLocation?.layers\n      })\n\n      provider.addEventListener('load', handleMapLoad)\n      provider.addEventListener('update', handleUpdate)\n      provider.addEventListener('move', handleMove)\n      provider.addEventListener('mapquery', handleMapQuery)\n    }\n\n    // We need to know if open was triggered by the button\n    if (document.querySelector('[data-fm-open]')) {\n      activeRef.current = viewportRef.current\n    }\n\n    // Dispatch viewport ready if no style url provided\n    if (!style?.url) {\n      viewportDispatch({ type: 'READY', payload: {} })\n    }\n\n    return () => {\n      provider.removeEventListener('load', handleMapLoad)\n      provider.removeEventListener('update', handleUpdate)\n      provider.removeEventListener('move', handleMove)\n      provider.removeEventListener('mapquery', handleMapQuery)\n      provider?.remove()\n    }\n  }, [isContainerReady])\n\n  // Movestart and vertex edit need access to some state\n  useEffect(() => {\n    provider.addEventListener('movestart', handleMoveStart)\n\n    return () => {\n      provider.removeEventListener('movestart', handleMoveStart)\n    }\n  }, [isKeyboard, activePanel, action])\n\n  // Handle viewport action\n  useEffect(() => {\n    provider.addEventListener('style', handleMapStyle)\n\n    switch (action) {\n      case 'SEARCH':\n        bounds ? provider.fitBounds(bounds) : provider.setCentre(center, zoom)\n        // Close search and move focus to viewport\n        appDispatch({ type: 'CLOSE' })\n        activeRef.current = viewportRef.current\n        break\n      case 'RESET':\n        provider.setCentre(oCentre, rZoom)\n        break\n      case 'GEOLOC':\n        provider.setCentre(center, originalZoom)\n        provider.showLocation(center)\n        break\n      case 'ZOOM_IN':\n        provider.zoomIn()\n        break\n      case 'ZOOM_OUT':\n        provider.zoomOut()\n        break\n      case 'SIZE':\n        window.localStorage.setItem('size', size)\n        provider.setSize(size)\n        break\n      case 'STYLE':\n        window.localStorage.setItem('style', style.name)\n        provider.setStyle(style, minZoom, maxZoom)\n        break\n      default:\n        // No action\n    }\n\n    return () => {\n      provider.removeEventListener('style', handleMapStyle)\n    }\n  }, [timestamp, action, drawMode, style, size])\n\n  // All query params, debounced by provider. Must be min 500ms\n  useEffect(() => {\n    if (isUpdate) {\n      setQueryCz(`${center.toString()},${zoom}`)\n    }\n  }, [isUpdate])\n\n  // Swap style on light/dark mode change\n  useEffect(() => {\n    if (hasAutoMode && provider.map) {\n      const colourScheme = window?.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n      viewportDispatch({ type: 'SET_STYLE', payload: { style: style.name, colourScheme } })\n    }\n  }, [window?.matchMedia('(prefers-color-scheme: dark)').matches])\n\n  // Set initial selected feature\n  useEffect(() => {\n    provider.selectFeature(featureId)\n  }, [featureId, targetMarker])\n\n  // Initialise draw\n  useEffect(() => {\n    if (provider.map && !provider.draw && (drawMode !== 'default' || draw?.feature)) {\n      provider.initDraw({ ...draw, drawMode, shape })\n    }\n  }, [provider.map, drawMode])\n\n  // Update view padding on resize\n  useResizeObserver(viewportRef.current, () => {\n    provider.setPadding(null, false)\n  })\n\n  return (\n    <div\n      id={`${id}-viewport`}\n      className={className}\n      role='application'\n      aria-labelledby={`${id}-viewport-label`}\n      {...isUpdate ? { 'aria-describedby': `${id}-viewport-description` } : {}}\n      onClick={handleClick}\n      onFocus={handleFocus}\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleKeyUp}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerMove={handlePointerMove}\n      {...featureId ? { 'aria-activedescendant': `${id}-feature-${featureId}` } : {}}\n      {...backgroundColor ? { style: { backgroundColor: bgColor } } : {}}\n      aria-owns={`${id}-viewport-features`}\n      tabIndex='0'\n      ref={viewportRef}\n      data-fm-viewport\n    >\n      <div id={`${id}-map-container`} className='fm-o-map-container' ref={mapContainerRef} />\n      <PaddingBox>\n        <Target />\n      </PaddingBox>\n      <ul id={`${id}-viewport-features`} className='fm-u-visually-hidden' role='listbox' aria-labelledby={`${id}-viewport-label`}>\n        {features?.featuresInViewport.map(feature => {\n          const uid = `${id}${feature.id}`\n          return (\n            <li key={uid} id={`${id}-feature-${feature.id}`} role='option' aria-selected={featureId === (feature.id)} aria-setsize='-1' tabIndex='-1'>{feature.name}</li>\n          )\n        })}\n      </ul>\n      {useMemo(() => {\n        return (\n          <div className={`fm-c-status${isStatusVisuallyHidden || !status ? ' fm-u-visually-hidden' : ''}`} aria-live={isUpdate ? 'polite' : 'assertive'}>\n            <div id={`${id}-viewport-description`} className='fm-c-status__inner' aria-atomic>\n              {status}\n            </div>\n          </div>\n        )\n      }, [status])}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function Exit () {\n  const { options, drawMode, isPage, isBack, handleExit, isDesktop, activePanel } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  const isFixed = options?.legend?.display !== 'inset' && isDesktop\n  const hasButton = !isQueryMode && isPage\n\n  if (!hasButton) {\n    return null\n  }\n\n  const Path = () => {\n    if (isBack) {\n      if (isFixed) {\n        return (\n          <path d='M10.193,17.777l-7.778,-7.777l7.778,-7.778l1.414,1.414l-6.364,6.364l6.364,6.363l-1.414,1.414Z' fill='currentColor' strokeWidth='0' />\n        )\n      }\n      return (\n        <path d='M3.828 10l8.486 8.485-1.415 1.414L1 10 10.899.101l1.415 1.414L3.828 10z' fill='currentColor' strokeWidth='0' />\n      )\n    }\n    return (\n      <path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' fill='currentColor' strokeWidth='0' />\n    )\n  }\n\n  return (\n    <button onClick={handleExit} className='fm-c-btn fm-c-btn--exit' {...activePanel === 'SEARCH' ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width={isBack ? '14' : '20'} height='20' viewBox={isBack ? '0 0 14 20' : '0 0 20 20'}>\n        <Path />\n      </svg>\n      <span className='fm-c-btn__label'>{isBack ? 'Back' : 'Exit'}</span>\n    </button>\n  )\n}\n","import { useEffect } from 'react'\n\n/**\n * Hook that alerts clicks outside of the passed ref\n */\nexport const useOutsideInteract = (ref, isModal, type, callback) => {\n  useEffect(() => {\n    /**\n     * Alert if clicked on outside of element\n     */\n    function handleInteractOutside (e) {\n      if (ref.current && !ref.current.contains(e.target)) {\n        callback(e)\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(type, handleInteractOutside)\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(type, handleInteractOutside)\n    }\n  }, [ref, isModal])\n}\n","export const createMessage = (suggestions, selected) => {\n  const results = `${suggestions?.length} result${suggestions?.length !== 0 ? 's' : ''} are available.`\n  let message = suggestions?.length ? results : 'error'\n  const isHighlighted = suggestions?.length && selected >= 0\n\n  message = isHighlighted ? `${suggestions[selected].text}. ${selected + 1} of ${suggestions?.length} is highlighted.` : message\n\n  return message\n}\n","import { createMessage } from '../lib/search'\nimport { defaults } from './constants'\n\nconst expand = (state, payload) => {\n  return {\n    ...state,\n    isExpanded: true,\n    activeRef: payload\n  }\n}\n\nconst collapse = (state, payload) => {\n  return {\n    ...state,\n    isExpanded: false,\n    activeRef: payload\n  }\n}\n\nconst focus = (state, payload) => {\n  return {\n    ...state,\n    isVisible: true,\n    isFocusWithin: true,\n    isFocusVisibleWithin: payload,\n    activeRef: null\n  }\n}\n\nconst blur = (state) => {\n  return {\n    ...state,\n    isFocusWithin: false,\n    isFocusVisibleWithin: false\n  }\n}\n\nconst mouseenter = (state) => {\n  return {\n    ...state,\n    selected: -1\n  }\n}\n\nconst click = (state, payload) => {\n  return {\n    ...state,\n    isVisible: true,\n    isFocusVisibleWithin: payload.isKeyboard,\n    activeRef: payload.activeRef\n  }\n}\n\nconst change = (state, payload) => {\n  let suggestions = state.suggestions\n  if (payload.length < defaults.MIN_SEARCH_LENGTH) {\n    suggestions = null\n  }\n  return {\n    ...state,\n    value: payload,\n    suggestions,\n    message: createMessage(suggestions, -1),\n    isVisible: payload.length >= defaults.MIN_SEARCH_LENGTH\n  }\n}\n\nconst showSuggestions = (state, payload) => {\n  return {\n    ...state,\n    suggestions: payload,\n    message: createMessage(payload, -1)\n  }\n}\n\nconst hideSuggestions = (state) => {\n  return {\n    ...state,\n    isVisible: false,\n    message: createMessage(state.suggestions, -1),\n    selected: -1\n  }\n}\n\nconst review = (state, payload) => {\n  let index\n  const current = state.selected\n  const length = state.suggestions.length\n  if (payload === 'ArrowDown') {\n    index = current === length - 1 ? current : current + 1\n  } else {\n    index = current > 0 ? current - 1 : -1\n  }\n  return {\n    ...state,\n    isVisible: true,\n    selected: index,\n    message: createMessage(state.suggestions, index),\n    status: ''\n  }\n}\n\nconst submit = (state, payload) => {\n  return {\n    ...state,\n    isVisible: false,\n    value: payload,\n    message: `${state.isVisible ? 'Collapsed ' : ''}${state.selected >= 0 ? 'Completion selected' : ''}`,\n    selected: -1,\n    status: ''\n  }\n}\n\nconst clear = (state, payload) => {\n  return {\n    ...state,\n    isVisible: false,\n    value: '',\n    suggestions: [],\n    activeRef: payload.activeRef,\n    message: 'No suggestions',\n    isFocusVisibleWithin: payload.isFocusVisibleWithin\n  }\n}\n\nconst clearStatus = (state) => {\n  return {\n    ...state,\n    status: ''\n  }\n}\n\nconst updateStatus = (state) => {\n  return {\n    ...state,\n    status: state.message\n  }\n}\n\nexport const actionsMap = {\n  EXPAND: expand,\n  COLLAPSE: collapse,\n  FOCUS: focus,\n  BLUR: blur,\n  MOUSEENTER: mouseenter,\n  CLICK: click,\n  CHANGE: change,\n  SHOW_SUGGESTIONS: showSuggestions,\n  HIDE_SUGGESTIONS: hideSuggestions,\n  REVIEW: review,\n  SUBMIT: submit,\n  CLEAR: clear,\n  CLEAR_STATUS: clearStatus,\n  UPDATE_STATUS: updateStatus\n}\n","import { actionsMap } from './search-actions-map'\n\nexport const initialState = {\n  isVisible: false,\n  isExpanded: false,\n  isFocusWithin: false,\n  isFocusVisibleWithin: false,\n  selected: -1,\n  suggestions: null,\n  value: '',\n  message: '',\n  status: ''\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n\n  return state\n}\n","import React, { useRef, useEffect, useMemo, useCallback } from 'react'\nimport { debounce } from '../lib/debounce'\nimport { defaults } from '../store/constants'\n\nexport default function Autocomplete ({ id, state, dispatch, geocode, errorText, updateViewport }) {\n  const DELAY = 500\n  const selectedRef = useRef()\n\n  const { value, selected } = state\n\n  const debounceUpdateSuggest = useCallback(debounce(async (text) => {\n    const items = await geocode.suggest(text)\n    dispatch({ type: 'SHOW_SUGGESTIONS', payload: items })\n    updateStatus()\n  }, DELAY), [])\n\n  const updateStatus = () => {\n    dispatch({ type: 'CLEAR_STATUS' })\n    debounceUpdateStatus()\n  }\n\n  const debounceUpdateStatus = useCallback(debounce(() => {\n    dispatch({ type: 'UPDATE_STATUS' })\n  }, DELAY), [])\n\n  const handleClick = (e, i) => {\n    e.preventDefault()\n    const text = state.suggestions[i].text\n    const suggestionId = state.suggestions[i].id\n    dispatch({ type: 'SUBMIT', payload: text })\n    updateViewport(text, suggestionId)\n  }\n\n  useEffect(() => {\n    updateStatus()\n  }, [state.isVisible])\n\n  useEffect(() => {\n    updateStatus()\n    setTimeout(() => selectedRef.current?.scrollIntoView(false), 0)\n  }, [selected])\n\n  useEffect(() => {\n    if (value.length >= defaults.MIN_SEARCH_LENGTH) {\n      debounceUpdateSuggest(value)\n      return\n    }\n    updateStatus()\n  }, [value])\n\n  return (\n    <div className='fm-c-search__suggestions'>\n      {useMemo(() => {\n        return (\n          <div className='fm-u-visually-hidden' aria-live='polite' aria-atomic>\n            {state.status === 'error' ? (errorText || 'No results are available') : state.status}\n          </div>\n        )\n      }, [state.status])}\n      {(state.value?.length >= defaults.MIN_SEARCH_LENGTH) && state.suggestions && !state.suggestions.length && (\n        <div className='fm-c-search__hint'>{errorText || 'No results are available'}</div>\n      )}\n      <ul id={`${id}-suggestions`} role='listbox' aria-labelledby={`${id}-search`} className='fm-c-search__list' {...(!state.isVisible ? { style: { display: 'none' } } : {})} onMouseEnter={() => dispatch({ type: 'MOUSEENTER' })}>\n        {state.suggestions?.map((item, i) =>\n          <li key={item.id} ref={state.selected === i ? selectedRef : null} id={`${id}-search-suggestion-${i}`} className={`fm-c-search-item${state.selected === i ? ' fm-c-search-item--selected' : ''}`} onClick={e => handleClick(e, i)} role='option' aria-selected={state.selected === i} aria-posinset={i + 1} aria-setsize={state.suggestions.length} tabIndex='-1'>\n            <span className='fm-c-search-item__primary' dangerouslySetInnerHTML={item.marked} />\n          </li>)}\n      </ul>\n    </div>\n  )\n}\n","import React, { useRef, useEffect, useReducer } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { reducer, initialState } from '../store/search-reducer'\nimport Autocomplete from './autocomplete.jsx'\n\nconst getDerivedProps = (search, isMobile, legend, state) => {\n  const searchWidth = !isMobile ? (legend?.keyWidth || legend?.width) : null\n  const hasClear = isMobile && !!state.value?.length\n  const className = 'fm-c-search'\n  const formClassName = `fm-c-search__form${state.isFocusWithin ? ' fm-u-focus-within' : ''}${state.isFocusVisibleWithin ? ' fm-u-focus-visible-within' : ''}`\n  const country = ` in ${search?.country?.charAt(0).toUpperCase()}${search?.country?.slice(1)}`\n  const label = `Search for a place${search?.country ? country : ''}`\n  return { searchWidth, hasClear, className, formClassName, label }\n}\n\nconst hasPanel = (search, activePanel, isDesktop) => {\n  return activePanel === 'SEARCH' || (isDesktop && search?.isExpanded)\n}\n\nexport default function Search ({ instigatorRef }) {\n  const { geocode, interfaceType, isMobile, options, search, activeRef, activePanel, isDesktop, legend } = useApp()\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const { id } = options\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const formRef = useRef()\n  const clearBtnRef = useRef()\n  const inputRef = useRef()\n  const { searchWidth, hasClear, className, formClassName, label } = getDerivedProps(search, isMobile, legend, state)\n\n  // Hide soft keyboard on touchstart outside search input\n  useOutsideInteract(inputRef, true, 'touchstart', e => {\n    if (document.activeElement !== inputRef.current) {\n      return\n    }\n    inputRef.current.blur()\n    if (!formRef.current?.contains(e.target)) {\n      return\n    }\n    setTimeout(() => inputRef.current.focus(), 0)\n  })\n\n  const updateViewport = async (value, suggestionId) => {\n    const location = await geocode.find(value, suggestionId)\n    if (!location) {\n      return\n    }\n    const { bounds, center, zoom, text } = location\n    viewportDispatch({ type: 'SEARCH', payload: { bounds, center, zoom, place: text } })\n  }\n\n  const handleFocus = () => {\n    dispatch({ type: 'FOCUS', payload: interfaceType === 'keyboard' })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const suggestion = state.selected >= 0 ? state.suggestions[state.selected] : null\n    const value = suggestion?.text || state.value\n    dispatch({ type: 'SUBMIT', payload: value })\n    updateViewport(value, suggestion?.id)\n  }\n\n  const handleCollapse = () => {\n    appDispatch({ type: 'CLOSE' })\n    activeRef.current = instigatorRef.current\n  }\n\n  const handleClear = () => {\n    dispatch({ type: 'CLEAR', payload: { activeRef: inputRef, isFocusVisibleWithin: interfaceType === 'keyboard' } })\n    inputRef.current.focus()\n  }\n\n  const handleKeyDown = e => {\n    // Escape key\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      if (state.value || state.isVisible) {\n        dispatch({ type: 'HIDE_SUGGESTIONS' })\n      } else {\n        dispatch({ type: 'COLLAPSE', payload: instigatorRef })\n      }\n    }\n    // Review suggestions\n    if (['ArrowDown', 'ArrowUp'].includes(e.key) && state.suggestions?.length >= 1) {\n      e.preventDefault()\n      dispatch({ type: 'REVIEW', payload: e.key })\n    }\n  }\n\n  const handleKeyUp = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      handleCollapse()\n    }\n  }\n\n  const handleChange = e => {\n    dispatch({ type: 'CHANGE', payload: e.target.value })\n  }\n\n  const handleClick = () => {\n    const isKeyboard = interfaceType === 'keyboard'\n    dispatch({ type: 'CLICK', payload: { isKeyboard, activeRef: inputRef } })\n  }\n\n  // Move focus to input\n  useEffect(() => {\n    if (activePanel === 'SEARCH') {\n      activeRef.current = inputRef.current\n    }\n  }, [activePanel])\n\n  if (!hasPanel(search, activePanel, isDesktop)) {\n    return null\n  }\n\n  return (\n    <div\n      id={`${id}-search-form`} className={className}\n      role='dialog'\n      aria-labelledby={`${id}-search`}\n      aria-modal\n      open\n      onKeyUp={handleKeyUp}\n      {...searchWidth && {\n        style: { width: searchWidth }\n      }}\n      onKeyDown={handleKeyDown}\n      ref={formRef}\n    >\n      <div className='fm-c-search__control'>\n        <form role='search' className={formClassName} aria-controls={`${id}-viewport`} onSubmit={handleSubmit}>\n          {isMobile && (\n            <button onClick={handleCollapse} type='button' className='fm-c-btn fm-c-btn--search-back' aria-label='Close search'>\n              <svg aria-hidden='true' focusable='false' width='14' height='20' viewBox='0 0 14 20' fillRule='evenodd' fill='currentColor'>\n                <path d='M3.828 10l8.486 8.485-1.415 1.414L1 10 10.899.101l1.415 1.414L3.828 10z' strokeWidth='0' />\n              </svg>\n            </button>\n          )}\n          <label htmlFor={`${id}-search`} className='fm-u-visually-hidden'>{label}</label>\n          <input\n            id={`${id}-search`}\n            className='fm-c-search__input'\n            role='combobox'\n            aria-expanded={state.isVisible}\n            aria-controls={`${id}-suggestions`}\n            type='search'\n            {...(!state.value && { 'aria-describedby': `${id}-search-hint` })}\n            aria-autocomplete='list'\n            autoComplete='off'\n            placeholder={label}\n            name={`${id}-search`}\n            spellCheck='false'\n            enterKeyHint='search'\n            {...(state.selected >= 0 && { 'aria-activedescendant': `${id}-search-suggestion-${state.selected}` })}\n            value={state.value}\n            onClick={handleClick}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={() => dispatch({ type: 'BLUR' })}\n            ref={inputRef}\n          />\n          {hasClear && (\n            <button className='fm-c-btn fm-c-search__clear' aria-label='Clear search' type='button' onClick={handleClear} ref={clearBtnRef}>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fill='currentColor'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', strokeWidth: '0' }} /></svg>\n            </button>\n          )}\n          {!isMobile && (\n            <button onClick={handleCollapse} type='button' className='fm-c-btn fm-c-btn--search-close' aria-label='Close search'>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fill='currentColor'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', strokeWidth: '0' }} /></svg>\n            </button>\n          )}\n        </form>\n      </div>\n      <div id={`${id}-search-hint`} style={{ display: 'none' }}>\n        When search results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.\n      </div>\n      {search?.isAutocomplete && (\n        <Autocomplete id={id} state={state} dispatch={dispatch} geocode={geocode} errorText={search.errorText} updateViewport={updateViewport} />\n      )}\n    </div>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport.js'\nimport { constrainFocus, toggleInert } from '../lib/dom'\n\nconst getClassNames = (className, isInset, isReady) => {\n  // Panel content may be dependent on zoom level\n  return `fm-c-panel${className ? ' fm-c-panel--' + className : ''}${isInset ? ' fm-c-panel--inset' : ''}${!isReady ? ' fm-u-hidden' : ''}`\n}\n\nconst getRole = (instigatorRef) => {\n  return instigatorRef ? 'dialog' : 'region'\n}\n\nconst getProps = (id, className, isMobile, isInset, instigatorRef, width) => {\n  const panelId = `${id}-panel${className ? '-' + className : ''}`\n  const hasCloseBtn = !!instigatorRef?.current\n  const hasWidth = width && !(isMobile && isInset)\n  return { panelId, hasCloseBtn, hasWidth }\n}\n\nexport default function Panel ({ className, label, link, isInset, isNotObscure, isHideHeading, isModal, instigatorRef, width, maxWidth, html, children }) {\n  const { options, isMobile, dispatch, obscurePanelRef, activeRef, activePanelHasFocus } = useApp()\n  const { isReady } = useViewport()\n  const { id } = options\n\n  // Ref to element\n  const elementRef = useRef(null)\n  const bodyRef = useRef(null)\n\n  useOutsideInteract(elementRef, isModal, 'pointerdown', () => {\n    if (isModal) {\n      handleClose()\n    }\n  })\n\n  const handleClose = () => {\n    dispatch({ type: 'CLOSE' })\n    obscurePanelRef.current = null\n    activeRef.current = instigatorRef?.current\n  }\n\n  const handleKeyDown = e => {\n    constrainFocus(e)\n  }\n\n  const handleKeyUp = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      handleClose()\n    }\n  }\n\n  const handleFocus = e => {\n    if (e.currentTarget === e.target) {\n      toggleInert()\n    }\n  }\n\n  // Template properties\n  const { panelId, hasCloseBtn, hasWidth } = getProps(id, className, isMobile, isInset, instigatorRef, width)\n\n  // Container is now ready\n  useEffect(() => {\n    // We need to know when/if a panel has been added before rendering map to calculate padding\n    dispatch({ type: 'CONTAINER_READY' })\n\n    // Ref to the obscurring panel so that it can be used calculate offsets\n    obscurePanelRef.current = isNotObscure ? elementRef.current : null\n    \n    // Conditionally set activeRef to panel\n    if (instigatorRef?.current && activePanelHasFocus) {\n      activeRef.current = elementRef.current\n    }\n  }, [])\n\n  // Toggle inert elements\n  useEffect(() => {\n    toggleInert()\n  }, [isModal])\n\n  // Set tabindex on scrollable body\n  useEffect(() => {\n    const height = bodyRef.current?.offsetHeight\n    const scrollHeight = bodyRef.current?.scrollHeight\n    const hasInteractions = bodyRef.current?.querySelector('a, button')\n    const tabIndex = (!hasInteractions && height < scrollHeight) ? 0 : -1\n    bodyRef.current.tabIndex = tabIndex\n  })\n\n  const heading = () => {\n    return (\n      <h2 id={`${panelId}-label`} className={isHideHeading ? 'fm-u-visually-hidden' : 'fm-c-panel__heading'} dangerouslySetInnerHTML={{ __html: label }} />\n    )\n  }\n\n  return (\n    <>\n      <div\n        id={panelId}\n        className={getClassNames(className, isInset, isReady)}\n        aria-labelledby={`${panelId}-label`}\n        role={getRole(instigatorRef)}\n        ref={elementRef}\n        {...(instigatorRef && {\n          open: true,\n          'aria-modal': isModal,\n          onKeyDown: handleKeyDown,\n          onKeyUp: handleKeyUp,\n          onFocus: handleFocus,\n          tabIndex: '-1'\n        })}\n        {...!isMobile && hasWidth && {\n          style: { width, maxWidth }\n        }}\n      >\n        <div className={`fm-c-panel__header${isHideHeading ? ' fm-c-panel__header--collapse' : ''}`}>\n          {link ? (\n            <a href={link} className='fm-c-link'>\n              {heading()}\n            </a>\n          ) : heading()}\n          {hasCloseBtn && (\n            <button onClick={handleClose} className='fm-c-btn fm-c-btn--close-panel' aria-label='Close panel'>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', stroke: 'currentColor', strokeWidth: 0.1 }} /></svg>\n            </button>\n          )}\n        </div>\n        <div className='fm-c-panel__body' ref={bodyRef}>\n          {html && (\n            <div className='fm-c-panel__content' {...({ dangerouslySetInnerHTML: { __html: html } })} />\n          )}\n          {children}\n        </div>\n      </div>\n      {isModal && (\n        <div className='fm-c-panel-mask' />\n      )}\n    </>\n  )\n}\n","import React, { useState, Fragment } from 'react'\nimport { useQueryState } from '../hooks/use-query-state'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus.js'\nimport { parseSegments, parseLayers } from '../lib/query.js'\n\nexport default function SegmentGroup ({ id, group }) {\n  const { parent, style, drawMode, segments, legend, dispatch, activeRef } = useApp()\n  const { size } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQuerySeg] = useQueryState('seg')\n  const { display, heading, isHidden, isDetails } = group\n  const [isExpanded, setIsExpanded] = useState(group.isExpanded)\n\n  const handleItemClickOrChange = e => {\n    let seg = segments?.filter(s => !items.map(i => i.id).includes(s))\n    seg.push(e.currentTarget.value)\n    seg = parseSegments(legend?.segments, seg)\n    const lyr = parseLayers(legend?.key)\n    activeRef.current = e.currentTarget\n    dispatch({ type: 'TOGGLE_SEGMENTS', payload: { segments: seg, layers: lyr } })\n    viewportDispatch({ type: 'CLEAR_FEATURES' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'segment', drawMode, style, size, segments: seg, layers: lyr })\n\n    // Update query param\n    setQuerySeg(seg.join(','))\n  }\n\n  const handleDetailsClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  const items = group.items.map(i => { return { ...i, isChecked: segments.includes(i.id) } })\n  const selected = items.find(i => i.isChecked).label\n\n  return (\n    <div className={`fm-c-segments${display ? ' fm-c-segments--' + display : ''}${isDetails && !isExpanded ? ' fm-c-segments--hidden' : ''}`} {...isHidden ? { style: { display: 'none' } } : {}}>\n      {isDetails\n        ? (\n          <h3 className='fm-c-segments__heading'>\n            <button className='fm-c-details' aria-expanded={isExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n              <span className='fm-c-details__label'>\n                <span className='fm-c-details__label-focus'>{heading}</span>\n              </span>\n              <span className='fm-c-details__summary'>\n                <span className='fm-c-details__summary-focus'>{selected}</span>\n              </span>\n              <span className='fm-c-details__toggle'>\n                <span className='fm-c-details__toggle-focus'>\n                  <span className='fm-c-details__chevron' />\n                  {isExpanded ? 'Hide' : 'Show'}\n                </span>\n              </span>\n            </button>\n          </h3>\n          )\n        : heading && (\n          <h3 className='fm-c-layers__heading' aria-hidden='true'>{heading}</h3>\n        )}\n      <div id={`content-${id}`} className='fm-c-segments__inner' role='group' {...heading ? { 'aria-labelledby': `segment-${id}` } : { 'aria-label': 'Segments' }}>\n        {items.map(item => (\n          <Fragment key={item.label.toLowerCase()}>\n            {['timeline', 'segmented'].includes(display)\n              ? (\n                <button aria-pressed={item.isChecked} className='fm-c-segments__button' value={item.id} onClick={handleItemClickOrChange}>\n                  {!['timeline', 'segmented'].includes(display)\n                    ? <span className='fm-c-segments__button-icon' />\n                    : null}\n                  <span className='fm-c-segments__button-text' dangerouslySetInnerHTML={{ __html: item.label }} />\n                </button>\n                )\n              : (\n                <div className='fm-c-segments__item'>\n                  <input className='fm-c-segments__radio' defaultChecked={item.isChecked} id={item.id} name={`group-${id}`} type='radio' value={item.id} onChange={handleItemClickOrChange} />\n                  <label className='fm-c-segments__label' htmlFor={item.id} dangerouslySetInnerHTML={{ __html: item.label }} />\n                </div>\n                )}\n          </Fragment>\n        ))}\n      </div>\n    </div>\n  )\n}\n","import React, { Fragment } from 'react'\nimport { useApp } from '../store/use-app'\nimport SegmentGroup from './segment-group.jsx'\n\nexport default function Segments () {\n  const { segments, legend } = useApp()\n  if (!legend?.segments) {\n    return null\n  }\n\n  // Only segments with an active parent\n  let groups = legend.segments?.filter(s => s.parentIds ? s.parentIds.some(i => segments.includes(i)) : s)\n\n  // Add display properties\n  groups = groups.map(g => {\n    const isDetails = !g.type && g.heading && g.collapse && ['expanded', 'collapse'].includes(g.collapse)\n    return {\n      ...g,\n      isDetails,\n      isExpanded: isDetails && g?.collapse === 'expanded'\n    }\n  })\n\n  return (\n    <>\n      {groups.map((group, i) => (\n        <Fragment key={`gs${i}`}>\n          <SegmentGroup group={group} id={`s${i}`} />\n        </Fragment>\n      ))}\n    </>\n  )\n}\n","import React, { useRef } from 'react'\nimport { useApp } from '../store/use-app'\nimport { findTabStop } from '../lib/dom.js'\n\nexport default function More ({ id, label, isExpanded, setIsExpanded, isRemove }) {\n  const { activeRef } = useApp()\n  const btnRef = useRef(null)\n\n  const handleClick = () => {\n    setIsExpanded()\n    if (!isRemove) {\n      return\n    }\n    const previousTabStop = findTabStop(document.activeElement, 'prev')\n    activeRef.current = previousTabStop\n    console.log('More', activeRef.current)\n  }\n\n  return (\n    <>\n      {!(isRemove && isExpanded)\n        ? (\n          <button\n            className='fm-c-btn-more'\n            aria-controls={id}\n            aria-label={label}\n            aria-expanded={isExpanded}\n            ref={btnRef}\n            onClick={handleClick}\n          >\n            <span className='fm-c-btn-more__chevron' />\n            {label}\n          </button>\n          )\n        : null}\n    </>\n  )\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport { useQueryState } from '../hooks/use-query-state'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus.js'\nimport { parseSVG } from '../lib/symbols'\nimport { getColor } from '../lib/utils.js'\n\nconst getDerivedProps = (group, layers, hasInputs) => {\n  const ROW_WIDTH = 300\n  const layout = hasInputs ? group.layout : 'column'\n  const isDetails = hasInputs && layout !== 'column' && group.heading && ['expanded', 'collapse'].includes(group.collapse)\n  const numItems = group.items.length\n  const numCols = layout === 'column' && group.display === 'ramp' ? numItems : Math.min(numItems, 4)\n  const heading = group.heading || group.label\n  const checkedRadioId = group.items.find(item => layers?.includes(item.id))?.id\n  const styleAttr = { ...layout === 'column' ? { style: { gridTemplateColumns: numItems >= 4 ? `repeat(auto-fit, minmax(${Math.round(ROW_WIDTH / numCols)}px, auto))` : 'repeat(3, 1fr)' } } : {} }\n  return { layout, isDetails, heading, checkedRadioId, styleAttr }\n}\n\nconst getLabels = (group, item, checkedRadioId, layers) => {\n  const isActive = group?.type === 'radio' ? item.id === checkedRadioId : layers?.includes(item.id)\n  return isActive ? [item.label] : []\n}\n\nconst getDisplay = (group, item) => {\n  return group.display || (item.icon && 'icon') || (item.fill && 'fill') || item.display\n}\n\nexport default function LayerGroup ({ id, group, hasSymbols, hasInputs }) {\n  const { parent, dispatch, drawMode, layers, segments } = useApp()\n  const { size, style } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQueryLyr] = useQueryState('lyr')\n  const [isExpanded, setIsExpanded] = useState(group?.collapse !== 'collapse')\n  const [svg, setSvg] = useState({})\n\n  const dispatchAppChange = lyr => {\n    dispatch({ type: 'TOGGLE_LAYERS', payload: lyr })\n    viewportDispatch({ type: 'CLEAR_FEATURES' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'layer', drawMode, style, size, segments, layers: lyr })\n    // Update query param\n    setQueryLyr(lyr.join(','))\n  }\n\n  const handleItemClick = e => {\n    const lyr = layers\n    const index = lyr.indexOf(e.currentTarget.value)\n    e.currentTarget.getAttribute('aria-checked') === 'false' ? lyr.push(e.currentTarget.value) : lyr.splice(index, 1)\n    dispatchAppChange(lyr)\n  }\n\n  const handleItemChange = e => {\n    const lyr = layers\n    if (checkedRadioId) {\n      lyr.splice(lyr.indexOf(checkedRadioId), 1)\n    }\n    lyr.push(e.currentTarget.value)\n    dispatchAppChange(lyr)\n  }\n\n  const handleDetailsClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  // Display properties\n  const { layout, isDetails, heading, checkedRadioId, styleAttr } = getDerivedProps(group, layers, hasInputs)\n  const groupSummary = group.items.reduce((result, current) => [...result, ...getLabels(group, current, checkedRadioId, layers)], []).join(', ').replace(/, ([^,]*)$/, ', $1')\n  const isDarkBasemap = ['dark', 'aerial'].includes(style.name)\n\n  const keySymbol = ({ item, display }) => {\n    const fill = getColor(item?.fill, style.name)\n\n    return (\n      <>\n        {display === 'icon' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`} dangerouslySetInnerHTML={svg[item.icon]} />\n        )}\n        {display === 'fill' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg width='40' height='40' viewBox='0 0 40 40' fill={fill}>\n              <path d='M8 8h24v24H8z' />\n            </svg>\n          </div>\n        )}\n        {display === 'query-polygon' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg width='40' height='40' viewBox='0 0 40 40' fill='none'>\n              <path d='M9 9h22v22H9z' />\n            </svg>\n          </div>\n        )}\n        {display === 'ramp' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg viewBox='0 0 5 5' preserveAspectRatio='none' fill={fill} stroke={fill} strokeWidth={1}>\n              <path d='M0 0h5v5H0z' />\n            </svg>\n          </div>\n        )}\n      </>\n    )\n  }\n\n  const itemInner = ({ item, index, display, isChecked }) => {\n    if (hasInputs && group.type === 'radio') {\n      return (\n        <>\n          <input className='fm-c-layers__radio' defaultChecked={isChecked} id={item.id} name={`group-${id}`} type='radio' value={item.id} onChange={handleItemChange} />\n          <label className='fm-c-layers__label' htmlFor={item.id}>\n            {hasSymbols && keySymbol({ display, item })}\n            <span className='fm-c-layers__text' dangerouslySetInnerHTML={{ __html: item.label }} />\n          </label>\n        </>\n      )\n    } else if (hasInputs && item.id) {\n      return (\n        <button className='fm-c-layers__button' role='switch' aria-checked={isChecked} value={item.id} onClick={handleItemClick}>\n          {hasSymbols && keySymbol({ display, item })}\n          <span className='fm-c-layers__text' dangerouslySetInnerHTML={{ __html: item.label }} />\n        </button>\n      )\n    } else {\n      return (\n        <>\n          {hasSymbols && keySymbol({ display, item })}\n          <span className={group.numLabels && index % group.numLabels !== 0 ? 'fm-u-visually-hidden' : 'fm-c-layers__text'} dangerouslySetInnerHTML={{ __html: item.label }} />\n        </>\n      )\n    }\n  }\n\n  useEffect(() => {\n    // Cross browser flatten array\n    let items = group.items.map(item => item.items || item)\n    items = [].concat(...items).filter(item => item.icon)\n    Promise.all(items.map(item => fetch(item.icon))).then(responses =>\n      Promise.all(responses.map(res => res.text()))\n    ).then(texts => {\n      const icons = {}\n      texts.forEach((text, i) => {\n        const item = items[i]\n        const fill = getColor(item?.fill, style.name)\n        icons[item.icon] = { __html: parseSVG(item.icon, fill, text, isDarkBasemap) }\n      })\n      setSvg(icons)\n    })\n  }, [group])\n\n  return (\n    <div className={`fm-c-layers__group${isDetails && !isExpanded ? ' fm-c-layers__group--hidden' : ''} fm-c-layers__group--${layout || 'row'}${group.numLabels ? ' fm-c-layers__group--custom-labels' : ''}`} role='group' aria-label={heading}>\n      {isDetails\n        ? (\n          <h3 className='fm-c-layers__heading'>\n            <button className='fm-c-details' aria-expanded={isExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n              <span className='fm-c-details__label'>\n                <span className='fm-c-details__label-focus'>{heading}</span>\n              </span>\n              <span className='fm-c-details__summary'>\n                <span className='fm-c-details__summary-focus'>{groupSummary || 'None selected'}</span>\n              </span>\n              <span className='fm-c-details__toggle'>\n                <span className='fm-c-details__toggle-focus'>\n                  <span className='fm-c-details__chevron' />\n                  {isExpanded ? 'Hide' : 'Show'}\n                </span>\n              </span>\n            </button>\n          </h3>\n          )\n        : heading && (\n          <h3 className='fm-c-layers__heading' aria-hidden='true'>{heading}</h3>\n        )}\n      <div\n        id={`content-${id}`}\n        className={`fm-c-layers__${layout || 'row'}s`}\n        {...styleAttr}\n      >\n        {group.items.map((item, i) => {\n          let display = getDisplay(group, item)\n          const isChecked = group?.type === 'radio' ? item?.id === checkedRadioId : layers?.includes(item.id)\n          return (\n            <Fragment key={(item.id || item.label).toLowerCase()}>\n              {(hasSymbols || item.id) && (\n                <div className={`fm-c-layers__item fm-c-layers__item--${display}`}>\n                  {itemInner({ item, index: i, display, isChecked })}\n                </div>\n              )}\n              {hasSymbols && item.items?.map((child, j) => {\n                display = item.display || (child.icon ? 'icon' : 'fill')\n                return (\n                  <div key={`${item.label.toLowerCase()}-${j}`} className={`fm-c-layers__item fm-c-layers__item--${display}`}>\n                    {itemInner({ item: child, index: j, display })}\n                  </div>\n                )\n              })}\n            </Fragment>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, Fragment } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { findTabStop } from '../lib/dom.js'\nimport { parseGroups } from '../lib/query.js'\nimport More from './more.jsx'\nimport LayerGroup from './layer-group.jsx'\n\nexport default function Layers ({ hasSymbols, hasInputs }) {\n  const { dispatch, query, segments, options, activeRef, layers, isKeyExpanded } = useApp()\n  const { id, legend, draw } = options\n  const { currentZoom } = useViewport()\n\n  // Derived properties\n  const hasHiddenGroups = legend?.key.some(item => item.isHidden)\n  const queryLabel = query ? draw?.keyLabel : null\n  const groups = parseGroups(legend?.key, segments, layers, currentZoom, hasInputs, queryLabel)\n  const isEmptyKey = !hasInputs && !groups.length\n  const setIsExpanded = () => dispatch({ type: 'TOGGLE_KEY_EXPANDED', payload: !isKeyExpanded })\n\n  useEffect(() => {\n    if (!isKeyExpanded) {\n      return\n    }\n    const lastRef = activeRef.current\n    const nextTabStop = findTabStop(lastRef, 'next')\n    const isLayer = document.getElementById(`${id}-key`).contains(nextTabStop)\n    isLayer ? nextTabStop?.focus() : lastRef?.focus()\n  }, [isKeyExpanded])\n\n  if (!legend?.key) {\n    return null\n  }\n\n  return (\n    <div id={`${id}-key`} className='fm-c-layers'>\n      {groups.map((g, i) => (\n        <Fragment key={`fl${i}`}>\n          {(isKeyExpanded || !g.isHidden) && (\n            <LayerGroup key={`lg${i}`} group={g} id={`l${i}`} display={legend?.display} hasSymbols={hasSymbols} hasInputs={hasInputs} />\n          )}\n        </Fragment>\n      ))}\n      {!isKeyExpanded && hasHiddenGroups && (\n        <div className='fm-c-layers__more fm-c-layers__more--center'>\n          <More id={`${id}-key`} label='All layers' isExpanded={isKeyExpanded} setIsExpanded={setIsExpanded} isRemove />\n        </div>\n      )}\n      {isEmptyKey && (\n        <p className='fm-c-layers__error'>No features displayed</p>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useViewport } from '../store/use-viewport'\n\nexport default function Logo () {\n  const { isReady, style } = useViewport()\n  const isDarkBasemap = ['dark', 'aerial'].includes(style?.name)\n  const hasDefaultLogo = style && !('logo' in style)\n\n  return (\n    <>\n      {hasDefaultLogo && (\n        <div className={`fm-c-logo${!isReady ? ' fm-u-hidden' : ''}`}>\n          <svg xmlns='http://www.w3.org/2000/svg' width='90' height='24' fillRule='nonzero' role='img'><title>Ordnance Survey logo</title><path fill={isDarkBasemap ? '#000' : '#fff'} d='M30.084.001l1.602.005a9.8 9.8 0 0 1 6.325 3.312c.484.558.484 1.387-.012 1.959-.281.312-.681.493-1.103.497-.436.004-.851-.184-1.135-.512a6.83 6.83 0 0 0-4.099-2.266l-.437-.065-.381-.022.001 4.319.191.001a8.45 8.45 0 0 1 7.122 3.878c.002-.009.042.053.115.187l.239.418.059.112c.045.086.098.202.159.351l.01.021a8.65 8.65 0 0 1 .384 1.033l.042.14.045.149.16.76c.027.176.055.449.083.817.094 1.543-.244 3.115-.983 4.485l-.044.076c-.07.127-.228.38-.49.775-.014.021-.046.063-.095.125-.465.625-1.015 1.181-1.633 1.655l-.162.123-.468.318c-.415.263-.853.49-1.308.676l-.199.079-.2.073-1.127.33-.747.127-.034.006c-.091.015-.345.056-.959.056h-1.546c-2.885 0-5.631-1.235-7.711-3.447a1.5 1.5 0 0 1-.407-.788 1.53 1.53 0 0 1-.023-.205A11.97 11.97 0 0 1 12 24C5.373 24 0 18.628 0 12S5.373 0 12 0c4.174 0 7.85 2.131 10 5.364l.017-.035.304-.626a8.42 8.42 0 0 1 2.295-2.876l.402-.303A8.31 8.31 0 0 1 29.337.011C29.374.009 29.464 0 29.5 0l.584.001zm28.944 2.148a1.1 1.1 0 0 1 1.097 1.095v1.423c.053-.008.106-.012.161-.012h.861c.192-.001.374.048.532.135a3.26 3.26 0 0 1 1.431-.292c1.223 0 2.111.512 2.626 1.426.7-.879 1.745-1.422 2.87-1.422a3.39 3.39 0 0 1 1.436.297c.161-.092.347-.144.544-.143h.865a1.09 1.09 0 0 1 .627.197 1.09 1.09 0 0 1 .622-.194h.866c.193-.001.375.048.534.136.448-.202.941-.304 1.444-.293 1.228.004 2.116.524 2.626 1.447.692-.9 1.768-1.457 3.033-1.457.946 0 1.851.235 2.509.911l.105.115a3.65 3.65 0 0 1 2.571-1.015c2.28 0 3.611 1.589 3.611 4.117 0 .397-.211.745-.527.937l.256.686a1.09 1.09 0 0 1-.329 1.267c-.84.708-1.889.987-3.01.987-.997 0-1.856-.335-2.502-.914l-.066.063c-.693.571-1.588.851-2.628.851-1.013 0-1.9-.354-2.566-.955a1.09 1.09 0 0 1-1.05.789h-.945c-.604 0-1.096-.49-1.096-1.095V8.499l-.003-.369c-.007-.33-.035-.545-.079-.658-.017.002-.04.007-.084.007-.263 0-.629.263-.629.315v3.441c0 .291-.116.57-.322.776s-.484.32-.773.32H72.7a1.09 1.09 0 0 1-.617-.19c-.177.126-.396.201-.632.201h-.945a1.09 1.09 0 0 1-.513-.128c-.429.186-.897.284-1.374.283-.947 0-1.784-.329-2.427-.888-.153.422-.558.722-1.031.722h-.943c-.604 0-1.096-.49-1.096-1.095V8.318l-.002-.187c-.007-.329-.036-.543-.082-.662-.014.006-.037.01-.081.01-.264 0-.629.262-.629.315v3.459c-.011.599-.5 1.077-1.097 1.077h-.943c-.226 0-.444-.07-.627-.197-.178.125-.396.199-.631.199h-.943a1.09 1.09 0 0 1-.508-.125c-.43.189-.899.289-1.379.289-2.013 0-3.528-1.478-3.743-3.498l-.018-.208-.03.197c-.045.317-.067.57-.067.759v1.489c0 .295-.119.577-.329.783s-.492.317-.768.312h-.943c-.604 0-1.096-.49-1.096-1.095l.001-.485a5.02 5.02 0 0 1-1.406 1.155 4.11 4.11 0 0 1 .381.212c.24.162.407.411.463.686.065.307-.005.627-.177.856l-.49.694c-.318.439-.909.58-1.447.302a2.18 2.18 0 0 0-.886-.3c-.299 0-.396.07-.396.181 0 .003.162.115.691.266.839.222 1.535.548 2.07.972l-.001-.81c.011-.599.5-1.077 1.097-1.077h.945c.29 0 .568.115.773.32s.322.484.322.776v2.845c.001.52.024.776.081.924l.001.004c.017-.007.04-.012.084-.012.264 0 .629-.262.629-.313v-3.448c0-.291.116-.57.322-.776s.483-.32.773-.32h.939c.228-.001.449.069.634.198a1.09 1.09 0 0 1 .628-.198h.861c.151-.001.296.03.429.085a2.76 2.76 0 0 1 1.143-.247 3.65 3.65 0 0 1 .83.116 1.1 1.1 0 0 1 .151.051l.12-.005h.963c.468-.01.892.28 1.043.698l.771 1.973.797-1.971a1.09 1.09 0 0 1 1.022-.7h.951a1.1 1.1 0 0 1 .842.38 3.7 3.7 0 0 1 1.953-.537c.724 0 1.352.16 1.872.459a1.1 1.1 0 0 1 .754-.302h.965c.468-.01.891.28 1.043.698l.784 2.011.803-2.009c.167-.433.588-.713 1.023-.701h.95l.073.003c.529.039.952.45 1.009.972a1.13 1.13 0 0 1-.008.331l-.062.213-2.468 5.923c-.608 1.408-1.639 2.349-2.92 2.571l-.17.015h-.018c-.318-.005-.618-.148-.832-.401l-.514-.627c-.237-.29-.31-.682-.192-1.038.096-.291.308-.525.584-.652l-.178-.091c-.738.439-1.595.62-2.496.62-1.649 0-2.923-.915-3.474-2.336l-.642 1.505c-.172.407-.572.67-1.009.668h-.913c-.432-.003-.823-.26-1.003-.67l-1.702-4.042c-.232.026-.483-.025-.74-.165.018.012.042.018-.032.021-.193 0-.318.28-.318.784v2.978c0 .291-.116.57-.322.776s-.484.32-.773.32h-.945a1.09 1.09 0 0 1-.629-.199 1.06 1.06 0 0 1-.629.199h-.842a1.1 1.1 0 0 1-.551-.134 3.25 3.25 0 0 1-1.431.291c-1.184 0-2.054-.48-2.576-1.339-.643.832-1.698 1.339-2.946 1.339-1.398-.015-2.691-.493-3.523-1.388-.327-.402-.327-.979-.043-1.324l.496-.709c.182-.257.465-.423.718-.449.355-.06.718.06.925.28a2.28 2.28 0 0 0 1.474.612c.098.003.193-.034.262-.103s.105-.161.101-.302c.002-.203-.109-.284-.922-.505-1.864-.508-3.009-1.698-3.009-3.322a2.92 2.92 0 0 1 1.315-2.497c-1.694-.826-2.863-2.628-2.863-4.696 0-2.839 2.204-5.169 4.944-5.169 1.852 0 3.461 1.064 4.309 2.631a1.07 1.07 0 0 1 .486-.115h.861c.151-.001.296.029.428.085.349-.16.734-.246 1.134-.247.285.004.568.043.809.108.293.067.537.248.688.488.578-.38 1.255-.596 1.964-.596a3.39 3.39 0 0 1 .806.085V3.244c0-.606.491-1.095 1.096-1.095h.943zM23.853 14.034l-.021-.023a11.92 11.92 0 0 1-1.48 4.062 1.49 1.49 0 0 1 .467-.073c.429.007.836.192 1.106.495 1.49 1.588 3.389 2.47 5.376 2.515h.727l-.002-4.406-.186-.001a8.34 8.34 0 0 1-5.987-2.568l-.021-.023zm44.845-6.555c-.431 0-.711.383-.711 1.02 0 .681.236 1.017.711 1.019.378 0 .713-.433.713-1.019 0-.746-.232-1.02-.713-1.02zm-12.422 0c-.432 0-.713.383-.713 1.02 0 .685.234 1.017.713 1.019.378 0 .713-.433.713-1.019 0-.746-.232-1.02-.713-1.02zM45.506 5.123c-.969 0-1.813.959-1.813 2.194s.845 2.194 1.813 2.194 1.811-.958 1.811-2.194-.843-2.194-1.811-2.194zM81.2 7.466c-.463 0-.711.357-.711 1.02 0 .764.216 1.019.754 1.019a1.42 1.42 0 0 0 .923-.282 1.09 1.09 0 0 1 .479-.243c-.016-.156-.024-.317-.024-.482a4.73 4.73 0 0 1 .023-.47l-.047-.002c-.255-.025-.495-.137-.679-.316l-.081-.089c-.107-.133-.183-.156-.636-.156z' opacity='.7' /><path fill={isDarkBasemap ? '#fff' : '#453c90'} d='M57.99 10.708c-.459.502-1.11.789-1.792.788-1.605 0-2.769-1.262-2.769-2.997 0-1.853 1.438-2.997 2.769-2.997a2.39 2.39 0 0 1 1.792.77V3.244c0-.053.043-.095.096-.095h.943c.053 0 .096.042.097.095v7.993c-.001.053-.044.095-.097.095h-.943c-.053 0-.096-.043-.096-.095v-.529zm-3.425-2.209c0 .97.444 2.013 1.713 2.019 1.072 0 1.713-1.028 1.713-2.019 0-1.266-.64-2.02-1.713-2.02-1.182 0-1.713 1.047-1.713 2.02zm5.722 2.831c-.025 0-.05-.01-.068-.028s-.028-.042-.028-.067V5.75c0-.053.043-.095.096-.095h.865c.049 0 .091.037.096.086l.055.543c.456-.517 1.118-.805 1.808-.786 1.424 0 2.148.929 2.148 2.759v2.978c-.001.053-.044.095-.097.095h-.943c-.053 0-.096-.043-.096-.095V8.499c0-.476 0-1.003-.152-1.391-.166-.43-.483-.629-1.014-.629-.656 0-1.629.552-1.629 1.315v3.441c-.001.053-.044.095-.097.095h-.943zm15.015 3.557c.048.004.086.042.088.09.003.015.003.029 0 .044l-2.463 5.911c-.483 1.119-1.254 1.823-2.173 1.981h-.002c-.029 0-.056-.013-.074-.035l-.513-.626c-.021-.026-.027-.06-.017-.092s.036-.055.068-.064c.89-.22 1.407-.709 1.723-1.631l-2.288-5.447c-.015-.028-.015-.062 0-.09s.049-.042.081-.042h.985c.04-.001.077.024.09.062l1.704 4.372 1.748-4.374c.014-.037.05-.061.09-.06h.95zM45.506 3.148c2.176 0 3.947 1.87 3.947 4.169s-1.773 4.178-3.947 4.178-3.944-1.879-3.944-4.178 1.769-4.169 3.944-4.169zm2.811 4.169c0-1.761-1.26-3.194-2.811-3.194s-2.813 1.433-2.813 3.194 1.263 3.194 2.813 3.194 2.811-1.431 2.811-3.194zm5.66 7.57c.026 0 .05.009.069.027s.029.042.029.068v5.484c0 .026-.01.05-.029.068s-.043.028-.069.027h-.863c-.05.001-.092-.037-.096-.086l-.057-.543a2.32 2.32 0 0 1-1.808.786c-1.424 0-2.148-.927-2.148-2.759v-2.978c.001-.053.044-.095.097-.095h.945c.025 0 .05.01.068.028s.028.042.028.067v2.741c0 .497 0 1.003.15 1.393.168.428.485.628 1.016.628.656 0 1.629-.552 1.629-1.313v-3.448c0-.025.01-.049.028-.067s.042-.028.068-.028h.943zm10.428.042c.018.027.022.062.009.092l-2.342 5.483c-.015.035-.05.058-.088.058h-.906c-.038 0-.073-.023-.088-.058l-2.309-5.484c-.012-.029-.009-.063.009-.09s.048-.043.08-.042h.984c.04-.001.077.024.09.062l1.686 4.317 1.746-4.319c.014-.036.049-.06.088-.06h.961c.033 0 .063.016.081.042zm2.703-.199c1.684 0 2.611 1.107 2.611 3.124 0 .026-.009.05-.027.068s-.043.029-.068.029H65.48c.069.887.527 1.798 1.628 1.798.809 0 1.53-.245 1.974-.672.024-.023.058-.032.09-.025s.057.03.067.06l.276.74c.014.038.004.08-.027.108-.74.631-1.704.763-2.381.763-1.656 0-2.771-1.204-2.771-2.997 0-1.738 1.166-2.997 2.771-2.997zm-1.617 2.406h3.077c-.166-.97-.633-1.423-1.46-1.423s-1.451.554-1.617 1.423zm-15.19-5.807c-.053 0-.096-.043-.096-.095V5.759c0-.053.043-.095.096-.095h.865c.049 0 .091.037.096.086l.05.497a1.69 1.69 0 0 1 1.398-.746c.203.003.405.031.602.083.044.01.075.049.074.093v.857c0 .034-.018.066-.048.083s-.066.017-.096 0c-.171-.114-.376-.165-.58-.145-1.226 0-1.32 1.366-1.32 1.784v2.978c0 .026-.01.05-.029.068s-.043.028-.069.027h-.943zm36.088-5.828C88.073 5.502 89 6.607 89 8.619c0 .053-.043.095-.096.095h-4.143c.069.889.529 1.798 1.628 1.798.819 0 1.527-.25 1.978-.673.023-.022.055-.032.087-.025s.059.029.071.06l.276.74c.02.041.008.09-.03.116-.74.633-1.702.765-2.381.765-1.656 0-2.769-1.208-2.769-2.997 0-1.738 1.164-2.997 2.769-2.997zm-1.617 2.398h3.077c-.166-.97-.633-1.423-1.46-1.423s-1.451.555-1.617 1.423zm-39.099 7.868c1.714.451 2.583 1.32 2.581 2.584-.007 1.394-1.081 2.368-2.611 2.368-1.143-.012-2.174-.393-2.758-1.019-.028-.035-.028-.085 0-.12l.494-.705c.016-.023.041-.038.069-.041s.055.005.074.025a3.28 3.28 0 0 0 2.123.881c.375.013.738-.13 1.003-.394s.408-.627.394-1c.009-.95-.745-1.231-1.66-1.479-1.468-.4-2.272-1.239-2.272-2.357 0-1.458 1.313-2.133 2.532-2.133.7.003 1.386.2 1.98.569a.1.1 0 0 1 .042.063.09.09 0 0 1-.016.072l-.483.684c-.029.04-.082.052-.126.03-.425-.253-.904-.404-1.398-.441-.688 0-1.396.358-1.396 1.158-.018.772.805 1.077 1.426 1.253zm12.574-.957c.044.011.074.05.074.095v.86c0 .035-.019.067-.05.085s-.066.016-.096 0c-.172-.114-.377-.165-.582-.145-1.223 0-1.318 1.366-1.318 1.784v2.978c0 .025-.01.049-.028.067s-.042.028-.068.028h-.945c-.053 0-.096-.043-.096-.095v-5.484c0-.025.01-.049.028-.067s.042-.028.068-.028h.865c.049 0 .091.037.096.086l.05.497a1.69 1.69 0 0 1 1.398-.746 2.65 2.65 0 0 1 .603.085zm24.666-4.851c.031.011.053.038.058.071l.244.74c.012.038 0 .079-.03.104-.501.413-1.171.622-1.992.622-1.677 0-2.85-1.269-2.85-3.008s1.203-2.997 2.861-2.997c.412 0 1.433.079 1.964.813.024.033.024.078 0 .111l-.398.575a.09.09 0 0 1-.074.042c-.03-.003-.058-.016-.08-.037-.395-.49-.855-.529-1.415-.529-1.263 0-1.711 1.088-1.711 2.02 0 1.282.623 2.019 1.711 2.019a2.44 2.44 0 0 0 1.624-.529c.024-.021.058-.028.088-.018zm-14.292 1.537c-1.605 0-2.769-1.268-2.769-2.997 0-1.853 1.437-2.997 2.769-2.997.692-.01 1.353.28 1.813.795l.057-.555c.005-.049.046-.087.096-.086h.865c.053 0 .096.043.096.095v5.495c0 .053-.043.095-.096.095h-.945c-.053 0-.096-.043-.096-.095v-.529c-.46.499-1.11.782-1.79.779zm-1.633-2.997c0 .97.449 2.013 1.711 2.019 1.072 0 1.713-1.028 1.713-2.019 0-1.266-.64-2.02-1.713-2.02-1.18 0-1.711 1.047-1.711 2.02zm8.543-2.997c1.426 0 2.148.926 2.141 2.755v2.978c0 .053-.043.095-.096.095h-.945c-.053 0-.096-.043-.096-.095V8.499c0-.476 0-1.003-.15-1.391-.168-.43-.485-.629-1.016-.629-.655 0-1.629.552-1.629 1.315v3.441c0 .025-.01.049-.028.067s-.042.028-.068.028H72.7c-.053 0-.096-.043-.096-.095V5.754c0-.053.043-.095.096-.095h.87c.049 0 .091.037.096.086l.055.543a2.33 2.33 0 0 1 1.81-.786zM10.216 22.848l-.214-.035-.24-.046c-1.04-.215-2.043-.581-2.979-1.086l.032-.191c.236-1.486.48-3.021 1.093-4.409a1.22 1.22 0 0 0 .301-.536l2.342.075.457.008c.19-.012.373-.074.531-.18.17.108.367.165.569.164a1.02 1.02 0 0 0 .742-.313c.425.209.832.388 1.348.388h.108c.571-.047 1.137-.148 1.69-.3l1.741-.47c-.455.51-.95.982-1.479 1.413-.747.54-1.543 1.005-2.379 1.39a4.65 4.65 0 0 0-1.215.872 3.93 3.93 0 0 0-.593.865l-.117.207a5.7 5.7 0 0 1-.253.382c-.185.24-.337.504-.45.786l-.326 1.04-.021.068-.687-.093zm4.477-4.023c.831 1.134 2.051 1.804 3.305 2.389-1.786 1.167-3.869 1.788-5.997 1.787-.214 0-.427-.007-.636-.02l.31-.988c.1-.242.232-.469.393-.675a4.55 4.55 0 0 0 .275-.416l.12-.213c.139-.278.313-.535.519-.766a4.21 4.21 0 0 1 1.095-.784l.616-.313zM7.199 6.405a27.19 27.19 0 0 0-.459-4.066 11 11 0 0 1 12.097 1.045 2.67 2.67 0 0 0-.198.225c-.164.231-.294.485-.384.754l-.106.266-.145.332c-.242.598-.538 1.173-.884 1.717a6.77 6.77 0 0 1-.962 1.072l-.687.704-.177.23-.427-.389-.097-.179a.72.72 0 0 1-.143-.393c.014-.141.214-.298.368-.425l.126-.107c.046-.04.074-.097.078-.158s-.017-.121-.058-.166-.096-.073-.156-.077-.119.017-.164.057a2.29 2.29 0 0 1-.113.095c-.216.168-.478.393-.531.704-.018.249.052.496.197.699l.025.048a5.9 5.9 0 0 0-.14.207c-.221.345-.384.566-.604.536-.561-.086-.68.232-.793.536s-.197.734.381.972l.159.068a4.09 4.09 0 0 0 .65.232 2.53 2.53 0 0 0 .377.063l.517.021 1.063.061c.484.023.964.104 1.429.243.283.089.459.372.593.625.22.414.43.868.684 1.474.182.413.394.813.632 1.195l.089.148a3.31 3.31 0 0 1-.365.179 21.27 21.27 0 0 1-3.215.995c-.518.142-1.047.236-1.582.28-.446.027-.806-.138-1.213-.331.023-.087.035-.177.035-.268.015-.455-.297-.855-.739-.949l.048-.563a7.98 7.98 0 0 0 .066-1.054l-.03-.573-.028-.661v-.109c-.004-.656-.011-1.629-.739-1.965-.499-.208-1.043-.285-1.58-.225a3.37 3.37 0 0 0-.413.059c-.283.05-.613.109-.79.014-.117-.061-.159-.25-.186-.447-.025-.219-.036-.439-.03-.659v-.152a14.06 14.06 0 0 0-.043-.916l-.021-.357-.027-.357c-.048-.356-.048-.716 0-1.072a45.46 45.46 0 0 0 .252-1.429c.021-.125-.063-.243-.187-.264s-.241.064-.261.188l-.25 1.415a4.28 4.28 0 0 0-.011 1.193l.025.357.023.357.041.893v.15a5.27 5.27 0 0 0 .034.715c.028.197.113.624.436.786s.719.091 1.073.029a3.38 3.38 0 0 1 .354-.054c.465-.052.936.015 1.369.195.478.211.478 1.009.478 1.545v.114l.03.684.028.557a8.04 8.04 0 0 1-.062.993l-.051.593a.95.95 0 0 0-.808.967 1 1 0 0 0 .119.473c-.103.057-.22.081-.337.068l-2.641-.095c-.016-.19-.077-.374-.177-.536-.652-1.426-.829-3.026-1.006-4.577l-.032-.261c.134-1.429.193-2.863.177-4.298zm2.526.222h-.004c-.011.185-.001.37.028.552.012.111.09.531.19.579s.352 0 .453 0h1.155v-.879h-.26V5.765h-1.162c-.131 0-.182-.027-.25.059-.135.17-.14.598-.151.802zm-3.661 8.583l-.067 1.994c-.636-.07-1.24-.366-1.24-.993s.643-.945 1.307-1zm.639.032c.23.036.452.114.654.232a.84.84 0 0 1 .439.736c0 .577-.547.891-1.153.981l.06-1.949zm13.803-.598l2.297-.579a10.97 10.97 0 0 1-1.213 3.325 10.66 10.66 0 0 0-.93-1.174 1.75 1.75 0 0 0-.498-.332 1.91 1.91 0 0 1-.292-.179c-.137-.132-.236-.298-.287-.482.319-.153.617-.348.886-.579.012.002.025.002.037 0zm.542-1.417a5.93 5.93 0 0 1-.822 1.034c-.122.109-.252.208-.39.297a7.14 7.14 0 0 1-.092-.155 9.11 9.11 0 0 1-.611-1.149l-.708-1.511c-.085-.17-.19-.329-.314-.473l-.37-4.716a14.17 14.17 0 0 0 .67-1.408l.142-.331.115-.282c.076-.227.183-.443.319-.64a2.44 2.44 0 0 1 .195-.214c2.027 1.739 3.351 4.168 3.72 6.826l-.142.211-1.534 2.262-.177.25zm-5.009-2.594l-1.08-.064-.375-.018.09-.143a12.95 12.95 0 0 1 1.148-1.649c.204-.236.436-.459.659-.674.307-.284.594-.591.857-.916l.294 3.752-.048-.021c-.502-.153-1.021-.242-1.544-.266zm5.383 2.853l.17-.245 1.376-2.028a11.44 11.44 0 0 1 .032.79c-.001.524-.039 1.048-.113 1.567l-1.856.468.391-.552zm-6.405-4.429a21.81 21.81 0 0 0-.733 1.111l-.198.316c-.174-.053-.344-.117-.51-.191l-.156-.071c-.198-.082-.234-.109-.129-.388s.105-.279.303-.25c.519.075.829-.393 1.05-.736l.055-.084.319.293zm-8.293 5.721l.145-2.126c.109.794.293 1.576.547 2.335-.219-.103-.453-.174-.693-.209zM4.666 17.11c.55 1.343 1.006 2.723 1.366 4.13-2.097-1.353-3.675-3.387-4.47-5.767l.011-.014.136-.093c.229-.136.437-.306.616-.504l.639.504.462.372a4.62 4.62 0 0 0 .508.329l.377.238c.021.297.147.577.354.79zM1.439 9.814l-.177-.157c.379-1.732 1.169-3.346 2.303-4.702l.043.779.267 3.988.012.102c.035.32.027.431-.103.498a1.23 1.23 0 0 1-.468.084l-.19.014c-.096.009-.2.03-.31.052-.236.043-.503.096-.629 0-.257-.202-.507-.434-.749-.657zm-.285.357l.758.657.044.03.085 2.783c.002.088.011.182.021.277a1.73 1.73 0 0 1 0 .482c-.046.211-.367.427-.6.584l-.041.027A10.97 10.97 0 0 1 1 12.002a11.12 11.12 0 0 1 .154-1.831zm20.153 7.605l.03.05c-.759 1.213-1.743 2.266-2.899 3.101-1.263-.595-2.52-1.236-3.335-2.323.5-.265.979-.569 1.431-.909a13.22 13.22 0 0 0 1.56-1.492l.577-.604a11.86 11.86 0 0 0 .496-.191 1.43 1.43 0 0 0 .43.665 2.22 2.22 0 0 0 .354.213 1.36 1.36 0 0 1 .381.239 11.47 11.47 0 0 1 .974 1.251zm-9.749-2.146a.52.52 0 0 1 .16-.385.51.51 0 0 1 .39-.14c.138-.003.273.044.381.132a.49.49 0 0 1 .161.393.55.55 0 0 1-.546.55.55.55 0 0 1-.546-.55zm-4.92 2.022c.232-.027.459-.085.675-.173-.274.768-.483 1.558-.627 2.362l-.035-.87-.012-1.318zm-.678-4.288l.126-.447.168-.586-.168 2.421c-.226.014-.449.055-.664.123a3.63 3.63 0 0 0 .248-.536 13.3 13.3 0 0 0 .29-.975zm.051 5.626l.034.825a27.86 27.86 0 0 0-.79-2.337 2.57 2.57 0 0 0 .742.179l.014 1.333zM4.061 5.697l-.067-1.234a11.08 11.08 0 0 1 2.141-1.785c.226 1.233.362 2.481.406 3.734.035 1.293-.043 2.608-.142 3.904L5.69 12.79l-.128.461-.282.947c-.089.231-.198.453-.328.663l-.177.339a1.27 1.27 0 0 0-.411.586l-.211-.125a4.22 4.22 0 0 1-.459-.295 11.72 11.72 0 0 1-.455-.357l-.73-.573a2.21 2.21 0 0 0 0-.563l-.019-.243-.074-2.653c.16-.008.319-.03.475-.066.087-.02.184-.046.264-.046l.177-.013a1.58 1.58 0 0 0 .652-.134c.437-.225.388-.666.354-.959l-.011-.095-.267-3.966z' /><path fill={isDarkBasemap ? '#fff' : '#d40058'} d='M29.459 22.011v-.002c.274 0 .496.222.496.495s-.222.495-.496.495c-2.604 0-5.088-1.118-6.998-3.147a.52.52 0 0 1-.111-.56c.08-.178.257-.293.453-.293.15.002.292.067.392.179 1.715 1.827 3.937 2.832 6.264 2.832zm2.004-20.049v.004c-.253-.031-.44-.252-.426-.507s.223-.455.478-.459h.061a8.8 8.8 0 0 1 5.679 2.974c.158.182.158.453 0 .635-.094.105-.228.165-.369.166s-.279-.06-.372-.168a7.83 7.83 0 0 0-5.051-2.645zm.045 11.462l-.481-.116v-2.199c.428.107.666.29.766.585a4.34 4.34 0 0 1 .161.808 4.57 4.57 0 0 0 .204.975l.041.102-.691-.154zm.864-1.935c-.227-.658-.816-.894-1.337-1.009V8.229a7.45 7.45 0 0 1 6.592 3.952l-.426.336-.14.122c-.063.061-.132.116-.204.166h-.021a32.33 32.33 0 0 1-1.283-.751.23.23 0 0 0-.355.178.23.23 0 0 0 .103.205l.07.034-.383.136-.109.036a.66.66 0 0 0-.485.401c-.021.046-.048.12-.075.2-.042.128-.092.254-.15.376-.197.011-.834 0-1.271 0-.059-.116-.112-.236-.157-.358-.089-.276-.149-.56-.179-.848a4.79 4.79 0 0 0-.188-.924zm.567 11.215c-.007.005-.013.01-.018.016-.358.096-.722.165-1.09.207-.268.029-.401.089-.601-.045-.124-.078-.2-.212-.204-.358v-.486-4.376l2.112 4.649-.199.392zm2.54-3.988c.392.594 1.024.975 1.559 1.243-.453.608-.996 1.143-1.611 1.586l-.444-.628a.23.23 0 0 0-.338-.041l-1.144.992-.036.036-2.432-5.352V13.78l.369.089c.339.094.685.162 1.034.204a3.83 3.83 0 0 0 1.038 1.225c.258.186.852.511 1.332.409.206-.042.384-.173.485-.358.109-.223.17-.467.179-.715.059-.737.281-.796.426-.699.285.19.12.672-.1 1.164l-.045.102a6.89 6.89 0 0 0-.596 1.727c-.124.616-.008 1.255.324 1.788zM38 13.941c.102.052.206.089.308.136.394 1.846.059 3.772-.934 5.377h-.011c-.476-.243-1.043-.578-1.371-1.073a1.84 1.84 0 0 1-.231-1.348c.111-.545.294-1.072.544-1.568l.045-.102c.191-.426.583-1.431-.199-1.888-1.348-.789-1.006 1.364-1.401 1.591-.027.014-.032.043-.079.054-.199.039-.601-.123-.839-.302a3.04 3.04 0 0 1-.675-.715h.428c.264.016.528-.002.787-.052.166-.095.258-.327.369-.642l.061-.163c.045-.102.052-.104.206-.154l.123-.039.589-.209.079-.032c.023-.011.066-.032.055-.032.043.009.773.436.773.436l.537.295a.22.22 0 0 0 .115.03c.083 0 .159-.044.199-.116.03-.053.038-.116.022-.174a.23.23 0 0 0-.108-.139l-.107-.059.077-.068.12-.104.345-.277a7.65 7.65 0 0 1 .34.914c-.117-.046-.249.012-.295.129s.012.249.129.295zm-2.957 7.868c-.472.299-.976.544-1.503.73a1.31 1.31 0 0 1 .256-.32l.952-.828.295.418zm-8.745-9.892l-1.736-1.518c-.209-1.662-.75-3.265-1.591-4.714l1.357 1.152c.095.079.159.19.179.313a5.7 5.7 0 0 1 .161.858 7.57 7.57 0 0 0 .131.755 3.43 3.43 0 0 0 .855 1.701 2.94 2.94 0 0 0 2.157.907 3.42 3.42 0 0 0 .424-.027l1.602-.277v1.967l-2.815-.774c-.05-.016-.115-.03-.179-.045-.104-.017-.206-.046-.304-.086-.056-.036-.106-.078-.15-.127l-.089-.084zm.609.783l2.937.808v2.094a7.34 7.34 0 0 1-5.269-2.26 12.33 12.33 0 0 0 .082-1.393l-.032-.882 1.371 1.196.072.066c.077.083.166.153.265.207a1.61 1.61 0 0 0 .413.125l.161.038zm2.488-11.691c.485-.027.449.52.449.52v8.925l-1.677.293a2.38 2.38 0 0 1-2.064-.696 2.82 2.82 0 0 1-.702-1.418c-.052-.215-.082-.438-.115-.672l.034.021c.222.173.489.28.77.309a1.01 1.01 0 0 0 .524-.147c.134-.075.197-.091.256-.075.222.075.431.188.616.333.1.075.113.084-.054.392l-.043.08c-.078.15-.02.334.129.413a.32.32 0 0 0 .143.036c.114 0 .218-.063.27-.165l.041-.075c.145-.277.417-.771-.12-1.171-.242-.192-.515-.34-.807-.438a.92.92 0 0 0-.694.116c-.073.05-.159.078-.247.082-.383-.038-.881-.443-.934-.443-.021-.093-.043-.157-.072-.25-.054-.237-.184-.449-.37-.604L23.347 5.2a.31.31 0 0 0-.127-.061 7.39 7.39 0 0 1 1.999-2.516l.013.027a.23.23 0 0 0 .209.134.22.22 0 0 0 .095-.02.23.23 0 0 0 .115-.304l-.055-.122a7.31 7.31 0 0 1 3.8-1.33zm4.653 10.123c-.041.045-.062.105-.058.166s.031.118.076.158l.465.409c.042.034.094.053.149.054a.23.23 0 0 0 .149-.406l-.455-.399a.23.23 0 0 0-.326.018zm-.716-1.06v.004a.23.23 0 0 0-.319-.063.23.23 0 0 0-.063.318 1.43 1.43 0 0 0 .149.179l.179.179.111.118c.043.046.103.072.166.072s.116-.023.159-.063c.091-.088.095-.233.009-.325l-.111-.116c-.063-.055-.12-.118-.179-.179-.037-.039-.071-.08-.102-.123zM32.275 8.68l.004.004c-.098.078-.115.22-.038.318a2.39 2.39 0 0 1 .286.479.23.23 0 0 0 .206.129c.035 0 .069-.008.1-.023.055-.026.098-.073.118-.13s.016-.121-.011-.175c-.092-.202-.207-.393-.344-.569-.038-.047-.094-.077-.154-.083s-.121.012-.168.051zm-6.187-4.479c.028.002.056-.001.082-.009a.23.23 0 0 0 .124-.126c.023-.057.022-.12-.002-.177l-.118-.268-.131-.313a.23.23 0 0 0-.304-.113.23.23 0 0 0-.113.304l.136.302.115.259a.23.23 0 0 0 .211.139zm.843 1.336a.23.23 0 0 0 .095-.148c.011-.06-.003-.122-.038-.172l-.251-.392-.063-.113a.23.23 0 0 0-.398-.015.23.23 0 0 0-.009.229l.068.125c.086.15.183.293.274.426a.23.23 0 0 0 .19.1.24.24 0 0 0 .131-.041zm1.23.969c.019-.059.013-.123-.016-.178a.23.23 0 0 0-.139-.112l-.227-.072c-.087-.024-.171-.062-.247-.111-.018-.015-.034-.032-.048-.05a.23.23 0 0 0-.322-.036.23.23 0 0 0-.036.322c.037.049.081.092.129.131a1.32 1.32 0 0 0 .396.179l.075.023.055.018.095.03c.051.018.107.018.157 0a.23.23 0 0 0 .129-.145zm1.349.551a.23.23 0 0 0-.129-.299l-.578-.229a.23.23 0 0 0-.311.248.23.23 0 0 0 .143.18l.576.229c.027.01.057.016.086.016a.23.23 0 0 0 .213-.145z' /></svg>\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { tools as defaultTools } from '../store/constants.js'\nimport { useDrawHandlers } from '../hooks/use-draw-handlers'\n\nexport default function DrawMenu () {\n  const { dispatch, options, draw, isDrawMenuExpanded, query, shape, drawTools } = useApp()\n  const { id } = options\n  const isDetails = ['expanded', 'collapse'].includes(draw?.collapse)\n  const { handleAddClick, handleEditClick, handleDeleteClick } = useDrawHandlers()\n\n  // Tools displayed in draw action menu instead\n  if (!draw?.heading) {\n    return null\n  }\n\n  const handleDetailsClick = () => {\n    dispatch({ type: 'TOGGLE_DRAW_EXPANDED', payload: !isDrawMenuExpanded })\n  }\n\n  return (\n    <div className='fm-c-menu'>\n      <div className={`fm-c-menu__group ${isDrawMenuExpanded ? ' fm-c-menu__group--expanded' : ''}`}>\n        {isDetails\n          ? (\n            <h3 className='fm-c-menu__heading'>\n              <button className='fm-c-details' aria-expanded={isDrawMenuExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n                <span className='fm-c-details__label'>\n                  <span className='fm-c-details__label-focus'>{draw?.heading}</span>\n                </span>\n                <span className='fm-c-details__summary'>\n                  <span className='fm-c-details__summary-focus'>{draw?.summary}</span>\n                </span>\n                <span className='fm-c-details__toggle'>\n                  <span className='fm-c-details__toggle-focus'>\n                    <span className='fm-c-details__chevron' />\n                    {isDrawMenuExpanded ? 'Hide' : 'Show'}\n                  </span>\n                </span>\n              </button>\n            </h3>\n            )\n          : (\n            <h3 className='fm-c-menu__heading'>{draw?.heading}</h3>\n            )}\n\n        <div className='fm-c-menu__items' {...!isDrawMenuExpanded ? { style: { display: 'none' } } : {}}>\n          {[...drawTools, ...defaultTools].map(tool => (\n            <div key={tool.id} className='fm-c-menu__item'>\n              <button\n                className='fm-c-btn-menu'\n                aria-disabled={drawTools.includes(tool) ? !!query : !query}\n                onClick={() => {\n                  if (drawTools.includes(tool) && !query) {\n                    handleAddClick(tool.id)\n                  }\n                  if (tool.id === 'edit' && query) {\n                    handleEditClick(shape)\n                  }\n                  if (tool.id === 'delete' && query) {\n                    handleDeleteClick()\n                  }\n                }}\n              >\n                <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n                  <path d={tool.path} />\n                </svg>\n                <span className='fm-c-btn__label'>\n                  {drawTools.includes(tool) ? `Add ${tool.id}` : `${tool.name} shape`}\n                </span>\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus'\n\nexport function useDrawHandlers () {\n  const { provider, parent, draw, segments, layers, dispatch, query, drawTools, activeRef, viewportRef } = useApp()\n  const { dispatch: viewportDispatch, size, style } = useViewport()\n  const { styles, minZoom, maxZoom } = draw || {}\n\n  const handleAddClick = (shapeId) => {\n    if (!provider.map) {\n      return\n    }\n    const drawMode = drawTools.find(m => m.id === shapeId)?.drawMode || 'frame'\n    provider.draw?.add(drawMode, shapeId)\n    dispatch({ type: 'SET_MODE', payload: { value: drawMode, shape: shapeId, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS', payload: { styles, minZoom, maxZoom } })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode, style, size, segments, layers })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  const handleEditClick = (shapeId) => {\n    if (!provider.map) {\n      return\n    }\n    const drawMode = drawTools.find(m => m.id === shapeId)?.drawMode || 'frame'\n    provider.draw?.edit(drawMode, shapeId)\n    dispatch({ type: 'SET_MODE', payload: { value: drawMode, shape: shapeId, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS', payload: { styles, minZoom, maxZoom } })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode, style, size, segments, layers })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  const handleDeleteClick = () => {\n    if (!provider.map) {\n      return\n    }\n    provider.draw.delete()\n    dispatch({ type: 'SET_MODE', payload: { value: 'default', query: null } })\n    eventBus.dispatch(parent, events.APP_ACTION, { type: 'deletePolygon', query })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  return {\n    // query,\n    // drawTools,\n    handleAddClick,\n    handleEditClick,\n    handleDeleteClick\n  }\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function Tooltip ({ id, position, text, cssModifier, display, visuallyHiddenText, children }) {\n  const { interfaceType } = useApp()\n  const [isVisible, setIsVisible] = useState(false)\n  const [hasFocusWithin, setHasFocusWithin] = useState(false)\n\n  const timeoutRef = useRef(null)\n  const labelRef = useRef(null)\n\n  const hideTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current)\n    }\n    setIsVisible(false)\n  }\n\n  const DELAY = 500\n\n  const showTooltip = () => {\n    timeoutRef.current = setTimeout(() => setIsVisible(true), DELAY)\n  }\n\n  const handleKeyDown = () => {\n    setHasFocusWithin(false)\n  }\n\n  const handleKeyUp = () => {\n    setHasFocusWithin(true)\n  }\n\n  const handleGlobalKeyDown = e => {\n    const isActive = labelRef.current?.contains(document.activeElement)\n    if (['Escape', 'Esc'].includes(e.key) || isActive) {\n      hideTooltip()\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleGlobalKeyDown)\n\n    return () => {\n      document.removeEventListener('keydown', handleGlobalKeyDown)\n    }\n  })\n\n  return (\n    <div\n      className={`fm-c-tooltip fm-c-tooltip--${position}${cssModifier ? ' fm-c-tooltip--' + cssModifier : ''}${isVisible ? ' fm-c-tooltip--visible' : ''}${hasFocusWithin ? ' fm-u-focus-within' : ''}`}\n      style={{ display }}\n      onMouseEnter={showTooltip}\n      onMouseLeave={hideTooltip}\n      onMouseDown={hideTooltip}\n      onFocus={interfaceType === 'keyboard' ? showTooltip : null}\n      onBlur={hideTooltip}\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleKeyUp}\n      ref={labelRef}\n    >\n      {children}\n      <div id={id} className='fm-c-tooltip__label' role='tooltip'>\n        <div className='fm-c-tooltip__label-inner'>\n          {text}\n          {visuallyHiddenText && (<span className='fm-u-visually-hidden'>{visuallyHiddenText}</span>)}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact.js'\nimport Tooltip from './tooltip.jsx'\n\nexport default function ActionMenu ({ id, path, name, display, hasLabel = true, items, menuPosition, tooltipPosition, handleSelect }) {\n  const label = name.toLowerCase().replace(' ', '-')\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [index, setIndex] = useState(0)\n  const elementRef = useRef(null)\n  const buttonRef = useRef(null)\n  const menuRef = useRef(null)\n  const instigatorRef = useRef(null)\n  const toolTipId = `${id}-${name.toLowerCase().replace(' ', '-')}`\n\n  const handleButtonClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  const handleButtonKeyUp = e => {\n    if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n      e.preventDefault()\n      setIndex(e.key === 'ArrowDown' ? 0 : items.length - 1)\n      setIsExpanded(true)\n    }\n  }\n\n  const handleMenuKeyDown = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      instigatorRef.current = buttonRef.current\n      setIsExpanded(false)\n    }\n    if (e.key === 'Tab') {\n      instigatorRef.current = null\n      setIsExpanded(false)\n    }\n    if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n      e.preventDefault()\n      let i = e.key === 'ArrowDown' ? index + 1 : index - 1\n      if (i < 0) {\n        i = items.length - 1\n      }\n      if (i >= items.length) {\n        i = 0\n      }\n      setIndex(i)\n    }\n    if (e.key === 'Home') {\n      setIndex(0)\n    }\n    if (e.key === 'End') {\n      setIndex(items.length - 1)\n    }\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      instigatorRef.current = buttonRef.current\n      setIsExpanded(false)\n      handleSelect(items[index].id)\n    }\n  }\n\n  const handleItemClick = (_, i) => {\n    instigatorRef.current = buttonRef.current\n    setIsExpanded(false)\n    handleSelect(items[i].id)\n  }\n\n  const button = () => {\n    return (\n      <button\n        ref={buttonRef}\n        id={`${id}-${label}-button-label`}\n        onClick={handleButtonClick}\n        onKeyUp={handleButtonKeyUp}\n        className='fm-c-btn fm-c-btn--action'\n        {...!hasLabel && { 'aria-labelledby': `${id}-${label}-tooltip` }} // ${id}-${label}-description\n        aria-haspopup='true'\n        aria-expanded={isExpanded}\n        aria-controls={`${id}-${label}-menu`}\n      >\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n          <path d={path} />\n        </svg>\n        {hasLabel && <span id={`${id}-${label}-button-label`}>{name}</span>}\n        {/* <span className='fm-c-btn__chevron' /> */}\n        {/* <span id={`${id}-${label}-description`} className='fm-u-visually-hidden'>Current selection: {selected.name}</span> */}\n      </button>\n    )\n  }\n\n  useEffect(() => {\n    if (isExpanded) {\n      menuRef.current.focus()\n    } else {\n      instigatorRef.current?.focus()\n    }\n  }, [isExpanded])\n\n  useOutsideInteract(elementRef, false, 'pointerdown', () => {\n    setIsExpanded(false)\n  })\n\n  return (\n    <div className={`fm-c-action-menu fm-c-action-menu--${menuPosition}`} style={{ display }} ref={elementRef}>\n      {hasLabel\n        ? button()\n        : (\n          <Tooltip id={toolTipId} position={tooltipPosition} text={name}>\n            {button()}\n          </Tooltip>\n          )}\n      <ul ref={menuRef} id={`${id}-${label}-menu`} className='fm-c-action-menu__list' role='menu' tabIndex='-1' aria-labelledby={`${id}-${label}-button-label`} aria-activedescendant={`${id}-${label}-item-${index}`} onKeyDown={handleMenuKeyDown} style={{ display: isExpanded ? 'block' : 'none' }}>\n        {items.map((item, i) => (\n          <li key={item.name} id={`${id}-${label}-item-${i}`} className={`fm-c-action-menu__item${index === i ? ' fm-c-action-menu__item--selected' : ''}`} role='menuitem' onClick={e => handleItemClick(e, i)}>\n            {item.path && (\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n                <path d={item.path} />\n              </svg>\n            )}\n            {item.name}\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { tools as defaultTools } from '../store/constants.js'\nimport ActionMenu from './action-menu.jsx'\n\nexport default function DrawShape () {\n  const { options, draw, shape, drawTools } = useApp()\n  const { id } = options\n  const selectedDrawMode = drawTools.find(m => m.id === shape) || drawTools[0]\n\n  // Tools displayed in the legend instead\n  if (!draw || draw?.heading) {\n    return null\n  }\n\n  const handleShapeSelect = (id) => {\n    console.log(id)\n  }\n\n  return (\n    <ActionMenu\n      id={id}\n      path='M11.298 4.666l3.536 3.536-7.071 7.071-3.536-3.536 7.071-7.071zm2.475-2.475a1.5 1.5 0 0 1 2.121 0l1.415 1.415a1.5 1.5 0 0 1 0 2.121l-1.768 1.768-3.536-3.536 1.768-1.768zM3.52 12.444l3.536 3.536-5.304 1.768 1.768-5.304z'\n      name='Draw tools'\n      tooltipPosition='left'\n      menuPosition='above-right'\n      hasLabel={false}\n      display='block'\n      items={[...drawTools, ...defaultTools]}\n      selected={selectedDrawMode}\n      handleSelect={handleShapeSelect}\n      />\n  )\n}\n","import React, { useRef, useState, createRef, useEffect } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { findTabStop } from '../lib/dom.js'\nimport { getImagePos } from '../lib/utils.js'\nimport image from '../lib/style-image.json'\nimport More from './more.jsx'\n\nexport default function Styles () {\n  const { options, provider } = useApp()\n  const { id, hasAutoMode } = options\n  const { size, style, styles } = useViewport()\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const currentStyleName = style.name\n  const currentSize = size\n  const buttonsRef = useRef([])\n  const [isExpanded, setIsExpanded] = useState(styles.map(s => s.name).indexOf(currentStyleName) > 2 || size !== 'small')\n  buttonsRef.current = styles.map(s => s.name).map((_, i) => buttonsRef.current[i] ?? createRef())\n\n  const moreLabel = `${isExpanded ? 'Fewer' : 'More'} styles`\n\n  const MIN_COLS = 3\n\n  const handleStyleClick = e => {\n    viewportDispatch({ type: 'SET_STYLE', payload: { style: e.currentTarget.value } })\n  }\n\n  const handleSizeClick = e => {\n    viewportDispatch({ type: 'SET_SIZE', payload: e.currentTarget.value })\n  }\n\n  // Set initial focus\n  useEffect(() => {\n    if (!isExpanded) {\n      return\n    }\n    const index = buttonsRef.current.length < MIN_COLS ? buttonsRef.current.length - 1 : 2\n    const el = buttonsRef.current[index].current\n    const nextTabStop = findTabStop(el, 'next')\n    nextTabStop.focus()\n  }, [isExpanded])\n\n  // Toggle dark mode\n  useEffect(() => {\n    const colourScheme = (hasAutoMode && window?.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light'\n    appDispatch({ type: 'SET_IS_DARK_MODE', payload: { style, colourScheme } })\n  }, [style])\n\n  return (\n    <div id='map-styles' className='fm-c-layers fm-c-layers--style'>\n      <div className='fm-c-layers__group' role='group' aria-labelledby={`${id}-map-panel-label`}>\n        <div className='fm-c-layers__columns'>\n          {styles?.filter((_, i) => isExpanded ? i >= 0 : i < MIN_COLS).map((item, i) => (\n            <div key={item.name} className='fm-c-layers__item'>\n              <button className='fm-c-layers__button' value={item.name} aria-pressed={currentStyleName === item.name} ref={buttonsRef.current[i]} onClick={handleStyleClick}>\n                <div className='fm-c-layers__image'>\n                  <img src={image.src} draggable={false} width='120px' height='120px' alt='' style={{ objectPosition: getImagePos(item.name) }} />\n                </div>\n                {{\n                  default: 'Default',\n                  dark: 'Dark',\n                  aerial: 'Aerial',\n                  deuteranopia: 'Deuteranopia',\n                  tritanopia: 'Tritanopia'\n                }[item.name]}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      {provider.capabilities.hasSize && isExpanded && (\n        <div className='fm-c-layers__group' role='group' aria-labelledby={`${id}-text-sizes`}>\n          <div id={`${id}-text-sizes`} className='fm-c-layers__header'>\n            <h3 className='fm-c-layers__heading'>Text size</h3>\n          </div>\n          <div className='fm-c-layers__columns'>\n            {['small', 'medium', 'large'].map((name, i) => (\n              <div key={name} className='fm-c-layers__item'>\n                <button className='fm-c-layers__button' value={name} aria-pressed={currentSize === name} onClick={handleSizeClick}>\n                  <div className='fm-c-layers__image'>\n                    <svg width='60' height='60' viewBox='0 0 60 60' fillRule='evenodd'>\n                      <rect width='100%' height='100%' fill='#f3f2f1' />\n                      <g style={{ transform: `scale(${1 + (i / 2)})`, transformOrigin: `8px ${50 + i}px` }}>\n                        <path d='M8 51.785L12.948 38.9h1.837l5.274 12.885h-1.943l-1.503-3.903h-5.387l-1.415 3.903H8zm3.718-5.291h4.368l-1.345-3.569-.914-2.671c-.164.826-.395 1.646-.694 2.46l-1.415 3.78zm15.592 4.139c-3.698 3.143-7.836.271-6.315-2.562.963-1.794 5.529-1.982 6.183-2.21.022-.825.052-2.27-2.241-2.312-1.751-.031-2.242 1.025-2.435 1.776l-1.547-.211c.234-1.102.963-2.856 4.21-2.874 4.037-.022 3.612 2.962 3.612 3.524v2.11c0 .315 0 3.012.501 3.911h-1.652c-.164-.328-.27-.712-.316-1.152zm-.132-3.533c-.907.37-3.444.694-3.964.914-1.293.548-.911 2.399.225 2.637.639.134 3.739.476 3.739-2.971v-.58z' />\n                      </g>\n                    </svg>\n                  </div>\n                  {name[0].toUpperCase() + name.slice(1)}\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      {(styles.length > 3 || provider.capabilities.hasSize) && (\n        <div className='fm-c-layers__more fm-c-layers__more--center'>\n          <More id={`${id}-styles`} label={moreLabel} isExpanded={isExpanded} setIsExpanded={() => setIsExpanded(!isExpanded)} isRemove />\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Keyboard () {\n  return (\n    <dl className='fm-c-keyboard-list'>\n      <div className='fm-u-visually-hidden'>\n        <dt>Get location information</dt>\n        <dd><kbd>Alt</kbd> + <kbd>I</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Select a map control</dt>\n        <dd><kbd>Tab</kbd> or <kbd>Shift</kbd> + <kbd>Tab</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Move in large steps</dt>\n        <dd><kbd>&larr;</kbd>, <kbd>&uarr;</kbd>, <kbd>&rarr;</kbd> or <kbd>&darr;</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Move in small steps</dt>\n        <dd><kbd>Shift</kbd> + <kbd>&larr;</kbd>, <kbd>&uarr;</kbd>, <kbd>&rarr;</kbd> or <kbd>&darr;</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Adjust zoom level</dt>\n        <dd><kbd>+</kbd> or <kbd>=</kbd> and <kbd>-</kbd> or <kbd>_</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Select feature (when 9 or fewer)</dt>\n        <dd><kbd>Page Up</kbd> and <kbd>Page Down</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Feature shortcut (when 9 or fewer)</dt>\n        <dd><kbd>Alt</kbd> + <kbd>1</kbd> to <kbd>9</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Get feature information</dt>\n        <dd><kbd>Enter</kbd></dd>\n      </div>\n    </dl>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { labels } from '../store/constants'\n\nexport default function LegendButton ({ legendBtnRef }) {\n  const { dispatch, drawMode, legend, draw, isDesktop, activePanel } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const isCombined = ['compact', 'inset'].includes(legend?.display)\n  const combinedLabel = isCombined && labels.legend.TITLE\n  const seperateLabel = draw?.heading ? labels.menu.TITLE : labels.layers.TITLE\n  const label = combinedLabel || seperateLabel\n  const path = (labels[label.toLowerCase()] || labels.legend).PATH\n  const hasButton = legend && !isQueryMode && !(isDesktop && !isCombined)\n\n  if (!hasButton) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'LEGEND' })\n  }\n\n  return (\n    <button onClick={handleClick} className='fm-c-btn fm-c-btn--legend' ref={legendBtnRef} aria-expanded={false} {...['LEGEND', 'SEARCH'].includes(activePanel) ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n        <path d={path} />\n      </svg>\n      <span className='fm-c-btn__label'>{label}</span>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { labels } from '../store/constants'\n\nexport default function KeyButton ({ keyBtnRef }) {\n  const { dispatch, activePanel, options, drawMode } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const isCombined = ['compact', 'inset'].includes(options?.legend?.display)\n  const label = labels.legend.TITLE\n  const path = labels.legend.PATH\n\n  if (!(options?.legend && !isQueryMode && !isCombined)) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'KEY' })\n  }\n\n  return (\n    <button onClick={handleClick} className='fm-c-btn fm-c-btn--key' ref={keyBtnRef} aria-expanded={false} {...['KEY', 'SEARCH'].includes(activePanel) ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n        <path d={path} />\n      </svg>\n      <span className='fm-c-btn__label'>{label}</span>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function SearchButton ({ searchBtnRef, tooltip }) {\n  const { dispatch, drawMode, search, activePanel, options } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(search && !isQueryMode)) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'SEARCH' })\n  }\n\n  const button = () => {\n    return (\n      <button onClick={handleClick} className='fm-c-btn fm-c-btn--search' {...tooltip ? { 'aria-labelledby': `${options.id}-search-label` } : {}} aria-expanded={activePanel === 'SEARCH'} {...activePanel === 'SEARCH' ? { style: { display: 'none' } } : {}} ref={searchBtnRef}>\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n          <path d='M12.084 14.312c-1.117.711-2.444 1.123-3.866 1.123C4.235 15.435 1 12.201 1 8.218S4.235 1 8.218 1s7.217 3.235 7.217 7.218c0 1.422-.412 2.749-1.123 3.866L19 16.773 16.773 19l-4.689-4.688zM8.218 2.818c2.98 0 5.4 2.419 5.4 5.4s-2.42 5.4-5.4 5.4-5.4-2.42-5.4-5.4 2.419-5.4 5.4-5.4z' />\n        </svg>\n        {!tooltip && (\n          <span className='fm-c-btn__label'>Search</span>\n        )}\n      </button>\n    )\n  }\n\n  return (\n    <>\n      {tooltip\n        ? (\n          <Tooltip id={`${options.id}-search-label`} position={tooltip} cssModifier='search' text='Show search'>\n            {button()}\n          </Tooltip>\n          )\n        : button()}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function StylesButton ({ stylesBtnRef }) {\n  const { dispatch, options } = useApp()\n  const { id, styles } = options\n\n  if (!styles?.length) {\n    return null\n  }\n\n  // Open panel\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'STYLE' })\n  }\n\n  return (\n    <>\n      {styles?.length > 1\n        ? (\n          <Tooltip id={`${id}-style-label`} position='left' cssModifier='style' text='Choose map style'>\n            <button onClick={handleClick} className='fm-c-btn fm-c-btn--style' aria-labelledby={`${id}-style-label`} ref={stylesBtnRef}>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' strokeLinejoin='round' fill='none' stroke='currentColor' strokeWidth='2'>\n                <path d='M2 18l5-2 6 2 5-2V2l-5 2-6-2-5 2v14z' /><path d='M7 2v14m6-12v14' strokeLinecap='round' />\n              </svg>\n            </button>\n          </Tooltip>\n          )\n        : null}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport Tooltip from './tooltip.jsx'\n\nexport default function Zoom () {\n  const { options, isMobile } = useApp()\n  const { id } = options\n  const { isMaxZoom, isMinZoom } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n\n  if (isMobile) {\n    return null\n  }\n\n  return (\n    <div className='fm-c-zoom'>\n      <Tooltip id={`${id}-zoom-in-label`} position='left' text='Zoom in'>\n        <button onClick={() => { viewportDispatch({ type: 'ZOOM_IN' }) }} className='fm-c-btn fm-c-btn--zoom-in' aria-disabled={isMaxZoom} aria-labelledby={`${id}-zoom-in-label`} aria-controls={`${id}-viewport`}>\n          <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' style={{ fill: 'currentColor', fillRule: 'evenodd', clipRule: 'evenodd' }}><rect x='3' y='9' width='14' height='2' /><rect x='9' y='3' width='2' height='14' /></svg>\n        </button>\n      </Tooltip>\n      <Tooltip id={`${id}-zoom-out-label`} position='left' text='Zoom out'>\n        <button onClick={() => { viewportDispatch({ type: 'ZOOM_OUT' }) }} className='fm-c-btn fm-c-btn--zoom-out' aria-disabled={isMinZoom} aria-labelledby={`${id}-zoom-out-label`} aria-controls={`${id}-viewport`} data-fm-zoom-out-btn>\n          <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' style={{ fill: 'currentColor', fillRule: 'evenodd', clipRule: 'evenodd' }}><rect x='3' y='9' width='14' height='2' /></svg>\n        </button>\n      </Tooltip>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\n\nexport default function Reset () {\n  const { options } = useApp()\n  const { bounds, oCentre, rZoom, center, zoom } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [isNewArea, setIsNewArea] = useState(false)\n\n  const handleOnClick = () => {\n    if (!isNewArea) {\n      return\n    }\n    viewportDispatch({ type: 'RESET' })\n  }\n\n  useEffect(() => {\n    const isSameCentre = JSON.stringify(oCentre) === JSON.stringify(center)\n    const isSameZoom = rZoom === zoom\n    const isNew = oCentre && center && rZoom && zoom && !(isSameCentre && isSameZoom)\n    setIsNewArea(isNew)\n  }, [bounds])\n\n  if (!options?.hasReset) {\n    return null\n  }\n\n  return (\n    <button onClick={handleOnClick} className='fm-c-btn fm-c-btn--reset' aria-label='Reset map area' aria-disabled={!isNewArea} aria-controls={`${options.id}-viewport`}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n        <path d='M2.054 7.871L5.25 1.407l4 6.928-7.196-.464z' />\n        <path d='M7.25 4.871A6.46 6.46 0 0 1 10.5 4c3.587 0 6.5 2.913 6.5 6.5S14.087 17 10.5 17 4 14.087 4 10.5' fill='none' stroke='currentColor' strokeWidth='2' />\n      </svg>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport Tooltip from './tooltip.jsx'\n\nconst { sessionStorage } = window\n\nexport default function Location () {\n  const { provider, options, drawMode } = useApp()\n  const { id } = options\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(options.hasGeoLocation && !isQueryMode)) {\n    return null\n  }\n\n  // Set initial geo location\n  const handleGeoLocationSuccess = (coord, place) => {\n    const hasSession = !!sessionStorage.getItem('geoloc')\n    sessionStorage.setItem('geoloc', JSON.stringify({ coord, place }))\n    if (hasSession) {\n      return\n    }\n    viewportDispatch({ type: 'GEOLOC', payload: { center: coord, place } })\n  }\n\n  const handleGeoLocationError = (err) => {\n    viewportDispatch({ type: 'CLEAR_STATUS' })\n    appDispatch({ type: 'ERROR', payload: { label: 'Can\\'t get location', message: err.message } })\n  }\n\n  // Reset viewport\n  const handleOnClick = () => {\n    const geoloc = JSON.parse(sessionStorage.getItem('geoloc'))\n    if (geoloc) {\n      viewportDispatch({ type: 'GEOLOC', payload: { center: geoloc.coord, place: geoloc.place } })\n      return\n    }\n    provider.getGeoLocation(handleGeoLocationSuccess, handleGeoLocationError)\n    viewportDispatch({ type: 'UPDATE_STATUS', payload: { status: 'Getting location', isStatusVisuallyHidden: false } })\n  }\n\n  return (\n    <Tooltip id={`${id}-location-label`} cssModifier='location' position='left' text='Use your location'>\n      <button onClick={handleOnClick} className='fm-c-btn fm-c-btn--location' aria-labelledby={`${id}-location-label`} aria-controls={`${id}-viewport`}>\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <g fill='none' stroke='currentColor' strokeWidth='2'>\n            <circle cx='10' cy='10' r='6' />\n            <path d='M10 4V1m0 18v-3m6-6h3M1 10h3' strokeLinecap='butt' />\n          </g>\n          <circle cx='10' cy='10' r='3' fill='currentColor' />\n        </svg>\n      </button>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function MapError () {\n  const { message } = useApp().error\n\n  return (\n    <p>{message}</p>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function ViewportLabel () {\n  const { options } = useApp()\n  const { id } = options\n\n  return (\n    <div id={`${id}-viewport-label`} className='fm-c-panel fm-c-panel--viewport-label'>\n      <span className='fm-u-visually-hidden'>Interactive map. </span><kbd>Alt</kbd> + <kbd>K</kbd> <span className='fm-u-visually-hidden'>Show</span> keyboard controls<span className='fm-u-visually-hidden'>.</span>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { events } from '../store/constants.js'\nimport eventBus from '../lib/eventbus.js'\nimport { getFeatureShape } from '../lib/viewport'\n\nconst getIsPixelVisible = (interfaceType, isTargetVisible, activePanel) => {\n  return interfaceType === 'touch' && isTargetVisible && !activePanel\n}\n\nconst getIsPolygonVisible = (isDefaultMode, query, activePanel, isMobile) => {\n  return isDefaultMode && query && activePanel !== 'INFO' && !(isMobile && activePanel === 'KEY')\n}\n\nexport default function Actions () {\n  const { provider, style, parent, draw, drawTool, drawTools, drawMode, shape, segments, layers, dispatch: appDispatch, viewportRef, query, activePanel, isMobile, interfaceType, isTargetVisible } = useApp()\n  const { dispatch: viewportDispatch, size, isDrawValid } = useViewport()\n\n  const handleUpdateClick = () => {\n    if (!(provider.map || drawTool) || !isDrawValid) {\n      return\n    }\n    const feature = provider.draw.finish(shape)\n    const newShape = getFeatureShape(feature)\n    appDispatch({ type: 'SET_MODE', payload: { value: 'default', query: feature, shape: newShape } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS' })\n    eventBus.dispatch(parent, events.APP_ACTION, { type: query ? 'updatePolygon' : 'confirmPolygon', query: feature })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode: 'default', style, size, segments, layers })\n    viewportRef.current.focus()\n  }\n\n  const handleCancelClick = () => {\n    if (drawTool) {\n      return\n    }\n    provider.draw.cancel()\n    const shape = getFeatureShape(query) || drawTools[0].id\n    eventBus.dispatch(parent, events.APP_ACTION, { type: 'cancelUpdatePolygon', query })\n    appDispatch({ type: 'SET_MODE', payload: { value: 'default', shape, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode: 'default', style, size, segments, layers })\n    viewportRef.current.focus()\n  }\n\n  const handlePixelClick = () => {\n    const event = new window.KeyboardEvent('keydown', { key: 'Enter', bubbles: true })\n    viewportRef.current.dispatchEvent(event)\n  }\n\n  const handlePolygonClick = () => {\n    eventBus.dispatch(parent, events.APP_QUERY, { resultType: 'polygon', query, style, size, segments, layers })\n  }\n\n  const isDefaultMode = drawMode === 'default'\n  const isPixelVisible = getIsPixelVisible(interfaceType, isTargetVisible, activePanel)\n  const isPolygonVisible = getIsPolygonVisible(isDefaultMode, query, activePanel, isMobile)\n  const hasActions = !isDefaultMode || isPixelVisible || isPolygonVisible\n\n  return (\n    <div className={`fm-o-actions${hasActions ? ' fm-o-actions--has-actions' : ''}`}>\n      <button onClick={handleUpdateClick} className='fm-c-btn-primary' {...(isDefaultMode && { style: { display: 'none' } })} {...(!isDrawValid && { 'aria-disabled': true })}>\n        {`${query ? 'Update' : 'Confirm'}`} area\n      </button>\n      <button onClick={handleCancelClick} className='fm-c-btn-secondary' {...(isDefaultMode && { style: { display: 'none' } })}>\n        Cancel\n      </button>\n      <button onClick={handlePolygonClick} className='fm-c-btn-primary' {...(!isPolygonVisible && { style: { display: 'none' } })}>\n        {draw?.queryLabel}\n      </button>\n      <button onClick={handlePixelClick} className='fm-c-btn-primary' {...(!isPixelVisible && { style: { display: 'none' } })}>\n        Get info\n      </button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function EditButton ({ editBtnRef }) {\n  const { options, legend, dispatch, drawMode, activePanel, previousPanel, isDesktop } = useApp()\n  const { id } = options\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const hasButton = !['compact', 'inset'].includes(legend?.display) && !isDesktop && isQueryMode\n  const isVisible = !(activePanel === 'INSPECTOR' || (activePanel === 'STYLE' && previousPanel === 'INSPECTOR'))\n\n  if (!hasButton) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'INSPECTOR' })\n  }\n\n  return (\n    <Tooltip id={`${id}-edit-label`} position='left' cssModifier='edit' text='View dimensions'>\n      <button onClick={handleClick} className='fm-c-btn fm-c-btn--edit govuk-body-s' ref={editBtnRef} aria-expanded={false} aria-labelledby={`${id}-edit-label`} {...!isVisible ? { style: { display: 'none' } } : {}}>\n        <svg width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <path d='M5.914 14.5l.828-.829 1.415 1.415-3.243 3.242-3.243-3.242 1.415-1.415.707.707.121.122V3.914H14.5l-.829-.828 1.415-1.415 3.242 3.243-3.242 3.243-1.415-1.415.707-.707.122-.121H5.914V14.5zm7 1.405v2.018h-2v-2.018h2zm-3 0v2.018h-2v-2.018h2zm8-1.991v4.009h-4v-2.018h2v-1.991h2zm0-2.958v2.018h-2v-2.018h2zm0-3.042v2.018h-2V7.914h2z' fill='currentColor' stroke='none' />\n        </svg>\n      </button>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function HelpButton () {\n  const { options, drawMode } = useApp()\n  const { id, draw } = options\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(isQueryMode && draw?.helpURL)) {\n    return null\n  }\n\n  return (\n    <Tooltip id={`${id}-help-label`} position='left' cssModifier='help' text='Help' visuallyHiddenText='(opens in a new window)'>\n      <a href={draw.helpURL} target='_blank' className='fm-c-btn fm-c-btn--help' aria-labelledby={`${id}-help-label`} rel='noreferrer'>\n        <svg width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <circle cx='10' cy='10' r='8.5' fill='none' stroke='currentColor' strokeWidth='1.5' />\n          <path d='M10.935 11.673H8.708v-.223c0-1.997 2.445-2.651 2.085-3.597-.175-.46-1.57-.837-1.757.843l-2.273-.281c.407-4.359 7.331-3.069 6.405.161-.025.09-.143.502-.625.986-1.252 1.258-1.608 1.111-1.608 2.111zm-2.303.592h2.385v2.104H8.632z' fill='currentColor' stroke='none' />\n        </svg>\n      </a>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nexport default function Attribution () {\n  const { isMobile } = useApp()\n  const { attributions } = useViewport()\n\n  return (\n    <div className='fm-o-attribution'>\n      {!isMobile && !!attributions.length && (\n        <div className='fm-c-attribution'>\n          {attributions.map((a, i) => {\n            const trimmed = a?.trim()\n            const isWrapped = /^<p[\\s>]/i.test(trimmed) && /<\\/p>$/i.test(trimmed)\n            const inner = isWrapped ? trimmed.replace(/^<p[\\s>]*>/i, '').replace(/<\\/p>$/i, '') : trimmed\n            return <span key={i} dangerouslySetInnerHTML={{ __html: inner }} />\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\n\nexport default function Banner () {\n  const { banner, activePanel, isMobile } = useApp()\n\n  return (\n    <div className='fm-c-banner'>\n      {banner && (\n        <div className='fm-c-banner__inner' {...activePanel === 'SEARCH' && isMobile ? { style: { display: 'none' } } : {}}>\n          <span className='fm-c-banner__icon' aria-hidden='true'>!</span>\n          <span className='fm-c-banner__content' {...({ dangerouslySetInnerHTML: { __html: banner } })} />\n        </div>\n      )}\n      <div role='status' className='fm-u-visually-hidden' dangerouslySetInnerHTML={{ __html: `Warning: ${banner}` }} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { useViewport } from '../store/use-viewport.js'\n\nexport default function DrawConstraint () {\n  const { isDrawValid, dimensions } = useViewport()\n  const message = 'Too big'\n\n  if (isDrawValid || !isDrawValid && !dimensions?.area) {\n    return\n  }\n\n  return (\n    <div className='fm-c-panel fm-c-panel--draw-constraint' role='status'>\n      <svg width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n        <circle cx='10' cy='10' r='8.5' fill='none' stroke='currentColor' strokeWidth='1.5'/>\n        <path d='M8.584 5.228h2.832v2.174L10.869 11H9.118l-.534-3.598V5.228zm.098 7.207h2.643v2.337H8.682v-2.337z'/>\n      </svg>\n      <span className='fm-u-visually-hidden'>Warning: </span>\n      <span {...({ dangerouslySetInnerHTML: { __html: message } })} />\n    </div>\n  )\n}\n","import React, { useRef, useState, useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nexport default function ScaleBar () {\n  const { resolution, style, isReady } = useViewport()\n  const { options } = useApp()\n  const hasScaleBar = ['imperial', 'metric'].includes(options?.scaleBar)\n\n  const elRef = useRef(null)\n  const [scale, setScale] = useState({ width: 0, label: '' })\n\n  const MAX_WIDTH = 120\n  const CSS_SCALE = 1\n\n  const isVisible = scale.width >= 0\n\n  const units = {\n    metric: [\n      { threshold: 1, symbol: 'm', unit: 'metre', plural: 'metres', factor: 1 },\n      { threshold: 1000, symbol: 'km', unit: 'kilometre', plural: 'kilometres', factor: 0.001 }\n    ],\n    imperial: [\n      { threshold: 1609.344, symbol: 'mi', unit: 'mile', plural: 'miles', factor: 1 / 1609.344 },\n      { threshold: 0.9144, symbol: 'yd', unit: 'yard', plural: 'yards', factor: 1 / 0.9144 },\n      { threshold: 0.3048, symbol: 'ft', unit: 'foot', plural: 'feet', factor: 1 / 0.3048 }\n    ]\n  }\n\n  const getBestScale = (metersPerPx, maxWidthPx, unitSystem) => {\n    const maxMeters = metersPerPx * maxWidthPx\n    const options = units[unitSystem]\n\n    // Loop over options from *largest to smallest*\n    for (const { symbol, unit, plural, factor } of options) {\n      const scaled = maxMeters * factor\n      const rounded = getRounded(scaled)\n\n      // We want a label like \"50 km\", not \"50000 m\"\n      if (rounded >= 1 && rounded < 1000) {\n        const width = (rounded / factor) / metersPerPx\n        if (width <= maxWidthPx) {\n          return {\n            label: rounded,\n            symbol,\n            width,\n            unit: rounded > 1 ? plural : unit\n          }\n        }\n      }\n    }\n\n    // Fallback: pick smallest unit\n    const fallback = options[options.length - 1]\n    const fallbackScaled = maxMeters * fallback.factor\n    const fallbackRounded = getRounded(fallbackScaled)\n    const fallbackUnit = fallbackRounded > 1 ? fallback.plural : fallback.unit\n\n    return {\n      label: fallbackRounded,\n      symbol: fallback.symbol,\n      width: (fallbackRounded / fallback.factor) / metersPerPx,\n      unit: fallbackUnit\n    }\n  }\n\n  const getRounded = (num) => {\n    // Round to nice numbers: 1, 2, 5, 10, 20, 50, 100...\n    const pow10 = Math.pow(10, Math.floor(Math.log10(num)))\n    const d = num / pow10\n    let rounded\n    if (d >= 10) {\n      rounded = 10\n    } else if (d >= 5) {\n      rounded = 5\n    } else if (d >= 3) {\n      rounded = 3\n    } else if (d >= 2) {\n      rounded = 2\n    } else {\n      rounded = 1\n    }\n    return rounded * pow10\n  }\n\n  useEffect(() => {\n    if (hasScaleBar && resolution) {\n      const metersPerPx = resolution / CSS_SCALE\n      const best = getBestScale(metersPerPx, MAX_WIDTH, options.scaleBar)\n      setScale(best)\n    }\n  }, [resolution])\n\n  if (!hasScaleBar) {\n    return\n  }\n\n  return (\n    <>\n      {isVisible && (\n        <div className={`fm-c-scale${!isReady ? ' fm-u-hidden' : ''} fm-c-scale--${style?.name}`} ref={elRef} style={{ width: `${scale.width}px` }}>\n          <span className='fm-c-scale__label'>\n            <span className='fm-u-visually-hidden'>Scale bar: </span>\n            {scale.label}\n            <span aria-hidden> {scale.symbol}</span>\n            <span className='fm-u-visually-hidden'>{scale.unit}</span>\n          </span>\n        </div>\n      )}\n    </>\n\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n// import { drawTools } from '../store/constants.js'\n// import Tooltip from './tooltip.jsx'\n\nexport default function Inspector () {\n  const { provider, shape } = useApp()\n  const { dimensions } = useViewport()\n  // const { id } = options\n\n  // const handlePolygonSelect = (id) => {\n  //   const value = drawTools.find(m => m.id === id).drawMode\n  //   provider.draw.editPolygon()\n  //   dispatch({ type: 'SET_MODE', payload: { value, shape: id } })\n  // }\n\n  return (\n    <div className='fm-c-form'>\n      {shape !== 'polygon' && (\n        <></>\n        // <div className='fm-c-form-row'>\n        //   <div className='fm-c-form-group'>\n        //     <label className='fm-c-form-group__label' htmlFor='coord'>\n        //       {shape === 'circle' ? 'Centre' : 'Top left'} ({provider.srid === 27700 ? 'Easting, Northing' : 'Lat, lon'})\n        //     </label>\n        //     <div className='fm-c-form-group__wrapper'>\n        //       <input className='fm-c-form-group__input' id='coord' name='coord' type='text' spellCheck='false' />\n        //     </div>\n        //   </div>\n        //   <div className='fm-c-form-group fm-c-form-group--short'>\n        //     <label className='fm-c-form-group__label' htmlFor='distance'>\n        //       {shape === 'circle' ? 'Radius' : 'Size'} (metres)\n        //     </label>\n        //     <div className='fm-c-form-group__wrapper'>\n        //       <input className='fm-c-form-group__input' id='distance' name='distance' type='text' spellCheck='false' />\n        //     </div>\n        //   </div>\n        //   {/* {shape === 'square' && (\n        //     <Tooltip id={`${id}-convert-polygon`} position='left' cssModifier='convert-polygon' text='Convert to polygon'>\n        //       <button className='fm-c-btn-secondary' aria-expanded={false} aria-labelledby={`${id}-convert-polygon`} onClick={() => handlePolygonSelect('polygon')}>\n        //         <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n        //           <path d={drawTools.find(m => m.id === 'polygon').path} />\n        //         </svg>\n        //       </button>\n        //     </Tooltip>\n        //   )} */}\n        // </div>\n      )}\n      <div className='fm-c-form-row'>\n        <div className='fm-c-form-group'>\n          <span className='fm-c-form-group__label' htmlFor='top-left'>\n            Area\n          </span>\n          <div className='fm-c-form-group__wrapper'>\n            <div className='fm-c-form-group__read-only'>\n              {dimensions.areaDisplay || '-'}\n            </div>\n          </div>\n        </div>\n        <div className='fm-c-form-group'>\n          <span className='fm-c-form-group__label' htmlFor='top-left'>\n            Perimeter\n          </span>\n          <div className='fm-c-form-group__wrapper'>\n            <div className='fm-c-form-group__read-only'>\n              {dimensions.lengthDisplay || '-'}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { ViewportProvider } from '../store/viewport-provider.jsx'\nimport { useApp } from '../store/use-app'\nimport { defaults, labels, events, settings } from '../store/constants'\nimport { updateTitle, toggleInert } from '../lib/dom'\nimport eventBus from '../lib/eventbus'\nimport Viewport from './viewport.jsx'\nimport Exit from './exit.jsx'\nimport Search from './search.jsx'\nimport Panel from './panel.jsx'\nimport Segments from './segments.jsx'\nimport Layers from './layers.jsx'\nimport Logo from './logo.jsx'\nimport DrawMenu from './draw-menu.jsx'\nimport DrawAction from './draw-action.jsx'\nimport Styles from './styles.jsx'\nimport Keyboard from './keyboard.jsx'\nimport LegendButton from './legend-button.jsx'\nimport KeyButton from './key-button.jsx'\nimport SearchButton from './search-button.jsx'\nimport StylesButton from './styles-button.jsx'\nimport Zoom from './zoom.jsx'\nimport Reset from './reset.jsx'\nimport Location from './location.jsx'\nimport MapError from './map-error.jsx'\nimport ViewportLabel from './viewport-label.jsx'\nimport Actions from './actions.jsx'\nimport EditButton from './edit-button.jsx'\nimport HelpButton from './help-button.jsx'\nimport Attribution from './attribution.jsx'\nimport Banner from './banner.jsx'\nimport DrawConstraint from './draw-constraint.jsx'\nimport ScaleBar from './scale-bar.jsx'\nimport Inspector from './inspector.jsx'\n\nconst getClassNames = (isDarkMode, device, behaviour, isDrawMode) => {\n  return `fm-o-container${isDarkMode ? ' fm-o-container--dark' : ''} fm-${device} ${behaviour}${isDrawMode ? ' fm-draw' : ''}`\n}\n\nexport default function Container () {\n  // Derived from state and props\n  const { dispatch, provider, options, parent, info, search, drawMode, activePanel, previousPanel, isPage, isMobile, isDesktop, isDarkMode, isKeyExpanded, activeRef, viewportRef, hash, error } = useApp()\n  const legend = options.legend\n\n  // Refs to elements\n  const legendBtnRef = useRef(null)\n  const keyBtnRef = useRef(null)\n  const searchBtnRef = useRef(null)\n  const stylesBtnRef = useRef(null)\n  const editBtnRef = useRef(null)\n\n  // Template properties\n  const device = (isMobile && 'mobile') || (isDesktop && 'desktop') || 'tablet'\n  const behaviour = settings.container[options.behaviour || defaults.CONTAINER_TYPE].CLASS\n  const height = (isPage || options.container) ? '100%' : options.height || settings.container[options.behaviour]?.HEIGHT\n  const isCombined = ['compact', 'inset'].includes(legend?.display)\n  const isFixed = legend && isDesktop && !isCombined\n  const isLegendInset = legend?.display === 'inset'\n  const isLegendModal = !isFixed && (!isLegendInset || (isLegendInset && isKeyExpanded))\n  const hasLengedHeading = !(legend?.display === 'inset' && legend?.segments?.[0]?.display === 'timeline')\n  const isDrawMode = ['frame', 'vertex'].includes(drawMode)\n  const hasButtons = !(isMobile && (activePanel === 'SEARCH' || (isDesktop && search?.isExpanded)))\n  const srid = provider?.srid\n  const hasSizeCapability = provider?.capabilities?.hasSize\n  const hasInspector = activePanel === 'INSPECTOR' || (activePanel === 'STYLE' && previousPanel === 'INSPECTOR')\n  const combindedTitle = isCombined && (legend?.title ? `<span class=\"fm-u-visually-hidden\">${labels.legend.TITLE}:</span> ${legend?.title}` : labels.legend.TITLE)\n  const seperateTitle = options.draw?.heading ? labels.menu.TITLE : labels.layers.TITLE\n  const legendTitle = combindedTitle || seperateTitle\n\n  const handleColorSchemeMQ = () => dispatch({\n    type: 'SET_IS_DARK_MODE',\n    payload: { colourScheme: window?.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' }\n  })\n\n  // Communication between Vanilla JS and React components\n  useEffect(() => {\n    eventBus.on(parent, events.SET_INFO, data => { dispatch({ type: 'SET_INFO', payload: data }) })\n    eventBus.on(parent, events.SET_SELECTED, data => { dispatch({ type: 'SET_SELECTED', payload: { featureId: data } }) })\n    eventBus.on(parent, events.SET_BANNER, data => { dispatch({ type: 'SET_BANNER', payload: data }) })\n\n    // Dark mode media query\n    if (options.hasAutoMode) {\n      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', handleColorSchemeMQ)\n    }\n\n    // Ready for map\n    if (!activePanel) {\n      dispatch({ type: 'CONTAINER_READY' })\n    }\n\n    return () => {\n      window.removeEventListener('change', handleColorSchemeMQ)\n    }\n  }, [])\n\n  // Toggle inert elements\n  useEffect(() => {\n    updateTitle()\n    toggleInert(activeRef.current)\n    activeRef.current?.focus({ preventScroll: true })\n  }, [isPage, activePanel, hash])\n\n  return (\n    <ViewportProvider options={{ ...options, srid, hasSizeCapability }}>\n      <div\n        className={getClassNames(isDarkMode, device, behaviour, isDrawMode)}\n        style={{ height }}\n        {...(isPage ? { 'data-fm-page': options.pageTitle || 'Map view' } : {})}\n        data-fm-container=''\n      >\n        <div className='fm-o-side'>\n          {isFixed && (<Exit />)}\n          {isDesktop && isDrawMode && (hasInspector || isFixed) && (\n            <Panel className='edit' label='Dimensions' {...!isFixed ? { instigatorRef: editBtnRef } : {}} width={legend?.width}>\n              <Inspector />\n            </Panel>\n          )}\n          {isFixed && !isDrawMode && (\n            <Panel className='legend' label={legendTitle} width={legend?.width} isHideHeading={!hasLengedHeading}>\n              <DrawMenu />\n              <Segments />\n              <Layers hasSymbols={!!legend?.display} hasInputs />\n            </Panel>\n          )}\n        </div>\n        <div className='fm-o-main' data-fm-main>\n          <Viewport />\n          <div className={`fm-o-overlay${isLegendInset ? ' fm-o-overlay--inset' : ''}`}>\n            <div className='fm-o-banner'>\n              <Banner />\n              {isMobile && isDrawMode && <DrawConstraint />}\n            </div>\n            <div className='fm-o-top'>\n              <div className='fm-o-top__column'>\n                <Exit />\n                {!isMobile && (\n                  <>\n                    <SearchButton searchBtnRef={searchBtnRef} />\n                    <Search instigatorRef={searchBtnRef} />\n                  </>\n                )}\n                <LegendButton legendBtnRef={legendBtnRef} />\n                <KeyButton keyBtnRef={keyBtnRef} />\n                {activePanel === 'KEY' && !isMobile && (\n                  <Panel isNotObscure={false} className='key' label={labels.legend.TITLE} width={legend?.keyWidth || legend?.width} instigatorRef={keyBtnRef} isModal={isKeyExpanded} isInset>\n                    <Layers hasInputs={false} hasSymbols />\n                  </Panel>\n                )}\n                {activePanel === 'INFO' && info && !isMobile && (\n                  <Panel className='info' link={info.link} label={info.label} width={info.width} html={info.html} instigatorRef={viewportRef} isModal={false} isInset isNotObscure />\n                )}\n                {activePanel === 'LEGEND' && !isMobile && isLegendInset && (\n                  <Panel className='legend' isNotObscure={false} label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                    <DrawMenu />\n                    <Segments />\n                    <Layers hasSymbols={!!legend?.display} hasInputs />\n                  </Panel>\n                )}\n              </div>\n              <div className='fm-o-top__column'>\n                {!isMobile && isDrawMode && <DrawConstraint />}\n                <ViewportLabel />\n              </div>\n              <div className='fm-o-top__column'>\n                {!isMobile && activePanel === 'STYLE' && (\n                  <Panel className='style' label='Map style' instigatorRef={stylesBtnRef} width='400px' isInset={!isMobile} isModal>\n                    <Styles />\n                  </Panel>\n                )}\n                <HelpButton />\n                {isMobile && (\n                  <>\n                    <SearchButton searchBtnRef={searchBtnRef} tooltip='left' />\n                    <Search instigatorRef={searchBtnRef} />\n                  </>\n                )}\n                {hasButtons && (\n                  <>\n                    <StylesButton stylesBtnRef={stylesBtnRef} />\n                    <Reset />\n                    <Location provider={provider} />\n                    <Zoom />\n                  </>\n                )}\n              </div>\n            </div>\n            <div className='fm-o-middle'>\n              {activePanel === 'LEGEND' && !isFixed && !isLegendInset && (\n                <Panel className='legend' isNotObscure={false} label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                  <DrawMenu />\n                  <Segments />\n                  <Layers hasSymbols={!!legend?.display} hasInputs />\n                </Panel>\n              )}\n              {activePanel === 'INSPECTOR' && !isMobile && !isDesktop && (\n                <Panel className='edit' label='Dimensions' instigatorRef={editBtnRef} width={legend?.width} isModal>\n                  <Inspector />\n                </Panel>\n              )}\n              {activePanel === 'KEYBOARD' && (\n                <Panel className='keyboard' width='560px' maxWidth='560px' label='Keyboard' instigatorRef={viewportRef} isModal isInset>\n                  <Keyboard />\n                </Panel>\n              )}\n              {activePanel === 'ERROR' && (\n                <Panel className='error' maxWidth='300px' label={error.label} instigatorRef={viewportRef} isModal isInset>\n                  <MapError />\n                </Panel>\n              )}\n            </div>\n            <div className='fm-o-bottom'>\n              <div className='fm-o-logo'>\n                <Logo />\n              </div>\n              {!isMobile && <Actions />}\n              <div className='fm-o-tools'>\n                <EditButton editBtnRef={editBtnRef} />\n                <DrawAction />\n                <ScaleBar />\n              </div>\n              {info && activePanel === 'INFO' && isMobile && (\n                <Panel className='info' link={info.link} label={info.label} html={info.html} instigatorRef={viewportRef} isModal={false} isInset isNotObscure />\n              )}\n              {activePanel === 'KEY' && isMobile && (\n                <Panel className='key' label={labels.legend.TITLE} instigatorRef={keyBtnRef} isModal={isKeyExpanded} isInset isNotObscure>\n                  <Layers hasInputs={false} hasSymbols />\n                </Panel>\n              )}\n              {activePanel === 'LEGEND' && isMobile && isLegendInset && (\n                <Panel className='legend' isNotObscure label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                  <DrawMenu />\n                  <Segments />\n                  <Layers hasSymbols hasInputs />\n                </Panel>\n              )}\n              {isMobile && !hasInspector && <Actions />}\n            </div>\n            <Attribution />\n          </div>\n        </div>\n        <div className='fm-o-side'>\n          {isMobile && hasInspector && (\n            <Panel className='edit' label='Dimensions' instigatorRef={editBtnRef} width={legend?.width}>\n              <Inspector />\n            </Panel>\n          )}\n        </div>\n        {isMobile && activePanel === 'STYLE' && (\n          <Panel className='style' label='Map style' instigatorRef={stylesBtnRef} width='400px' isInset={!isMobile} isModal>\n            <Styles />\n          </Panel>\n        )}\n      </div>\n    </ViewportProvider>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { createPortal } from 'react-dom'\nimport { settings, events } from './js/store/constants.js'\nimport eventBus from './js/lib/eventbus.js'\nimport { AppProvider } from './js/store/app-provider.jsx'\nimport Container from './js/components/container.jsx'\n\nexport default function App (options) {\n  const { behaviour, parent, container, handleExit } = options\n  const mobileMQ = `(max-width: ${options.maxMobile || settings.breakpoints.MAX_MOBILE})`\n  const desktopMQ = `(min-width: ${options.minDesktop || settings.breakpoints.MIN_DESKTOP})`\n\n  const [isMobile, setIsMobile] = useState(window?.matchMedia(mobileMQ).matches)\n  const [isDesktop, setIsDesktop] = useState(window.matchMedia(desktopMQ).matches)\n  const [interfaceType, setInterfaceType] = useState(!!options.interfaceType)\n\n  // Create a map provider instance\n  const Provider = options.provider\n  const provider = useRef(new Provider(options))\n\n  // Create the geocode functions\n  const GeocodeProvider = options.geocodeProvider\n  const geocodeProvider = new GeocodeProvider(options.transformGeocodeRequest)\n  const ReverseGecodeProvider = options.reverseGeocodeProvider\n  const reverseGeocodeProvider = new ReverseGecodeProvider(options.transformGeocodeRequest)\n  const geocode = useRef({\n    find: geocodeProvider.find.bind(geocodeProvider),\n    suggest: geocodeProvider.suggest.bind(geocodeProvider),\n    getNearest: reverseGeocodeProvider.getNearest.bind(reverseGeocodeProvider)\n  })\n\n  // Refs to elements\n  const viewportRef = useRef(null)\n  const frameRef = useRef(null)\n  const obscurePanelRef = useRef(null)\n  const activeRef = useRef(null)\n\n  //\n  // Event handlers\n  //\n\n  const handleMobileMQ = e => setIsMobile(e.matches)\n  const handleDesktopMQ = e => setIsDesktop(e.matches)\n\n  //\n  // Side effects\n  //\n\n  useEffect(() => {\n    // Avoid flicker on refresh\n    document.body.classList.remove('fm-js-hidden')\n\n    // Set media queries\n    window.matchMedia(mobileMQ).addEventListener('change', handleMobileMQ)\n    window.matchMedia(desktopMQ).addEventListener('change', handleDesktopMQ)\n\n    // Keyboard and touch events\n    eventBus.on(parent, events.SET_INTERFACE_TYPE, data => setInterfaceType(data))\n\n    return () => {\n      window.removeEventListener('change', handleMobileMQ)\n      window.removeEventListener('change', handleDesktopMQ)\n    }\n  }, [])\n\n  const isPage = (behaviour === 'buttonFirst') || (behaviour === 'hybrid' && isMobile)\n\n  return (\n    <AppProvider\n      options={options}\n      app={{\n        provider: provider.current,\n        geocode: geocode.current,\n        isPage,\n        isMobile,\n        isDesktop,\n        isBack: window.history.state?.isBack,\n        interfaceType,\n        parent,\n        handleExit,\n        viewportRef,\n        frameRef,\n        obscurePanelRef,\n        activeRef\n      }}\n    >\n      {container ? createPortal(<Container />, parent) : <Container />}\n    </AppProvider>\n  )\n}\n","'use strict'\nimport React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport App from './app.jsx'\n\nexport default function root (el, props) {\n  const appRoot = createRoot(el)\n  appRoot.render(<App {...props} />)\n  return appRoot\n}\n"],"names":["getCoord","coord","Error","Array","isArray","type","geometry","coordinates","length","getGeom","geojson","debounce","fn","wait","timeoutId","_len","arguments","args","_key","window","clearTimeout","setTimeout","apply","earthRadius","factors","centimeters","centimetres","degrees","Math","PI","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","radians","yards","feature","geom","properties","options","feat","id","bbox","point","isNumber","polygon","ring","j","lineString","multiLineString","multiPolygon","radiansToLength","units","factor","lengthToRadians","distance","radiansToDegrees","degreesToRadians","num","isNaN","DOMParser","parseSVG","icon","fill","text","isDarkBasemap","undefined","scale","isSelected","includes","dom","parseFromString","svg","querySelector","classList","add","toggle","viewBox","getAttribute","width","parseInt","split","height","setAttribute","olFill","querySelectorAll","olStroke","forEach","n","bgFill","bgStroke","fgFill","fgStroke","body","innerHTML","from","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","a","pow","sin","cos","atan2","sqrt","getUnits","RATIO","concat","toFixed","round","getOffsetBoundingClientRect","el","closest","document","getBoundingClientRect","parseDimensions","dimensions","area","areaDisplay","SQ_KM","km2","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","ceil","squareMetresToKm","lengthDisplay","MILE","YARD","pluralize","value","singular","plural","floor","remainder","metresToImperial","_objectSpread","detectCoordinateType","coords","_coords","_slicedToArray","x","y","getDistance","coord1","coord2","abs","p1","TurfPoint","p2","turfDistance","getFocusPadding","padding","parent","box","boxX","left","boxY","top","parentX","parentY","right","bottom","Object","values","every","i","getFocusBounds","bounds","getMapPixel","getDescription","place","features","_ref","featuresTotal","isFeaturesInMap","isPixelFeaturesAtPixel","isPixelFeaturesInMap","focusPlace","focusArea","ew","ns","getArea","findPlace","getStatus","action","isBoundsChange","state","current","featuresInViewport","total","index","center","zoom","isMaxZoom","isMinZoom","label","selectedId","status","findIndex","f","name","direction","oCentre","originalZoom","isSameCentre","JSON","stringify","isSameZoom","maxZoom","minZoom","change","map","ns1","ns2","ew1","ew2","nsd","ewd","bearing","filter","b","getBearing","ewc","join","nsc","getDirection","getBoundsChange","description","getPlace","isUserInitiated","oPlace","newPlace","parseCentre","srid","_coords2","mb","defaults","slice","parseFloat","some","c","parseZoom","getShortcutKey","e","featuresViewport","number","code","getFeatureShape","_feature$geometry","_geometry$coordinates","_coordinates$","x1","y1","_coordinates$2","minDist","Infinity","maxDist","minEdge","maxEdge","_coordinates$i","xA","yA","_coordinates","xB","yB","dist","hypot","min","max","edgeDist","tolerance","isCirclePolygon","toLowerCase","_feature$geometry2","flatCoords","Set","flat","spatialNavigate","start","pixels","quadrant","p","offsetX","offsetY","push","distances","indexOf","getScale","size","small","medium","large","getPoint","_el$getBoundingClient","_e$nativeEvent","nativeEvent","clientX","clientY","getStyle","validStyles","s","STYLES","style","localStorage","getItem","find","l","u","r","o","h","v","w","d","g","parentNode","removeChild","_","t","children","call","defaultProps","m","props","key","ref","__k","__","__b","__e","__c","constructor","__v","__i","__u","vnode","k","this","context","S","C","base","M","__d","$","__r","debounceRendering","sort","shift","__P","O","__n","namespaceURI","z","I","P","q","A","nextSibling","String","L","B","contains","insertBefore","nodeType","H","T","setProperty","test","cssText","replace","addEventListener","removeEventListener","removeAttribute","F","event","prototype","render","contextType","__E","D","sub","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","N","then","V","diffed","localName","createTextNode","createElementNS","is","__m","data","childNodes","attributes","__html","content","unmount","componentWillUnmount","E","documentElement","firstChild","G","J","K","delete","Provider","__l","Consumer","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","__H","__N","__f","useDebugValue","requestAnimationFrame","cancelAnimationFrame","R","isPureReactComponent","Symbol","for","count","only","toArray","U","W","appendChild","__a","__R","__O","pop","createElement","fallback","revealOrder","Z","Y","splice","containerInfo","get","Map","reverse","set","Q","X","nn","textContent","isReactComponent","defineProperty","configurable","writable","en","rn","un","cancelBubble","on","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","cn","ln","enumerable","class","multiple","selected","defaultValue","className","$$typeof","an","sn","hn","ReactCurrentDispatcher","readContext","useCallback","useContext","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","pn","bn","Rn","startTransition","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","isMemo","displayName","startsWith","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","default","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","parseSegments","dataSegments","seg","segments","_queryParams$get","queryParams","URLSearchParams","location","search","_step","_iterator","_createForOfIteratorHelper","done","_g$parentIds","_g$parentIds2","_g$items$find","_g$items$find2","_g$items$","hasParent","parentIds","hasActiveParent","items","_seg","err","parseLayers","dataLayers","layers","_queryParams$get2","lyr","_step2","_iterator2","has","_toConsumableArray","parseGroups","hasInputs","queryLabel","groups","hasValidParent","isValidMinZoom","isValidMaxZoom","ramps","flatItems","_g$items$find3","checkedRadioId","item","_item$items","display","actionsMap","CONTAINER_READY","isContainerReady","SET_AVAILABILITY","payload","SET_INFO","featureId","previousPanel","activePanel","info","hasViewportLabel","hash","ERROR","error","message","OPEN","activePanelHasFocus","targetMarker","CLOSE","isKeyExpanded","SET_MODE","drawMode","query","shape","SET_SELECTED","SET_BANNER","banner","SET_NEXT_SELECTED","_features$nextIndex","_features$","nextIndex","SET_IS_DARK_MODE","colourScheme","hasAutoMode","isDarkMode","SET_IS_TARGET_VISIBLE","isTargetVisible","TOGGLE_SEGMENTS","TOGGLE_LAYERS","TOGGLE_KEY_EXPANDED","TOGGLE_DRAW_EXPANDED","isDrawMenuExpanded","TOGGLE_VIEWPORT_LABEL","isMobile","getIsDarkMode","_window","matchMedia","matches","reducer","actionFunction","AppContext","AppProvider","app","_useReducer","styles","legend","draw","hasData","_parseDrawTools","tool","tools","defaultTools","validTools","validTool","parseDrawTools","defaultDrawTools","_parseDrawTools2","drawTool","drawTools","isVisible","getActivePanel","collapse","pointerQuery","isFrameVisible","initialState","_useReducer2","dispatch","store","React","getImagePos","dark","aerial","deuteranopia","tritanopia","getColor","colors","color","READY","_state$style","_state$style2","attributions","attribution","currentZoom","resolution","isReady","url","UPDATE","_state$style3","_payload$dimensions","original","oBbox","rZoom","isSame","isUpdate","newAction","isDrawValid","drawMaxArea","isMoving","isStatusVisuallyHidden","UPDATE_PLACE","toUpperCase","MOVE_START","hasShortcuts","MOVE","_state$style4","_payload$dimensions2","RESET","SEARCH","timestamp","Date","now","GEOLOC","ZOOM_IN","ZOOM_OUT","SET_STYLE","styleName","newStyle","TOGGLE_CONSTRAINTS","originalStyles","originalMinZoom","originalMaxZoom","SET_SIZE","CLEAR","isVertexEdit","CLEAR_STATUS","CLEAR_FEATURES","SET_PADDING","panel","viewport","isAnimate","pRect","vRect","oHeight","oWidth","isPortrait","offsetHeight","offsetWidth","margin","TOP","LEFT","BOTTOM","TOGGLE_SHORTCUTS","getSize","hasSizeCapability","ViewportContext","ViewportProvider","extent","cz","getBounds","getCentre","initZoom","getZoom","isFeaturesChange","isPanZoomChange","maxArea","useApp","ATTR_PAGE","ARIA_HIDDEN","updateTitle","_document$querySelect","page","parts","title","toggleInert","activeEl","inertEl","_container","_modal","_container2","isPage","container","modal","isWithinModal","isWithinContainer","getContainer","activeElement","sibling","hasAttribute","constrainFocus","focusableEls","firstFocusableEl","focusableEl","offsetParent","lastFocusableEl","shiftKey","focus","preventDefault","findTabStop","list","tabIndex","history","useQueryState","navigate","replaceState","setQuery","existingQueries","queryString","toString","pathname","decodeURIComponent","useResizeObserver","callback","observer","prevWidth","prevHeight","unobserve","ResizeObserver","entries","_entry$contentRect","contentRect","observe","useViewport","getClassName","isActive","frame","drawValid","PaddingBox","_options$queryLocatio","_options$queryFeature","_useApp","provider","viewportRef","obscurePanelRef","frameRef","interfaceType","_useViewport","setPadding","queryLocation","queryFeature","_extends","usePixelObscurred","_useState2","isObscurred","setIsObscurred","isLoaded","pixel","getPixel","_viewportRef$current$","topEl","elementFromPoint","isCentre","isTargetCentre","targetCoord","resultType","Target","appDispatch","hasTargetData","setTargetMarker","fillRule","_regeneratorRuntime","hasOwnProperty","iterator","asyncIterator","toStringTag","define","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","__await","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","keys","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","_next","_throw","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_defineProperty","getOwnPropertyDescriptors","defineProperties","toPrimitive","_toPrimitive","_toPropertyKey","_arrayLikeToArray","isFocusVisible","isKeyboard","Viewport","_window2","geocode","activeRef","backgroundColor","viewportDispatch","setQueryCz","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","settings","params","centerZoom","mapContainerRef","startPixel","labelPixel","pointerPixel","isDraggingRef","bgColor","handleMapLoad","detail","eventBus","events","APP_READY","debounceUpdatePlace","_callee","_context","getNearest","_x","handleMoveStart","handleMove","debounceUpdate","_ref2","_callee2","_context2","_x2","handleUpdate","handleMapQuery","_e$detail$features","APP_QUERY","handleMapStyle","APP_CHANGE","init","paddingBox","featureLayers","locationLayers","remove","fitBounds","setCentre","showLocation","zoomIn","zoomOut","setItem","setSize","setStyle","selectFeature","initDraw","role","onClick","altKey","showLabel","queryPoint","onFocus","onKeyDown","offsets","pan","panBy","hideLabel","onKeyUp","_provider$hideLabel","fId","showNextLabel","substring","onPointerDown","pageX","pageY","onPointerUp","diffX","diffY","drag","onPointerMove","layerX","layerY","uid","Exit","_options$legend","isBack","handleExit","isDesktop","isQueryMode","isFixed","Path","strokeWidth","focusable","useOutsideInteract","isModal","handleInteractOutside","target","createMessage","suggestions","results","EXPAND","isExpanded","COLLAPSE","FOCUS","isFocusWithin","isFocusVisibleWithin","BLUR","MOUSEENTER","CLICK","CHANGE","MIN_SEARCH_LENGTH","SHOW_SUGGESTIONS","HIDE_SUGGESTIONS","REVIEW","SUBMIT","UPDATE_STATUS","Autocomplete","_state$value","_state$suggestions","errorText","updateViewport","selectedRef","debounceUpdateSuggest","suggest","updateStatus","debounceUpdateStatus","_selectedRef$current","scrollIntoView","onMouseEnter","suggestionId","handleClick","dangerouslySetInnerHTML","marked","getDerivedProps","_search$country","_search$country2","searchWidth","keyWidth","hasClear","formClassName","country","hasPanel","Search","instigatorRef","formRef","clearBtnRef","inputRef","_getDerivedProps","_formRef$current","blur","handleCollapse","open","onSubmit","suggestion","htmlFor","autoComplete","placeholder","spellCheck","enterKeyHint","onChange","onBlur","isAutocomplete","getClassNames","isInset","getRole","getProps","panelId","hasCloseBtn","hasWidth","Panel","link","isNotObscure","isHideHeading","maxWidth","html","elementRef","bodyRef","handleClose","_getProps","_bodyRef$current","_bodyRef$current2","_bodyRef$current3","scrollHeight","heading","currentTarget","href","stroke","SegmentGroup","group","setQuerySeg","isHidden","isDetails","setIsExpanded","handleItemClickOrChange","isChecked","defaultChecked","Segments","_legend$segments","More","isRemove","btnRef","previousTabStop","console","log","_group$items$find","layout","numItems","numCols","styleAttr","gridTemplateColumns","getLabels","getDisplay","LayerGroup","hasSymbols","setQueryLyr","_useState4","setSvg","dispatchAppChange","handleItemClick","handleItemChange","groupSummary","reduce","result","keySymbol","preserveAspectRatio","itemInner","_ref3","numLabels","_ref4","all","fetch","responses","res","texts","icons","child","Layers","hasHiddenGroups","keyLabel","isEmptyKey","lastRef","nextTabStop","getElementById","Logo","hasDefaultLogo","xmlns","opacity","DrawMenu","_useDrawHandlers","handleAddClick","shapeId","_drawTools$find","_provider$draw","_activeRef$current","handleEditClick","_drawTools$find2","_provider$draw2","_activeRef$current2","edit","handleDeleteClick","_activeRef$current3","APP_ACTION","useDrawHandlers","summary","path","Tooltip","position","cssModifier","visuallyHiddenText","setIsVisible","hasFocusWithin","setHasFocusWithin","timeoutRef","labelRef","hideTooltip","showTooltip","handleGlobalKeyDown","_labelRef$current","onMouseLeave","onMouseDown","ActionMenu","_ref$hasLabel","hasLabel","menuPosition","tooltipPosition","handleSelect","setIndex","buttonRef","menuRef","toolTipId","handleButtonClick","handleButtonKeyUp","button","_instigatorRef$curren","DrawShape","selectedDrawMode","Styles","currentStyleName","currentSize","buttonsRef","_useState","_buttonsRef$current$i","moreLabel","handleStyleClick","handleSizeClick","src","image","draggable","alt","objectPosition","capabilities","hasSize","transform","transformOrigin","Keyboard","LegendButton","legendBtnRef","isCombined","combinedLabel","labels","TITLE","seperateLabel","menu","PATH","KeyButton","keyBtnRef","SearchButton","searchBtnRef","tooltip","StylesButton","stylesBtnRef","strokeLinejoin","strokeLinecap","Zoom","clipRule","Reset","isNewArea","setIsNewArea","hasReset","sessionStorage","Location","hasGeoLocation","handleGeoLocationSuccess","hasSession","handleGeoLocationError","geoloc","parse","getGeoLocation","cx","cy","MapError","ViewportLabel","getIsPixelVisible","getIsPolygonVisible","isDefaultMode","Actions","isPixelVisible","isPolygonVisible","hasActions","newShape","cancel","KeyboardEvent","bubbles","dispatchEvent","EditButton","editBtnRef","HelpButton","helpURL","rel","Attribution","trimmed","trim","inner","Banner","DrawConstraint","ScaleBar","hasScaleBar","scaleBar","elRef","setScale","metric","threshold","symbol","unit","imperial","getRounded","pow10","log10","best","metersPerPx","maxWidthPx","unitSystem","maxMeters","_step$value","rounded","fallbackScaled","fallbackRounded","fallbackUnit","getBestScale","Inspector","device","behaviour","isDrawMode","Container","_settings$container$o","_provider$capabilitie","_options$draw","CONTAINER_TYPE","CLASS","HEIGHT","isLegendInset","isLegendModal","hasLengedHeading","hasButtons","hasInspector","combindedTitle","seperateTitle","legendTitle","handleColorSchemeMQ","preventScroll","pageTitle","DrawAction","App","_window$history$state","mobileMQ","maxMobile","breakpoints","MAX_MOBILE","desktopMQ","minDesktop","MIN_DESKTOP","setIsMobile","setIsDesktop","_useState6","setInterfaceType","geocodeProvider","GeocodeProvider","transformGeocodeRequest","reverseGeocodeProvider","ReverseGecodeProvider","handleMobileMQ","handleDesktopMQ","SET_INTERFACE_TYPE","root","appRoot"],"sourceRoot":""}