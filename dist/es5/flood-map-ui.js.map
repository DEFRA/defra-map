{"version":3,"file":"flood-map-ui.js","mappings":"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","sources":["webpack://@defra/flood-map/./node_modules/preact/dist/preact.module.js","webpack://@defra/flood-map/./node_modules/preact/hooks/dist/hooks.module.js","webpack://@defra/flood-map/./node_modules/preact/compat/dist/compat.module.js","webpack://@defra/flood-map/./node_modules/preact/compat/client.mjs","webpack://@defra/flood-map/./src/js/lib/query.js","webpack://@defra/flood-map/./src/js/store/app-actions-map.js","webpack://@defra/flood-map/./src/js/store/app-reducer.js","webpack://@defra/flood-map/./src/js/store/app-provider.jsx","webpack://@defra/flood-map/./src/js/lib/utils.js","webpack://@defra/flood-map/./src/js/store/viewport-actions-map.js","webpack://@defra/flood-map/./src/js/store/viewport-reducer.js","webpack://@defra/flood-map/./src/js/store/viewport-provider.jsx","webpack://@defra/flood-map/./src/js/store/use-app.js","webpack://@defra/flood-map/./src/js/lib/dom.js","webpack://@defra/flood-map/./src/js/hooks/use-query-state.js","webpack://@defra/flood-map/./src/js/hooks/use-resize-observer.js","webpack://@defra/flood-map/./src/js/store/use-viewport.js","webpack://@defra/flood-map/./src/js/components/padding-box.jsx","webpack://@defra/flood-map/./src/js/components/viewport-status.jsx","webpack://@defra/flood-map/./src/js/hooks/use-status.js","webpack://@defra/flood-map/./src/js/hooks/use-pixel-obscurred.js","webpack://@defra/flood-map/./src/js/components/target.jsx","webpack://@defra/flood-map/./src/js/components/viewport.jsx","webpack://@defra/flood-map/./src/js/components/exit.jsx","webpack://@defra/flood-map/./src/js/hooks/use-outside-interact.js","webpack://@defra/flood-map/./src/js/lib/search.js","webpack://@defra/flood-map/./src/js/store/search-actions-map.js","webpack://@defra/flood-map/./src/js/store/search-reducer.js","webpack://@defra/flood-map/./src/js/components/autocomplete.jsx","webpack://@defra/flood-map/./src/js/components/search.jsx","webpack://@defra/flood-map/./src/js/components/panel.jsx","webpack://@defra/flood-map/./src/js/components/segment-group.jsx","webpack://@defra/flood-map/./src/js/components/segments.jsx","webpack://@defra/flood-map/./src/js/components/more.jsx","webpack://@defra/flood-map/./src/js/components/layer-group.jsx","webpack://@defra/flood-map/./src/js/components/layers.jsx","webpack://@defra/flood-map/./src/js/components/logo.jsx","webpack://@defra/flood-map/./src/js/components/draw-menu.jsx","webpack://@defra/flood-map/./src/js/hooks/use-draw-handlers.js","webpack://@defra/flood-map/./src/js/components/tooltip.jsx","webpack://@defra/flood-map/./src/js/components/action-menu.jsx","webpack://@defra/flood-map/./src/js/components/draw-action.jsx","webpack://@defra/flood-map/./src/js/components/styles.jsx","webpack://@defra/flood-map/./src/js/components/keyboard.jsx","webpack://@defra/flood-map/./src/js/components/legend-button.jsx","webpack://@defra/flood-map/./src/js/components/key-button.jsx","webpack://@defra/flood-map/./src/js/components/search-button.jsx","webpack://@defra/flood-map/./src/js/components/styles-button.jsx","webpack://@defra/flood-map/./src/js/components/zoom.jsx","webpack://@defra/flood-map/./src/js/components/reset.jsx","webpack://@defra/flood-map/./src/js/components/location.jsx","webpack://@defra/flood-map/./src/js/components/map-error.jsx","webpack://@defra/flood-map/./src/js/components/viewport-label.jsx","webpack://@defra/flood-map/./src/js/components/actions.jsx","webpack://@defra/flood-map/./src/js/components/edit-button.jsx","webpack://@defra/flood-map/./src/js/components/help-button.jsx","webpack://@defra/flood-map/./src/js/components/attribution.jsx","webpack://@defra/flood-map/./src/js/components/banner.jsx","webpack://@defra/flood-map/./src/js/components/draw-constraint.jsx","webpack://@defra/flood-map/./src/js/components/scale-bar.jsx","webpack://@defra/flood-map/./src/js/components/inspector.jsx","webpack://@defra/flood-map/./src/js/components/container.jsx","webpack://@defra/flood-map/./src/app.jsx","webpack://@defra/flood-map/./src/root.js","webpack://@defra/flood-map/./node_modules/@turf/invariant/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/debounce.js","webpack://@defra/flood-map/./node_modules/@turf/helpers/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/symbols.js","webpack://@defra/flood-map/./node_modules/@turf/distance/dist/esm/index.js","webpack://@defra/flood-map/./src/js/lib/viewport.js"],"sourcesContent":["var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},y=[],v=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)null==e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,v,w,d,g,_=t&&t.__k||y,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(v=u.__k[a])&&(h=-1==v.__i?p:_[v.__i]||p,v.__i=a,g=O(n,v,h,i,r,o,e,f,c,s),w=v.__e,v.ref&&h.ref!=v.ref&&(h.ref&&q(h.ref,null,v),s.push(v.ref,v.__c||w,v)),null==d&&null!=w&&(d=w),4&v.__u||h.__k===v.__k?f=A(v,f,n):\"function\"==typeof v.type&&void 0!==g?f=g:w&&(f=w.nextSibling),v.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&0==(2&f.__u))return u;if(t>(null!=f&&0==(2&f.__u)?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||v.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,y,v,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),y=h.props,v=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,v,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(y,v)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,y,v,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)y=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?v=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||y&&(h.__html==y.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(y&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(v)?v:[v],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function B(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}function G(n,l){E(n,l,G)}function J(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=null==u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=y.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,t as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as l,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as p,useId as m,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}),o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn,ln={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var l=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===l&&\"no\"===c?c=!1:\"o\"===l[0]&&\"n\"===l[1]?\"ondoubleclick\"===l?i=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===l?i=\"onfocusin\":\"onblur\"===l?i=\"onfocusout\":J.test(i)&&(i=l):l=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===l&&u[i=l]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",ln)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),cn=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),cn=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return cn.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:p,useDeferredValue:w,useEffect:h,useId:m,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function pn(n){return!!n&&n.$$typeof===q}function mn(n){return pn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return pn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=pn,Rn={useState:a,useId:m,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:p,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:c,createFactory:dn,cloneElement:_n,createRef:l,Fragment:u,isValidElement:pn,isElement:xn,isFragment:mn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,mn as isFragment,yn as isMemo,pn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","import { render, hydrate, unmountComponentAtNode } from 'preact/compat';\n\nexport function createRoot(container) {\n\treturn {\n\t\t// eslint-disable-next-line\n\t\trender: function (children) {\n\t\t\trender(children, container);\n\t\t},\n\t\t// eslint-disable-next-line\n\t\tunmount: function () {\n\t\t\tunmountComponentAtNode(container);\n\t\t}\n\t};\n}\n\nexport function hydrateRoot(container, children) {\n\thydrate(children, container);\n\treturn createRoot(container);\n}\n\nexport default {\n\tcreateRoot,\n\thydrateRoot\n};\n","export const parseSegments = (dataSegments, seg) => {\n  let segments = null\n  if (dataSegments) {\n    const queryParams = new URLSearchParams(window.location.search)\n    if (!seg) {\n      seg = queryParams.get('seg')?.split(',')\n    }\n    segments = []\n    for (const g of dataSegments) {\n      const hasParent = !!g.parentIds?.length\n      const hasActiveParent = g.parentIds?.some(p => segments.includes(p))\n      const q = g.items.find(s => seg?.includes(s?.id))?.id\n      const c = g.items.find(l => l.isSelected)?.id || g.items[0]?.id\n      if (!(hasParent && !hasActiveParent)) {\n        segments.push(q || c)\n      }\n    }\n  }\n  return segments\n}\n\nexport const parseLayers = (dataLayers) => {\n  let layers = null\n  if (dataLayers) {\n    const queryParams = new URLSearchParams(window.location.search)\n    const lyr = queryParams.get('lyr')?.split(',') || []\n    layers = []\n    for (const g of dataLayers) {\n      const c = g.items.filter(l => l.id && l.isSelected).map(l => l.id)\n      const q = g.items.filter(l => lyr.includes(l.id)).map(l => l.id)\n      layers = layers.concat(queryParams.has('lyr') ? q : c)\n    }\n    layers = [...new Set(layers)]\n  }\n  return layers\n}\n\nexport const parseGroups = (data, segments, layers, zoom, hasInputs, queryLabel) => {\n  // Filter groups\n  let groups = data?.filter(g => {\n    const hasValidParent = !g.parentIds || g.parentIds.some(i => segments?.includes(i))\n    const isValidMinZoom = !g.minZoom || g.minZoom <= zoom\n    const isValidMaxZoom = !g.maxZoom || g.maxZoom > zoom\n    return hasValidParent && isValidMinZoom && isValidMaxZoom\n  })\n\n  // Flatten groups and items and remove non-checked items for use in key\n  if (!hasInputs) {\n    const ramps = []\n    let flatItems = []\n    groups.forEach(g => {\n      const checkedRadioId = g.items.find(item => layers.includes(item.id))?.id\n      g.items.forEach(item => {\n        const isChecked = g?.type === 'radio' ? item.id === checkedRadioId : layers.includes(item.id)\n        const isVisible = isChecked || !item.id\n        if (!(isVisible && (item.fill || item.icon || item.items?.length))) {\n          return\n        }\n        if (item.display === 'ramp') {\n          ramps.push(item)\n        } else if (item.items) {\n          flatItems = flatItems.concat(item.items)\n        } else {\n          flatItems.push(item)\n        }\n      })\n    })\n\n    // Add query polygon\n    if (queryLabel) {\n      flatItems.push({\n        display: 'query-polygon',\n        label: queryLabel\n      })\n    }\n\n    groups = ramps.concat([{ items: flatItems }]).filter(g => g.items.length)\n  }\n\n  return groups\n}\n","const containerReady = (state) => {\n  return {\n    ...state,\n    isContainerReady: true\n  }\n}\n\nconst setSearch = (state, payload) => {\n  return {\n    ...state,\n    search: payload.data\n  }\n}\n\nconst setInfo = (state, payload) => {\n  // Conditioanlly set featureId\n  const featureId = payload?.featureId || state.featureId\n  // Restore previous panel only if it was the key\n  let previousPanel = (state.activePanel !== 'INFO' && state.activePanel) || state.previousPanel\n  previousPanel = previousPanel === 'KEY' && 'KEY'\n  let activePanel = state.activePanel === 'INFO' ? state.previousPanel : state.activePanel\n  activePanel = payload ? 'INFO' : activePanel\n  return {\n    ...state,\n    featureId,\n    info: payload,\n    previousPanel,\n    activePanel,\n    hasViewportLabel: false,\n    hash: state.hash + 1\n  }\n}\n\nconst setSelected = (state, payload) => {\n  return {\n    ...state,\n    featureId: payload.featureId,\n    targetMarker: payload.targetMarker,\n    activePanelHasFocus: payload.activePanelHasFocus || state.activePanelHasFocus,\n    hash: state.hash + (payload.featureId ? 1 : 0)\n  }\n}\n\nconst setBanner = (state, payload) => {\n  return {\n    ...state,\n    banner: payload\n  }\n}\n\nconst setNextSelected = (state, payload) => {\n  let featureId = state.featureId\n  const { key, features } = payload\n  if (features.length) {\n    const current = features.findIndex(f => f.id === featureId) || 0\n    const total = features.length\n    const down = current === total - 1 ? 0 : current + 1\n    const up = current > 0 ? current - 1 : total - 1\n    let nextIndex = key === 'PageDown' ? down : up\n    nextIndex = nextIndex < features.length ? nextIndex : 0\n    featureId = features[nextIndex]?.id || features[0]?.id\n  }\n  return {\n    ...state,\n    featureId,\n    activePanel: null\n  }\n}\n\nconst error = (state, payload) => {\n  return {\n    ...state,\n    error: {\n      label: payload.label,\n      message: payload.message\n    },\n    activePanel: 'ERROR',\n    hasViewportLabel: false\n  }\n}\n\nconst open = (state, payload) => {\n  return {\n    ...state,\n    previousPanel: state.activePanel,\n    activePanel: payload,\n    activePanelHasFocus: true,\n    hasViewportLabel: false,\n    targetMarker: payload === 'SEARCH' && null,\n    featureId: payload === 'INFO' ? state.featureId : '',\n    hash: state.hash + 1\n  }\n}\n\nconst close = (state) => {\n  // Restore previous panel if it wasn't an info or legend\n  const activePanel = state.previousPanel !== 'INFO' ? state.previousPanel : null\n  return {\n    ...state,\n    featureId: null,\n    targetMarker: null,\n    previousPanel: null,\n    activePanelHasFocus: !activePanel,\n    isKeyExpanded: false,\n    activePanel\n  }\n}\n\nconst setMode = (state, payload) => {\n  return {\n    ...state,\n    drawMode: payload.value,\n    query: payload.query,\n    shape: payload.shape,\n    activePanel: state.activePanel === 'INSPECTOR' ? state.activePanel : null,\n    featureId: null,\n    targetMarker: null\n  }\n}\n\nconst setIsDarkMode = (state, payload) => {\n  const { style, colourScheme } = payload\n  const { hasAutoMode } = state\n  const isDarkMode = style?.name === 'dark' || (hasAutoMode && colourScheme === 'dark')\n  return {\n    ...state,\n    isDarkMode\n  }\n}\n\nconst setIsTargetVisible = (state, payload) => {\n  return {\n    ...state,\n    isTargetVisible: payload\n  }\n}\n\nconst toggleSegments = (state, payload) => {\n  return {\n    ...state,\n    segments: payload.segments,\n    layers: payload.layers,\n    featureId: null,\n    targetMarker: null,\n    isKeyExpanded: false\n  }\n}\n\nconst toggleLayers = (state, payload) => {\n  return {\n    ...state,\n    layers: payload\n  }\n}\n\nconst toggleKeyExpanded = (state, payload) => {\n  return {\n    ...state,\n    isKeyExpanded: payload\n  }\n}\n\nconst toggleDrawExpanded = (state, payload) => {\n  return {\n    ...state,\n    isDrawMenuExpanded: payload\n  }\n}\n\nconst toggleViewportLabel = (state, payload) => {\n  const hasViewportLabel = payload.data && (!state.isMobile || !state.activePanel || state.activePanel === 'LEGEND')\n  return {\n    ...state,\n    hasViewportLabel\n  }\n}\n\nexport const actionsMap = {\n  CONTAINER_READY: containerReady,\n  SET_AVAILABILITY: setSearch,\n  SET_INFO: setInfo,\n  ERROR: error,\n  OPEN: open,\n  CLOSE: close,\n  SET_MODE: setMode,\n  SET_SELECTED: setSelected,\n  SET_BANNER: setBanner,\n  SET_NEXT_SELECTED: setNextSelected,\n  SET_IS_DARK_MODE: setIsDarkMode,\n  SET_IS_TARGET_VISIBLE: setIsTargetVisible,\n  TOGGLE_SEGMENTS: toggleSegments,\n  TOGGLE_LAYERS: toggleLayers,\n  TOGGLE_KEY_EXPANDED: toggleKeyExpanded,\n  TOGGLE_DRAW_EXPANDED: toggleDrawExpanded,\n  TOGGLE_VIEWPORT_LABEL: toggleViewportLabel\n}\n","import { parseSegments, parseLayers } from '../lib/query'\nimport { actionsMap } from './app-actions-map'\nimport { getStyle, getFeatureShape } from '../lib/viewport'\nimport { drawTools as defaultDrawTools } from '../store/constants'\n\nconst getIsDarkMode = (style, hasAutoMode) => {\n  return style === 'dark' || (hasAutoMode && window?.matchMedia('(prefers-color-scheme: dark)').matches)\n}\n\nconst getActivePanel = (drawMode, info, featureId, targetMarker, legend) => {\n  let panel\n  if (drawMode === 'default' && info && (featureId || targetMarker)) {\n    panel = 'INFO'\n  } else if (drawMode === 'default' && legend?.isVisible) {\n    panel = legend?.display === 'inset' ? 'LEGEND' : 'KEY'\n  } else {\n    panel = null\n  }\n  return panel\n}\n\nconst parseDrawTools = (tool, tools, defaultTools) => {\n  // Remove invalid tools\n  let validTools = tools ? defaultTools.filter(d => tools.includes(d.id)) : defaultTools\n  // Sort tools on order provided by config if any\n  validTools = validTools.sort((a, b) => { return tools?.indexOf(a.id) - tools?.indexOf(b.id) })\n  // Find valid initial tool or return null\n  const validTool = validTools.find(m => m.id === tool) ? tool : null\n  return [validTool, validTools]\n}\n\nexport const initialState = (options) => {\n  const { styles, legend, search, info, banner, draw, hasAutoMode } = options\n  const style = getStyle(styles)\n  const featureId = info?.featureId || options.featureId\n  const targetMarker = info?.coord ? { coord: info.coord, hasData: info.hasData } : null\n  const query = draw?.feature\n  const [drawTool, drawTools] = parseDrawTools(draw?.tool, draw?.tools, defaultDrawTools)\n  const featureShape = getFeatureShape(query)\n  const shape = featureShape || drawTool || drawTools[0].id\n  const drawMode = drawTool ? defaultDrawTools.find(m => m.id === drawTool).drawMode : 'default'\n  const activePanel = getActivePanel(drawMode, info, featureId, targetMarker, legend)\n\n  return {\n    isContainerReady: false,\n    search,\n    legend,\n    info,\n    banner,\n    segments: legend && parseSegments(legend.segments),\n    layers: legend && parseLayers(legend.key),\n    isKeyExpanded: false,\n    isDrawMenuExpanded: draw?.collapse !== 'collapse',\n    isDarkMode: getIsDarkMode(style?.name, hasAutoMode),\n    hasAutoMode,\n    featureId,\n    targetMarker: !featureId && targetMarker,\n    pointerQuery: null,\n    previousPanel: null,\n    activePanel,\n    activePanelHasFocus: false,\n    hasViewportLabel: false,\n    draw,\n    drawMode,\n    drawTool,\n    drawTools,\n    shape,\n    isFrameVisible: false,\n    isTargetVisible: false,\n    query,\n    hash: 1\n  }\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n  return state\n}\n","import React, { createContext, useReducer, useMemo } from 'react'\nimport { initialState, reducer } from './app-reducer.js'\n\nexport const AppContext = createContext()\n\nexport const AppProvider = ({ options, app, children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState(options))\n\n  const store = useMemo(() => ({\n    ...app,\n    ...state,\n    options,\n    dispatch\n  }))\n\n  return (\n    <AppContext.Provider value={store}>\n      {children}\n    </AppContext.Provider>\n  )\n}\n","export const parseAttribute = a => {\n  try {\n    return JSON.parse(a)\n  } catch (e) {\n    return a\n  }\n}\n\nexport const isSame = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b)\n}\n\nexport const getQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.get(name)\n}\n\nexport const hasQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.has(name)\n}\n\nexport const getImagePos = (style) => {\n  return { default: '0 0', dark: '0 -120px', aerial: '0 -240px', deuteranopia: '0 -360px', tritanopia: '0 -480px' }[style]\n}\n\nexport const getColor = (value, style) => {\n  const colors = value?.replace(/\\s/g, '').split(',').map(f => f.includes(':') ? f : `default:${f}`)\n  const color = colors?.length ? (colors.find(f => f.includes(style)) || colors[0]).split(':')[1] : null\n  return color\n}\n","import { getPlace, parseDimensions } from '../lib/viewport'\nimport { isSame } from '../lib/utils'\nimport { margin } from './constants'\n\nconst ready = (state, payload) => {\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const zoom = payload.zoom\n  return {\n    ...state,\n    zoom,\n    currentZoom: zoom,\n    resolution: payload.resolution,\n    attributions,\n    isReady: !state.style?.url || zoom\n  }\n}\n\nconst update = (state, payload) => {\n  const { oPlace, originalZoom, isUserInitiated, action } = state\n  const { bounds, focusBounds, center, zoom, features, label } = payload\n  const place = getPlace(isUserInitiated, action, oPlace, state.place)\n  const original = { oBbox: bounds, oCentre: center, rZoom: zoom, originalZoom, oPlace: place }\n  const isBoundsChange = !isSame(state.bounds, bounds)\n  const isUrlUpdate = ['GEOLOC', 'DATA'].includes(action) || isBoundsChange\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const dimensions = payload.dimensions ? parseDimensions(payload.dimensions) : {}\n  const isDrawValid = state.drawMaxArea ? payload.dimensions?.area <= state.drawMaxArea : true\n\n  return {\n    ...state,\n    ...(['INIT', 'GEOLOC'].includes(action) && original),\n    place,\n    bounds,\n    focusBounds,\n    center,\n    zoom,\n    features,\n    isNewStatus: true,\n    isUrlUpdate,\n    isMoving: false,\n    isStatusVisuallyHidden: true,\n    attributions,\n    dimensions,\n    isDrawValid,\n    label\n  }\n}\n\nconst updatePlace = (state, payload) => {\n  return {\n    ...state,\n    action: 'GEOCODE',\n    place: payload,\n    isNewStatus: true,\n    isUserInitiated: false,\n    isStatusVisuallyHidden: true\n  }\n}\n\nconst moveStart = (state, payload) => {\n  return {\n    ...state,\n    isMoving: true,\n    isUrlUpdate: false,\n    isUserInitiated: payload,\n    isStatusVisuallyHidden: true,\n    hasShortcuts: true,\n    action: state.action || 'MOVE'\n  }\n}\n\nconst move = (state, payload) => {\n  const { isMaxZoom, isMinZoom, zoom, resolution } = payload\n  const attributions = state.style?.attribution ? [state.style.attribution] : payload.attributions\n  const currentZoom = zoom\n  const dimensions = payload.dimensions ? parseDimensions(payload.dimensions) : {}\n  const isDrawValid = state.drawMaxArea ? payload.dimensions?.area <= state.drawMaxArea : true\n\n  return {\n    ...state,\n    isMaxZoom,\n    isMinZoom,\n    currentZoom,\n    resolution,\n    attributions,\n    dimensions,\n    isDrawValid\n  }\n}\n\nconst reset = (state) => {\n  return {\n    ...state,\n    place: state.oPlace,\n    action: 'RESET',\n    isUrlUpdate: false\n  }\n}\n\nconst search = (state, payload) => {\n  return {\n    ...state,\n    bounds: payload.bounds,\n    center: payload.center,\n    zoom: payload.zoom,\n    place: payload.place,\n    action: 'SEARCH',\n    isStatusVisuallyHidden: true,\n    isUrlUpdate: false,\n    padding: null,\n    timestamp: Date.now()\n  }\n}\n\nconst geoloc = (state, payload) => {\n  return {\n    ...state,\n    place: payload.place,\n    center: payload.center,\n    bounds: null,\n    isStatusVisuallyHidden: true,\n    action: 'GEOLOC',\n    isUrlUpdate: false\n  }\n}\n\nconst zoomIn = (state) => {\n  return {\n    ...state,\n    action: 'ZOOM_IN',\n    isUserInitiated: true,\n    isUrlUpdate: false\n  }\n}\n\nconst zoomOut = (state) => {\n  return {\n    ...state,\n    action: 'ZOOM_OUT',\n    isUserInitiated: true,\n    isUrlUpdate: false\n  }\n}\n\nconst setStyle = (state, payload) => {\n  const { style, colourScheme } = payload\n  const defaultName = colourScheme === 'light' && style === 'dark' && 'default'\n  const darkName = colourScheme === 'dark' && style === 'default' && 'dark'\n  const styleName = defaultName || darkName || style\n  const newStyle = state.styles.find(s => s.name === styleName)\n  const attributions = newStyle.attribution ? [newStyle.attribution] : []\n  return {\n    ...state,\n    action: 'STYLE',\n    isUrlUpdate: false,\n    style: newStyle,\n    attributions\n  }\n}\n\nconst toggleConstraints = (state, payload = {}) => {\n  const { styles, minZoom, maxZoom } = payload\n  const styleName = state.style.name\n  let style\n  if (styles?.length) {\n    style = styles?.find(s => s.name === styleName) || styles[0]\n  } else {\n    style = state.originalStyles.find(s => s.name === styleName) || state.originalStyles[0]\n  }\n  return {\n    ...state,\n    action: 'STYLE',\n    isUrlUpdate: false,\n    minZoom: minZoom || state.originalMinZoom,\n    maxZoom: maxZoom || state.originalMaxZoom,\n    styles: styles || state.originalStyles,\n    style,\n    dimensions: {},\n    isDrawValid: !state.drawMaxArea\n  }\n}\n\nconst setSize = (state, payload) => {\n  return {\n    ...state,\n    action: 'SIZE',\n    isUrlUpdate: false,\n    padding: null,\n    size: payload\n  }\n}\n\nconst clearFeatures = (state) => {\n  return {\n    ...state,\n    features: null,\n    action: 'DATA'\n  }\n}\n\nconst setPadding = (state, payload) => {\n  const { panel, viewport, isMobile, isAnimate } = payload\n  let padding = null\n  const pRect = panel?.getBoundingClientRect()\n  if (pRect?.height > 0) {\n    const vRect = viewport.getBoundingClientRect()\n    const oHeight = pRect.bottom - vRect.top\n    const oWidth = pRect.right - vRect.left\n    const isPortrait = viewport.offsetHeight / oHeight > viewport.offsetWidth / oWidth\n    const top = isPortrait ? Math.round(pRect.height) + margin.TOP : 0\n    const left = isPortrait ? 0 : Math.round(pRect.width) + margin.LEFT\n    padding = {\n      ...isMobile ? { bottom: margin.BOTTOM + pRect.height } : {},\n      ...isPortrait && !isMobile ? { top } : {},\n      ...!isPortrait && !isMobile ? { left } : {}\n    }\n  }\n  return {\n    ...state,\n    isAnimate,\n    padding\n  }\n}\n\nconst toggleShortcuts = (state, payload) => {\n  return {\n    ...state,\n    hasShortcuts: payload\n  }\n}\n\nconst resetStatus = (state) => {\n  return {\n    ...state,\n    isNewStatus: false,\n    action: null\n  }\n}\n\nconst clearAltFeature = (state) => {\n  return {\n    ...state,\n    hasShortcuts: false,\n    isVertexEdit: false\n  }\n}\n\nexport const actionsMap = {\n  READY: ready,\n  UPDATE: update,\n  UPDATE_PLACE: updatePlace,\n  MOVE_START: moveStart,\n  MOVE: move,\n  RESET: reset,\n  SEARCH: search,\n  GEOLOC: geoloc,\n  ZOOM_IN: zoomIn,\n  ZOOM_OUT: zoomOut,\n  SET_STYLE: setStyle,\n  TOGGLE_CONSTRAINTS: toggleConstraints,\n  SET_SIZE: setSize,\n  CLEAR_ALT_FEATURE: clearAltFeature,\n  CLEAR_FEATURES: clearFeatures,\n  SET_PADDING: setPadding,\n  TOGGLE_SHORTCUTS: toggleShortcuts,\n  RESET_STATUS: resetStatus\n}\n","import { parseCentre, parseZoom, getStyle } from '../lib/viewport'\nimport { actionsMap } from './viewport-actions-map'\nimport { defaults } from '../store/constants'\n\nconst getSize = (hasSizeCapability) => {\n  return (hasSizeCapability && window.localStorage.getItem('size')) || 'small'\n}\n\nconst getBounds = (cz, center, bounds, srid) => {\n  const hasValidCentre = !!(parseCentre(cz, srid) || center)\n  return hasValidCentre ? null : bounds\n}\n\nconst getCentre = (cz, center, srid) => {\n  return parseCentre(cz, srid) || center\n}\n\nconst getZoom = (cz, zoom, minZoom, maxZoom) => {\n  let initZoom = parseZoom(cz) || zoom\n  initZoom = minZoom && initZoom ? Math.max(minZoom, initZoom) : initZoom\n  initZoom = maxZoom && initZoom ? Math.min(maxZoom, initZoom) : initZoom\n  return initZoom\n}\n\nexport const initialState = ({ hasSizeCapability, srid, bounds, extent, center, zoom, maxZoom, minZoom, place, features, styles, draw }) => {\n  const queryParams = new URLSearchParams(window.location.search)\n  const style = getStyle(styles)\n  const cz = queryParams.get('cz')\n  bounds = getBounds(cz, center, (bounds || extent), srid)\n  center = !bounds ? getCentre(cz, center, srid) : undefined\n  zoom = getZoom(cz, zoom, minZoom, maxZoom) || defaults.ZOOM\n\n  return {\n    bounds,\n    focusBounds: null,\n    center,\n    zoom,\n    currentZoom: zoom,\n    resolution: null,\n    originalMinZoom: minZoom,\n    originalMaxZoom: maxZoom,\n    minZoom,\n    maxZoom,\n    isMaxZoom: zoom >= maxZoom,\n    isMinZoom: zoom < -minZoom,\n    originalStyles: styles,\n    styles,\n    style,\n    attributions: [],\n    dimensions: {},\n    place: !cz ? place : null,\n    originalZoom: zoom,\n    size: getSize(hasSizeCapability),\n    features,\n    isNewStatus: false,\n    isStatusVisuallyHidden: true,\n    error: null,\n    action: 'INIT',\n    isMoving: false,\n    isUrlUpdate: false,\n    isFeaturesChange: false,\n    isPanZoomChange: false,\n    isUserInitiated: false,\n    isReady: false,\n    hasShortcuts: true,\n    padding: null,\n    drawMaxArea: draw?.maxArea,\n    isDrawValid: !draw?.maxArea,\n    label: null,\n    status: null,\n    timestamp: Date.now()\n  }\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n\n  return state\n}\n","import React, { createContext, useReducer, useMemo } from 'react'\nimport { initialState, reducer } from './viewport-reducer'\n\nexport const ViewportContext = createContext()\n\nexport const ViewportProvider = ({ options, children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState({...options}))\n\n  const store = useMemo(() => ({\n    ...state,\n    dispatch\n  }))\n\n  return (\n    <ViewportContext.Provider value={store}>\n      {children}\n    </ViewportContext.Provider>\n  )\n}\n","import { useContext } from 'react'\n\nimport { AppContext } from './app-provider.jsx'\n\nexport const useApp = () => useContext(AppContext)\n","const ATTR_PAGE = 'data-fm-page'\nconst ARIA_HIDDEN = 'aria-hidden'\n\nconst getContainer = (el) => {\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  let container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = (isPage || isWithinContainer) && isWithinModal && modal\n  container = isPage && container\n\n  return modal || container\n}\n\nexport const updateTitle = () => {\n  const page = document.querySelector(`[${ATTR_PAGE}]`)?.getAttribute(ATTR_PAGE)\n  document.documentElement.classList.toggle('fm-page', !!page)\n  const parts = document.title.split(': ')\n  const title = parts[parts.length - 1]\n  document.title = page ? `${page}: ${title}` : title\n}\n\nexport const toggleInert = (activeEl) => {\n  const inertEls = document.querySelectorAll('[data-fm-inert]')\n  for (const inertEl of inertEls) {\n    inertEl.removeAttribute(ARIA_HIDDEN)\n    inertEl.removeAttribute('data-fm-inert')\n  }\n\n  let el = getContainer(activeEl || document.activeElement)\n\n  if (!el) {\n    return\n  }\n\n  while (el.parentNode && el !== document.body) {\n    let sibling = el.parentNode.firstChild\n    while (sibling) {\n      if (sibling.nodeType === 1 && sibling !== el && !sibling.hasAttribute(ARIA_HIDDEN)) {\n        sibling.setAttribute(ARIA_HIDDEN, true)\n        sibling.setAttribute('data-fm-inert', '')\n      }\n      sibling = sibling.nextSibling\n    }\n    el = el.parentNode\n  }\n}\n\nexport const setInitialFocus = () => {\n  let el = document.activeElement\n\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  const container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = ((isPage || isWithinContainer) && modal && !isWithinModal) && modal\n  const viewport = isPage && !isWithinContainer && container.querySelector('[data-fm-viewport]')\n  el = modal || viewport\n\n  if (el) {\n    el.focus()\n  }\n}\n\nexport const constrainFocus = e => {\n  if (e.key !== 'Tab') {\n    return\n  }\n\n  const el = document.activeElement.closest(`[aria-modal=\"true\"][open], [${ATTR_PAGE}]`)\n\n  if (!el) {\n    return\n  }\n\n  const selectors = [\n    'a[href]:not([disabled])',\n    'button:not([disabled])',\n    'textarea:not([disabled])',\n    'input:not([disabled])',\n    'select:not([disabled])',\n    '*[tabindex=\"0\"]:not([disabled])'\n  ]\n  let focusableEls = Array.from(el.querySelectorAll(selectors.join(',')))\n  focusableEls = focusableEls.filter(focusableEl => !!focusableEl.offsetParent)\n  const firstFocusableEl = focusableEls[0]\n  const lastFocusableEl = focusableEls[focusableEls.length - 1]\n\n  if (e.shiftKey && (document.activeElement === el || document.activeElement === firstFocusableEl)) {\n    lastFocusableEl.focus()\n    e.preventDefault()\n  }\n  if (!e.shiftKey && (document.activeElement === lastFocusableEl)) {\n    firstFocusableEl.focus()\n    e.preventDefault()\n  }\n}\n\nexport const findTabStop = (el, direction) => {\n  const focusableEls = document.querySelectorAll('input, button, select, textarea, a[href]')\n  const list = Array.prototype.filter.call(focusableEls, item => { return item.tabIndex >= '0' })\n  const index = list.indexOf(el)\n  return list[direction === 'next' ? index + 1 : index - 1] || list[0]\n}\n","import { useCallback } from 'react'\n\nconst { history } = window\n\nexport const useQueryState = (query) => {\n  const navigate = (state, url) => {\n    history.replaceState(state, '', url)\n  }\n\n  const setQuery = useCallback(\n    value => {\n      const existingQueries = new URLSearchParams(window.location.search)\n\n      existingQueries.delete(query)\n      existingQueries.set(query, value)\n      const queryString = existingQueries.toString()\n\n      navigate(window.history.state, `${window.location.pathname}?${decodeURIComponent(queryString)}`)\n    },\n    [navigate, query]\n  )\n\n  return [\n    (new URLSearchParams(window.location.search)).get(query),\n    setQuery\n  ]\n}\n","import { useEffect, useRef } from 'react'\n\n/**\n* Hook that alerts panel size change\n*/\n\nexport const useResizeObserver = (el, callback) => {\n  const observer = useRef(null)\n  const prevWidth = useRef(null)\n  const prevHeight = useRef(null)\n\n  const observe = () => {\n    if (el && observer.current) {\n      observer.current.observe(el)\n    }\n  }\n\n  useEffect(() => {\n    if (observer.current && el) {\n      observer.current.unobserve(el)\n    }\n    if (window.ResizeObserver) {\n      observer.current = new window.ResizeObserver(entries => {\n        for (const entry of entries) {\n          const { width, height } = entry.contentRect\n          if ((typeof height === 'number' && height !== prevHeight.current) || (typeof width === 'number' && width !== prevWidth.current)) {\n            prevWidth.current = width\n            prevHeight.current = height\n            callback()\n          }\n        }\n      })\n      observe()\n    }\n\n    return () => {\n      if (observer.current && el) {\n        observer.current.unobserve(el)\n      }\n    }\n  }, [el, window.ResizeObserver])\n}\n","import { useContext } from 'react'\n\nimport { ViewportContext } from './viewport-provider.jsx'\n\nexport const useViewport = () => useContext(ViewportContext)\n","import React, { useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nconst getClassName = (isFocusArea, isActive, drawShape) => {\n  const visible = isFocusArea ? ' fm-c-padding-box--visible' : ''\n  const active = isActive ? ' fm-c-padding-box--active' : ''\n  const shape = drawShape ? ` fm-c-padding-box--${drawShape}` : ''\n  return `fm-c-padding-box${visible}${active}${shape}`\n}\n\nexport default function PaddingBox ({ isFocusArea, children }) {\n  const { provider, isContainerReady, drawMode, shape, viewportRef, obscurePanelRef, targetMarker, frameRef, isMobile } = useApp()\n  const { dispatch, features, padding, isAnimate, isDrawValid } = useViewport()\n\n  // Template properties\n  const isActive = (isFocusArea && features?.featuresInFocus?.length) || (drawMode === 'frame' && isDrawValid)\n  const drawShape = drawMode === 'frame' ? shape : null\n  const className = getClassName(isFocusArea, isActive, drawShape)\n\n  // Update provider padding (uses current padding box), need to run this before viewport action effect\n  useEffect(() => {\n    if (provider.map) {\n      provider.setPadding(targetMarker?.coord, isAnimate)\n    }\n  }, [padding])\n\n  // Set initial viewport padding before provider map is initialised\n  useEffect(() => {\n    if (isContainerReady) {\n      dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef?.current, viewport: viewportRef.current, isMobile } })\n    }\n  }, [isContainerReady])\n\n  // Update padding if isMobile change, needs timeout\n  useEffect(() => {\n    setTimeout(() => {\n      dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef.current, viewport: viewportRef.current, isMobile, isAnimate: false } })\n    }, 0)\n  }, [isMobile])\n\n  // Reset padding on entering vertex drawMode\n  useEffect(() => {\n    if (['frame', 'vertex'].includes(drawMode)) {\n      dispatch({ type: 'SET_PADDING', payload: { viewport: viewportRef.current, isMobile, isAnimate: false } })\n    }\n  }, [drawMode])\n\n  return (\n    <div className={className} {...padding ? { style: padding } : {}}>\n      <div className='fm-c-padding-box__frame' ref={frameRef} />\n      {children}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { useStatus } from '../hooks/use-status'\n\nexport default function ViewportStatus () {\n  const { id } = useApp().options\n  const { isStatusVisuallyHidden, isUrlUpdate } = useViewport()\n  const status = useStatus()\n\n  return (\n    <div className={`fm-c-status${isStatusVisuallyHidden || !status ? ' fm-u-visually-hidden' : ''}`} aria-live={isUrlUpdate ? 'polite' : 'assertive'}>\n      <div id={`${id}-viewport-description`} className='fm-c-status__inner' aria-atomic>\n        {status}\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState, useRef } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { isSame } from '../lib/utils'\nimport { getStatus } from '../lib/viewport'\n\nexport function useStatus () {\n  const { interfaceType, featureId, drawMode } = useApp()\n  const state = useViewport()\n  const [message, setMessage] = useState('')\n  const prevStateRef = useRef(null)\n\n  useEffect(() => {\n    if (!state.isNewStatus) {\n      return\n    }\n\n    const { dispatch, bounds, features } = state\n    const isBoundsChange = !isSame(prevStateRef.current?.bounds, bounds)\n    const isFocusArea = (interfaceType === 'keyboard' && features?.isFeaturesInMap) || drawMode === 'frame'\n    const { zoom: prevZoom, center: prevCenter } = prevStateRef.current ?? {}\n    const status = getStatus({ ...state, isBoundsChange, prevZoom, prevCenter, isFocusArea, featureId })\n    setMessage(status)\n    prevStateRef.current = state\n    dispatch({ type: 'RESET_STATUS' })\n  }, [state.isNewStatus])\n\n  return message\n}\n","import { useEffect, useState } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport.js'\nimport { getScale } from '../lib/viewport.js'\n\n// Hook that alerts if pixel is obscured\n\nexport const usePixelObscurred = () => {\n  const { provider, info, viewportRef, targetMarker, isMobile, padding } = useApp()\n  const { size } = useViewport()\n\n  const [isObscurred, setIsObscurred] = useState(false)\n\n  useEffect(() => {\n    if (targetMarker?.coord && provider.isLoaded) {\n      let pixel = provider.getPixel(targetMarker.coord)\n      const scale = getScale(size)\n      pixel = pixel.map(c => c * scale)\n      const { top, left } = viewportRef.current.getBoundingClientRect()\n      const topEl = document.elementFromPoint(pixel[0] + left, pixel[1] + top)\n      setIsObscurred(!!topEl?.closest('.fm-c-panel--info'))\n    }\n\n    return () => {\n      setIsObscurred(false)\n    }\n  }, [provider, isMobile, padding, info, targetMarker])\n\n  return [isObscurred]\n}\n","import React, { useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { usePixelObscurred } from '../hooks/use-pixel-obscurred.js'\n\nconst isCentre = (interfaceType, targetMarker, activePanel) => {\n  return ['keyboard', 'touch'].includes(interfaceType) && !(targetMarker && activePanel === 'INFO')\n}\n\nconst hasData = (isTargetCentre, features, targetMarker) => {\n  return isTargetCentre ? features?.isPixelFeaturesAtPixel : targetMarker?.hasData\n}\n\nconst isVisible = (interfaceType, isTargetCentre, drawMode, features, targetCoord, activePanel) => {\n  let isTargetVisible = isTargetCentre && drawMode === 'default' && !!features ? features?.resultType === 'pixel' : !!targetCoord\n  // Hide when touch detected and a panel is displayed at the bottom\n  if (interfaceType === 'touch') {\n    isTargetVisible = isTargetVisible && (!activePanel || activePanel === 'INFO')\n  }\n  return isTargetVisible\n}\n\nexport default function Target () {\n  const { provider, drawMode, targetMarker, activePanel, viewportRef, obscurePanelRef, isContainerReady, interfaceType, isMobile } = useApp()\n  const appDispatch = useApp().dispatch\n  const { dispatch, features } = useViewport()\n  const [isObscurred] = usePixelObscurred()\n\n  const isTargetCentre = isCentre(interfaceType, targetMarker, activePanel)\n  const hasTargetData = hasData(isTargetCentre, features, targetMarker)\n  const targetCoord = !isTargetCentre ? targetMarker?.coord : null\n  const isTargetVisible = isVisible(interfaceType, isTargetCentre, drawMode, features, targetCoord, activePanel)\n\n  // Update app state\n  useEffect(() => {\n    appDispatch({ type: 'SET_IS_TARGET_VISIBLE', payload: isTargetVisible })\n  }, [isTargetVisible])\n\n  // Conditionally show target marker\n  useEffect(() => {\n    provider.setTargetMarker(targetCoord, hasTargetData, isTargetVisible)\n  }, [provider.map, targetCoord, hasTargetData, isTargetVisible])\n\n  // Update padding if target marker is obscurred\n  useEffect(() => {\n    if (!isObscurred || !(isContainerReady && obscurePanelRef.current)) {\n      return\n    }\n    dispatch({ type: 'SET_PADDING', payload: { panel: obscurePanelRef.current, viewport: viewportRef.current, isMobile, isAnimate: true } })\n  }, [isObscurred])\n\n  return (\n    <>\n      {!targetCoord && isTargetVisible && (\n        <div className={`fm-c-marker fm-c-marker--target fm-c-marker--visible fm-c-marker--center${hasTargetData ? ' fm-c-marker--has-data' : ''}`} aria-label='Map marker'>\n          <div className='fm-c-marker__inner'>\n            <svg width='38' height='38' viewBox='0 0 38 38' fillRule='evenodd' fill='currentColor'>\n              <path d='M5.035 20H1v-2h4.035C5.525 11.069 11.069 5.525 18 5.035V1h2v4.035c6.931.49 12.475 6.034 12.965 12.965H37v2h-4.035c-.49 6.931-6.034 12.475-12.965 12.965V37h-2v-4.035C11.069 32.475 5.525 26.931 5.035 20zM19 7A12.01 12.01 0 0 0 7 19a12.01 12.01 0 0 0 12 12 12.01 12.01 0 0 0 12-12A12.01 12.01 0 0 0 19 7zm0 10a2 2 0 1 1 0 4 2 2 0 1 1 0-4z' />\n              <path d='M5.035 20H1v-2h4.035a14.02 14.02 0 0 1 .246-1.8l1.96.399C7.083 17.375 7 18.178 7 19s.083 1.625.241 2.401l-1.96.399a14.02 14.02 0 0 1-.246-1.8zM20 5.035a14.02 14.02 0 0 1 1.8.246l-.399 1.96C20.625 7.083 19.822 7 19 7s-1.625.083-2.401.241l-.399-1.96a14.02 14.02 0 0 1 1.8-.246V1h2v4.035zm-2 27.93a14.02 14.02 0 0 1-1.8-.246l.399-1.96c.776.158 1.579.241 2.401.241s1.625-.083 2.401-.241l.399 1.96a14.02 14.02 0 0 1-1.8.246V37h-2v-4.035zM32.965 20a14.02 14.02 0 0 1-.246 1.8l-1.96-.399c.158-.776.241-1.579.241-2.401s-.083-1.625-.241-2.401l1.96-.399a14.02 14.02 0 0 1 .246 1.8H37v2h-4.035zM19 17a2 2 0 1 1 0 4 2 2 0 1 1 0-4zm3.8-9.385l.634-1.897a13.98 13.98 0 0 1 4.848 2.805l-1.327 1.496c-1.196-1.06-2.605-1.886-4.155-2.404zm5.181 3.43l1.496-1.327a13.98 13.98 0 0 1 2.805 4.848l-1.897.634c-.518-1.55-1.344-2.959-2.404-4.155zM30.385 22.8l1.897.634a13.98 13.98 0 0 1-2.805 4.848l-1.496-1.327c1.06-1.196 1.886-2.605 2.404-4.155zm-3.43 5.181l1.327 1.496a13.98 13.98 0 0 1-4.848 2.805l-.634-1.897c1.55-.518 2.959-1.344 4.155-2.404zM15.2 30.385l-.634 1.897a13.98 13.98 0 0 1-4.848-2.805l1.327-1.496c1.196 1.06 2.605 1.886 4.155 2.404zm-5.181-3.43l-1.496 1.327a13.98 13.98 0 0 1-2.805-4.848l1.897-.634c.518 1.55 1.344 2.959 2.404 4.155zM7.615 15.2l-1.897-.634a13.98 13.98 0 0 1 2.805-4.848l1.496 1.327c-1.06 1.196-1.886 2.605-2.404 4.155zm3.43-5.181L9.718 8.523a13.98 13.98 0 0 1 4.848-2.805l.634 1.897c-1.55.518-2.959 1.344-4.155 2.404z' />\n            </svg>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useEffect, useRef, useMemo, useCallback } from 'react'\nimport { useQueryState } from '../hooks/use-query-state.js'\nimport { useResizeObserver } from '../hooks/use-resize-observer.js'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { settings, offsets, events } from '../store/constants.js'\nimport { debounce } from '../lib/debounce.js'\nimport { getShortcutKey, getMapPixel, getScale, getPoint } from '../lib/viewport.js'\nimport { getColor } from '../lib/utils.js'\nimport eventBus from '../lib/eventbus.js'\nimport PaddingBox from './padding-box.jsx'\nimport ViewportStatus from './viewport-status.jsx'\nimport Target from './target.jsx'\nimport { toggleInert } from '../lib/dom.js'\n\nconst getClassName = (size, styleName, isFocusVisible, isKeyboard, hasShortcuts) => {\n  return `fm-o-viewport${size !== 'small' ? ' fm-o-viewport--' + size : ''} fm-o-viewport--${styleName}${hasShortcuts && isKeyboard ? ' fm-o-viewport--has-shortcuts' : ''}${isFocusVisible ? ' fm-u-focus-visible' : ''}`\n}\n\nexport default function Viewport () {\n  const { isContainerReady, provider, geocode, options, parent, drawMode, shape, segments, layers, viewportRef, frameRef, activePanel, activeRef, featureId, targetMarker, interfaceType } = useApp()\n  const { id, hasAutoMode, backgroundColor, queryFeature, queryLocation, draw } = options\n  const appDispatch = useApp().dispatch\n\n  const { style, bounds, center, zoom, oCentre, originalZoom, rZoom, minZoom, maxZoom, features, size, status, isStatusVisuallyHidden, hasShortcuts, action, timestamp, isMoving, isUpdate, isUrlUpdate } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQueryCz] = useQueryState(settings.params.centerZoom)\n\n  const mapContainerRef = useRef(null)\n  const startPixel = useRef([0, 0])\n  const labelPixel = useRef(null)\n  const pointerPixel = useRef(null)\n  const isDraggingRef = useRef(false)\n  const STATUS_DELAY = 500\n\n  // Template properties\n  const isKeyboard = interfaceType === 'keyboard'\n  const isFocusVisible = isKeyboard && document.activeElement === viewportRef.current\n  const className = getClassName(size, style?.name, isFocusVisible, isKeyboard, hasShortcuts)\n  const scale = getScale(size)\n  const bgColor = getColor(backgroundColor, style?.name)\n\n  // Determin focus area\n  const isFocusArea = interfaceType === 'keyboard' && features?.isFeaturesInMap || drawMode === 'frame'\n  const activeFeatures = isFocusArea ? features?.featuresInFocus : features?.featuresInViewport\n\n  const handleFocus = () => {\n    toggleInert(viewportRef.current)\n  }\n\n  const handleKeyDown = e => {\n    // Disable body scroll\n    if (e.key !== 'Tab') {\n      e.preventDefault()\n    }\n\n    // Pan map (Cursor keys)\n    if (!e.altKey && offsets.pan[e.key.toUpperCase()]) {\n      provider.panBy(offsets[e.shiftKey ? 'shiftPan' : 'pan'][e.key.toUpperCase()])\n    }\n\n    // Zoom map (+ or -)\n    if (['+', '-', '=', '_'].includes(e.key)) {\n      // ['+', '='].includes(e.key) ? provider.zoomIn() : provider.zoomOut()\n      ['+', '='].includes(e.key) ? viewportDispatch({ type: 'ZOOM_IN' }) : viewportDispatch({ type: 'ZOOM_OUT' })\n    }\n\n    // Select feature or query center (Enter)\n    if (!e.altKey && e.key === 'Enter' && drawMode === 'default') {\n      if (featureId) {\n        provider.queryFeature(featureId)\n      } else if (queryLocation?.layers && !isMoving) {\n        const point = getMapPixel(frameRef.current, scale)\n        provider.queryPoint(point)\n      } else {\n        // No action\n      }\n    }\n\n    // Cycle through feature list (PageUp and PageDown)\n    if (['PageDown', 'PageUp'].includes(e.key) && queryFeature) {\n      labelPixel.current = provider?.hideLabel()\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: true })\n      appDispatch({ type: 'SET_NEXT_SELECTED', payload: { key: e.key, features: activeFeatures } })\n      activeRef.current = viewportRef.current\n    }\n  }\n\n  const handleKeyUp = e => {\n    // Get map details (Alt + i)\n    if (e.altKey && e.code.slice(-1) === 'I') {\n      // Debounce place update\n      debounceUpdatePlace(center)\n    }\n\n    // Open keyboard controls (Alt + k)\n    if (e.altKey && e.code.slice(-1) === 'K') {\n      appDispatch({ type: 'OPEN', payload: 'KEYBOARD' })\n    }\n\n    // Clear selected alternate feature or label\n    if (['Escape', 'Esc'].includes(e.key)) {\n      // Triggers an update event\n      labelPixel.current = provider.hideLabel?.()\n      viewportDispatch({ type: 'CLEAR_ALT_FEATURE' })\n      appDispatch({ type: 'SET_SELECTED', payload: { featureId: null } })\n    }\n\n    // Feature shortcut keys (Alt + 1 - 9)\n    if (e.altKey && /^[1-9]$/.test(e.code.slice(-1))) {\n      const fId = getShortcutKey(e, activeFeatures)\n      provider.queryFeature(fId)\n    }\n\n    // Select label (Alt + arrow key)\n    if (e.altKey && ['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key) && provider.showNextLabel) {\n      const direction = e.key.substring(5).toLowerCase()\n      // Triggers an update event\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: false })\n      labelPixel.current = provider.showNextLabel(labelPixel.current, direction)\n    }\n\n    // Select label (Alt + Enter with mousehover)\n    if (e.altKey && e.key === 'Enter' && pointerPixel.current && provider.showLabel) {\n      viewportDispatch({ type: 'TOGGLE_SHORTCUTS', payload: false })\n      labelPixel.current = provider.showLabel(pointerPixel.current)\n    }\n  }\n\n  const handleClick = e => {\n    // Hide panel\n    if (['SEARCH', 'KEY'].includes(activePanel)) {\n      appDispatch({ type: 'CLOSE' })\n      return\n    }\n\n    // Query point\n    if (!isDraggingRef.current) {\n      const point = getPoint(viewportRef.current, e, scale)\n      if (e.altKey && provider.showLabel) {\n        labelPixel.current = provider.showLabel(point)\n      } else if (!(drawMode !== 'default' || !(queryFeature?.layers || queryLocation?.layers))) {\n        provider.queryPoint(point)\n      } else {\n        // No action\n      }\n    }\n  }\n\n  const handlePointerMove = e => {\n    const { layerX, layerY } = e.nativeEvent\n    pointerPixel.current = [layerX / scale, layerY / scale]\n  }\n\n  const handleMapLoad = e => {\n    viewportDispatch({ type: 'READY', payload: e.detail })\n    eventBus.dispatch(parent, events.APP_READY, {\n      ...e.detail, drawMode, segments, layers, style: style.name, size\n    })\n  }\n\n  const handlePointerDown = e => {\n    startPixel.current = [e.pageX, e.pageY]\n    isDraggingRef.current = false\n  }\n\n  const handlePointerUp = e => {\n    const diffX = Math.abs(e.pageX - startPixel.current[0])\n    const diffY = Math.abs(e.pageY - startPixel.current[1])\n    isDraggingRef.current = diffX >= offsets.drag || diffY >= offsets.drag\n  }\n\n  // Update place after Alt + i\n  const debounceUpdatePlace = useCallback(debounce(async (coord) => {\n    const place = await geocode.getNearest(zoom, coord)\n    viewportDispatch({ type: 'UPDATE_PLACE', payload: place || 'remote area' })\n  }, STATUS_DELAY), [])\n\n  // Provider events\n  const handleMoveStart = e => {\n    const isUserInitiated = e.detail.isUserInitiated\n    viewportDispatch({ type: 'MOVE_START', payload: isUserInitiated })\n    if (isKeyboard && activePanel === 'INFO' && isUserInitiated) {\n      appDispatch({ type: 'CLOSE' })\n    }\n  }\n\n  // Get is min or max zoom during animation\n  const handleMove = e => {\n    viewportDispatch({ type: 'MOVE', payload: { ...e.detail } })\n  }\n\n  // Primary update event\n  const handleUpdate = e => {\n    viewportDispatch({ type: 'UPDATE', payload: e.detail })\n  }\n\n  // Map query\n  const handleMapQuery = e => {\n    const { resultType } = e.detail\n    const { items, isPixelFeaturesAtPixel, coord } = e.detail.features\n    const selectedId = resultType === 'feature' && items.length ? items[0].id : null\n    const marker = resultType === 'pixel' ? { coord, hasData: isPixelFeaturesAtPixel } : null\n    appDispatch({ type: 'SET_SELECTED', payload: { featureId: selectedId, targetMarker: marker, activePanelHasFocus: true } })\n    eventBus.dispatch(parent, events.APP_QUERY, { ...e.detail, style: style.name, size, segments, layers })\n  }\n\n  // Provider style change\n  const handleMapStyle = e => {\n    eventBus.dispatch(parent, events.APP_CHANGE, { ...e.detail, style: style.name, size, drawMode, segments, layers })\n  }\n\n  // Initial render\n  useEffect(() => {\n    if (isContainerReady && !provider.isLoaded) {\n      provider.init({\n        ...options,\n        container: mapContainerRef.current,\n        paddingBox: frameRef.current,\n        bounds,\n        center,\n        zoom,\n        minZoom,\n        maxZoom,\n        style,\n        size,\n        featureLayers: queryFeature?.layers,\n        locationLayers: queryLocation?.layers\n      })\n\n      provider.addEventListener('load', handleMapLoad)\n      provider.addEventListener('update', handleUpdate)\n      provider.addEventListener('move', handleMove)\n      provider.addEventListener('mapquery', handleMapQuery)\n    }\n\n    // We need to know if open was triggered by the button\n    if (document.querySelector('[data-fm-open]')) {\n      activeRef.current = viewportRef.current\n    }\n\n    // Dispatch viewport ready if no style url provided\n    if (!style?.url) {\n      viewportDispatch({ type: 'READY', payload: {} })\n    }\n\n    return () => {\n      provider.removeEventListener('load', handleMapLoad)\n      provider.removeEventListener('update', handleUpdate)\n      provider.removeEventListener('move', handleMove)\n      provider.removeEventListener('mapquery', handleMapQuery)\n      provider?.remove()\n    }\n  }, [isContainerReady])\n\n  // Movestart and vertex edit need access to some state\n  useEffect(() => {\n    provider.addEventListener('movestart', handleMoveStart)\n\n    return () => {\n      provider.removeEventListener('movestart', handleMoveStart)\n    }\n  }, [isKeyboard, activePanel, action])\n\n  // Handle viewport action\n  useEffect(() => {\n    provider.addEventListener('style', handleMapStyle)\n\n    switch (action) {\n      case 'SEARCH':\n        bounds ? provider.fitBounds(bounds) : provider.setCentre(center, zoom)\n        // Close search and move focus to viewport\n        appDispatch({ type: 'CLOSE' })\n        activeRef.current = viewportRef.current\n        break\n      case 'RESET':\n        provider.setCentre(oCentre, rZoom)\n        break\n      case 'GEOLOC':\n        provider.setCentre(center, originalZoom)\n        provider.showLocation(center)\n        break\n      case 'ZOOM_IN':\n        provider.zoomIn()\n        break\n      case 'ZOOM_OUT':\n        provider.zoomOut()\n        break\n      case 'SIZE':\n        window.localStorage.setItem('size', size)\n        provider.setSize(size)\n        break\n      case 'STYLE':\n        window.localStorage.setItem('style', style.name)\n        provider.setStyle(style, minZoom, maxZoom)\n        break\n      default:\n        // No action\n    }\n\n    return () => {\n      provider.removeEventListener('style', handleMapStyle)\n    }\n  }, [timestamp, action, drawMode, style, size])\n\n  // All query params, debounced by provider. Must be min 500ms\n  useEffect(() => {\n    if (isUrlUpdate) {\n      setQueryCz(`${center.toString()},${zoom}`)\n    }\n  }, [isUrlUpdate])\n\n  // Swap style on light/dark mode change\n  useEffect(() => {\n    if (hasAutoMode && provider.map) {\n      const colourScheme = window?.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n      viewportDispatch({ type: 'SET_STYLE', payload: { style: style.name, colourScheme } })\n    }\n  }, [window?.matchMedia('(prefers-color-scheme: dark)').matches])\n\n  // Set initial selected feature\n  useEffect(() => {\n    provider.selectFeature(featureId)\n  }, [featureId, targetMarker])\n\n  // Initialise draw\n  useEffect(() => {\n    if (provider.map && !provider.draw && (drawMode !== 'default' || draw?.feature)) {\n      provider.initDraw({ ...draw, drawMode, shape, interfaceType })\n    }\n  }, [provider.map, drawMode])\n\n  // Update view padding on resize\n  useResizeObserver(viewportRef.current, () => {\n    provider.setPadding(null, false)\n  })\n\n  return (\n    <div\n      id={`${id}-viewport`}\n      className={className}\n      role='application'\n      aria-labelledby={`${id}-viewport-label`}\n      {...isUrlUpdate ? { 'aria-describedby': `${id}-viewport-description` } : {}}\n      onClick={handleClick}\n      onFocus={handleFocus}\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleKeyUp}\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerMove={handlePointerMove}\n      {...featureId ? { 'aria-activedescendant': `${id}-feature-${featureId}` } : {}}\n      {...backgroundColor ? { style: { backgroundColor: bgColor } } : {}}\n      aria-owns={`${id}-viewport-features`}\n      tabIndex='0'\n      ref={viewportRef}\n      data-fm-viewport\n    >\n      <div id={`${id}-map-container`} className='fm-o-map-container' ref={mapContainerRef} />\n      <PaddingBox isFocusArea={isFocusArea}>\n        <Target />\n      </PaddingBox>\n      <ul id={`${id}-viewport-features`} className='fm-u-visually-hidden' role='listbox' aria-labelledby={`${id}-viewport-label`}>\n        {activeFeatures?.map(feature => {\n          const uid = `${id}${feature.id}`\n          return (\n            <li key={uid} id={`${id}-feature-${feature.id}`} role='option' aria-selected={featureId === (feature.id)} aria-setsize='-1' tabIndex='-1'>{feature.name}</li>\n          )\n        })}\n      </ul>\n      <ViewportStatus />\n      {/* {useMemo(() => {\n        return (\n          <div className={`fm-c-status${isStatusVisuallyHidden || !status ? ' fm-u-visually-hidden' : ''}`} aria-live={isUpdate ? 'polite' : 'assertive'}>\n            <div id={`${id}-viewport-description`} className='fm-c-status__inner' aria-atomic>\n              {status}\n            </div>\n          </div>\n        )\n      }, [status])} */}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function Exit () {\n  const { options, drawMode, isPage, isBack, handleExit, isDesktop, activePanel } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  const isFixed = options?.legend?.display !== 'inset' && isDesktop\n  const hasButton = !isQueryMode && isPage\n\n  if (!hasButton) {\n    return null\n  }\n\n  const Path = () => {\n    if (isBack) {\n      if (isFixed) {\n        return (\n          <path d='M10.193,17.777l-7.778,-7.777l7.778,-7.778l1.414,1.414l-6.364,6.364l6.364,6.363l-1.414,1.414Z' fill='currentColor' strokeWidth='0' />\n        )\n      }\n      return (\n        <path d='M3.828 10l8.486 8.485-1.415 1.414L1 10 10.899.101l1.415 1.414L3.828 10z' fill='currentColor' strokeWidth='0' />\n      )\n    }\n    return (\n      <path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' fill='currentColor' strokeWidth='0' />\n    )\n  }\n\n  return (\n    <button onClick={handleExit} className='fm-c-btn fm-c-btn--exit' {...activePanel === 'SEARCH' ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width={isBack ? '14' : '20'} height='20' viewBox={isBack ? '0 0 14 20' : '0 0 20 20'}>\n        <Path />\n      </svg>\n      <span className='fm-c-btn__label'>{isBack ? 'Back' : 'Exit'}</span>\n    </button>\n  )\n}\n","import { useEffect } from 'react'\n\n/**\n * Hook that alerts clicks outside of the passed ref\n */\nexport const useOutsideInteract = (ref, isModal, type, callback) => {\n  useEffect(() => {\n    /**\n     * Alert if clicked on outside of element\n     */\n    function handleInteractOutside (e) {\n      if (ref.current && !ref.current.contains(e.target)) {\n        callback(e)\n      }\n    }\n    // Bind the event listener\n    document.addEventListener(type, handleInteractOutside)\n    return () => {\n      // Unbind the event listener on clean up\n      document.removeEventListener(type, handleInteractOutside)\n    }\n  }, [ref, isModal])\n}\n","export const createMessage = (suggestions, selected) => {\n  const results = `${suggestions?.length} result${suggestions?.length !== 0 ? 's' : ''} are available.`\n  let message = suggestions?.length ? results : 'error'\n  const isHighlighted = suggestions?.length && selected >= 0\n\n  message = isHighlighted ? `${suggestions[selected].text}. ${selected + 1} of ${suggestions?.length} is highlighted.` : message\n\n  return message\n}\n","import { createMessage } from '../lib/search'\nimport { defaults } from './constants'\n\nconst expand = (state, payload) => {\n  return {\n    ...state,\n    isExpanded: true,\n    activeRef: payload\n  }\n}\n\nconst collapse = (state, payload) => {\n  return {\n    ...state,\n    isExpanded: false,\n    activeRef: payload\n  }\n}\n\nconst focus = (state, payload) => {\n  return {\n    ...state,\n    isVisible: true,\n    isFocusWithin: true,\n    isFocusVisibleWithin: payload,\n    activeRef: null\n  }\n}\n\nconst blur = (state) => {\n  return {\n    ...state,\n    isFocusWithin: false,\n    isFocusVisibleWithin: false\n  }\n}\n\nconst mouseenter = (state) => {\n  return {\n    ...state,\n    selected: -1\n  }\n}\n\nconst click = (state, payload) => {\n  return {\n    ...state,\n    isVisible: true,\n    isFocusVisibleWithin: payload.isKeyboard,\n    activeRef: payload.activeRef\n  }\n}\n\nconst change = (state, payload) => {\n  let suggestions = state.suggestions\n  if (payload.length < defaults.MIN_SEARCH_LENGTH) {\n    suggestions = null\n  }\n  return {\n    ...state,\n    value: payload,\n    suggestions,\n    message: createMessage(suggestions, -1),\n    isVisible: payload.length >= defaults.MIN_SEARCH_LENGTH\n  }\n}\n\nconst showSuggestions = (state, payload) => {\n  return {\n    ...state,\n    suggestions: payload,\n    message: createMessage(payload, -1)\n  }\n}\n\nconst hideSuggestions = (state) => {\n  return {\n    ...state,\n    isVisible: false,\n    message: createMessage(state.suggestions, -1),\n    selected: -1\n  }\n}\n\nconst review = (state, payload) => {\n  let index\n  const current = state.selected\n  const length = state.suggestions.length\n  if (payload === 'ArrowDown') {\n    index = current === length - 1 ? current : current + 1\n  } else {\n    index = current > 0 ? current - 1 : -1\n  }\n  return {\n    ...state,\n    isVisible: true,\n    selected: index,\n    message: createMessage(state.suggestions, index),\n    status: ''\n  }\n}\n\nconst submit = (state, payload) => {\n  return {\n    ...state,\n    isVisible: false,\n    value: payload,\n    message: `${state.isVisible ? 'Collapsed ' : ''}${state.selected >= 0 ? 'Completion selected' : ''}`,\n    selected: -1,\n    status: ''\n  }\n}\n\nconst clear = (state, payload) => {\n  return {\n    ...state,\n    isVisible: false,\n    value: '',\n    suggestions: [],\n    activeRef: payload.activeRef,\n    message: 'No suggestions',\n    isFocusVisibleWithin: payload.isFocusVisibleWithin\n  }\n}\n\nconst clearStatus = (state) => {\n  return {\n    ...state,\n    status: ''\n  }\n}\n\nconst updateStatus = (state) => {\n  return {\n    ...state,\n    status: state.message\n  }\n}\n\nexport const actionsMap = {\n  EXPAND: expand,\n  COLLAPSE: collapse,\n  FOCUS: focus,\n  BLUR: blur,\n  MOUSEENTER: mouseenter,\n  CLICK: click,\n  CHANGE: change,\n  SHOW_SUGGESTIONS: showSuggestions,\n  HIDE_SUGGESTIONS: hideSuggestions,\n  REVIEW: review,\n  SUBMIT: submit,\n  CLEAR: clear,\n  CLEAR_STATUS: clearStatus,\n  UPDATE_STATUS: updateStatus\n}\n","import { actionsMap } from './search-actions-map'\n\nexport const initialState = {\n  isVisible: false,\n  isExpanded: false,\n  isFocusWithin: false,\n  isFocusVisibleWithin: false,\n  selected: -1,\n  suggestions: null,\n  value: '',\n  message: '',\n  status: ''\n}\n\nexport const reducer = (state, action) => {\n  const { type, payload } = action\n  const fn = actionsMap[type]\n  if (fn) {\n    const actionFunction = fn.bind(this, state, payload)\n    return actionFunction()\n  }\n\n  return state\n}\n","import React, { useRef, useEffect, useMemo, useCallback } from 'react'\nimport { debounce } from '../lib/debounce'\nimport { defaults } from '../store/constants'\n\nexport default function Autocomplete ({ id, state, dispatch, geocode, errorText, updateViewport }) {\n  const DELAY = 500\n  const selectedRef = useRef()\n\n  const { value, selected } = state\n\n  const debounceUpdateSuggest = useCallback(debounce(async (text) => {\n    const items = await geocode.suggest(text)\n    dispatch({ type: 'SHOW_SUGGESTIONS', payload: items })\n    updateStatus()\n  }, DELAY), [])\n\n  const updateStatus = () => {\n    dispatch({ type: 'CLEAR_STATUS' })\n    debounceUpdateStatus()\n  }\n\n  const debounceUpdateStatus = useCallback(debounce(() => {\n    dispatch({ type: 'UPDATE_STATUS' })\n  }, DELAY), [])\n\n  const handleClick = (e, i) => {\n    e.preventDefault()\n    const text = state.suggestions[i].text\n    const suggestionId = state.suggestions[i].id\n    dispatch({ type: 'SUBMIT', payload: text })\n    updateViewport(text, suggestionId)\n  }\n\n  useEffect(() => {\n    updateStatus()\n  }, [state.isVisible])\n\n  useEffect(() => {\n    updateStatus()\n    setTimeout(() => selectedRef.current?.scrollIntoView(false), 0)\n  }, [selected])\n\n  useEffect(() => {\n    if (value.length >= defaults.MIN_SEARCH_LENGTH) {\n      debounceUpdateSuggest(value)\n      return\n    }\n    updateStatus()\n  }, [value])\n\n  return (\n    <div className='fm-c-search__suggestions'>\n      {useMemo(() => {\n        return (\n          <div className='fm-u-visually-hidden' aria-live='polite' aria-atomic>\n            {state.status === 'error' ? (errorText || 'No results are available') : state.status}\n          </div>\n        )\n      }, [state.status])}\n      {(state.value?.length >= defaults.MIN_SEARCH_LENGTH) && state.suggestions && !state.suggestions.length && (\n        <div className='fm-c-search__hint'>{errorText || 'No results are available'}</div>\n      )}\n      <ul id={`${id}-suggestions`} role='listbox' aria-labelledby={`${id}-search`} className='fm-c-search__list' {...(!state.isVisible ? { style: { display: 'none' } } : {})} onMouseEnter={() => dispatch({ type: 'MOUSEENTER' })}>\n        {state.suggestions?.map((item, i) =>\n          <li key={item.id} ref={state.selected === i ? selectedRef : null} id={`${id}-search-suggestion-${i}`} className={`fm-c-search-item${state.selected === i ? ' fm-c-search-item--selected' : ''}`} onClick={e => handleClick(e, i)} role='option' aria-selected={state.selected === i} aria-posinset={i + 1} aria-setsize={state.suggestions.length} tabIndex='-1'>\n            <span className='fm-c-search-item__primary' dangerouslySetInnerHTML={item.marked} />\n          </li>)}\n      </ul>\n    </div>\n  )\n}\n","import React, { useRef, useEffect, useReducer } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { reducer, initialState } from '../store/search-reducer'\nimport Autocomplete from './autocomplete.jsx'\n\nconst getDerivedProps = (search, isMobile, legend, state) => {\n  const searchWidth = !isMobile ? (legend?.keyWidth || legend?.width) : null\n  const hasClear = isMobile && !!state.value?.length\n  const className = 'fm-c-search'\n  const formClassName = `fm-c-search__form${state.isFocusWithin ? ' fm-u-focus-within' : ''}${state.isFocusVisibleWithin ? ' fm-u-focus-visible-within' : ''}`\n  const country = ` in ${search?.country?.charAt(0).toUpperCase()}${search?.country?.slice(1)}`\n  const label = `Search for a place${search?.country ? country : ''}`\n  return { searchWidth, hasClear, className, formClassName, label }\n}\n\nconst hasPanel = (search, activePanel, isDesktop) => {\n  return activePanel === 'SEARCH' || (isDesktop && search?.isExpanded)\n}\n\nexport default function Search ({ instigatorRef }) {\n  const { geocode, interfaceType, isMobile, options, search, activeRef, activePanel, isDesktop, legend } = useApp()\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const { id } = options\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const formRef = useRef()\n  const clearBtnRef = useRef()\n  const inputRef = useRef()\n  const { searchWidth, hasClear, className, formClassName, label } = getDerivedProps(search, isMobile, legend, state)\n\n  // Hide soft keyboard on touchstart outside search input\n  useOutsideInteract(inputRef, true, 'touchstart', e => {\n    if (document.activeElement !== inputRef.current) {\n      return\n    }\n    inputRef.current.blur()\n    if (!formRef.current?.contains(e.target)) {\n      return\n    }\n    setTimeout(() => inputRef.current.focus(), 0)\n  })\n\n  const updateViewport = async (value, suggestionId) => {\n    const location = await geocode.find(value, suggestionId)\n    if (!location) {\n      return\n    }\n    const { bounds, center, zoom, text } = location\n    viewportDispatch({ type: 'SEARCH', payload: { bounds, center, zoom, place: text } })\n  }\n\n  const handleFocus = () => {\n    dispatch({ type: 'FOCUS', payload: interfaceType === 'keyboard' })\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault()\n    const suggestion = state.selected >= 0 ? state.suggestions[state.selected] : null\n    const value = suggestion?.text || state.value\n    dispatch({ type: 'SUBMIT', payload: value })\n    updateViewport(value, suggestion?.id)\n  }\n\n  const handleCollapse = () => {\n    appDispatch({ type: 'CLOSE' })\n    activeRef.current = instigatorRef.current\n  }\n\n  const handleClear = () => {\n    dispatch({ type: 'CLEAR', payload: { activeRef: inputRef, isFocusVisibleWithin: interfaceType === 'keyboard' } })\n    inputRef.current.focus()\n  }\n\n  const handleKeyDown = e => {\n    // Escape key\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      if (state.value || state.isVisible) {\n        dispatch({ type: 'HIDE_SUGGESTIONS' })\n      } else {\n        dispatch({ type: 'COLLAPSE', payload: instigatorRef })\n      }\n    }\n    // Review suggestions\n    if (['ArrowDown', 'ArrowUp'].includes(e.key) && state.suggestions?.length >= 1) {\n      e.preventDefault()\n      dispatch({ type: 'REVIEW', payload: e.key })\n    }\n  }\n\n  const handleKeyUp = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      handleCollapse()\n    }\n  }\n\n  const handleChange = e => {\n    dispatch({ type: 'CHANGE', payload: e.target.value })\n  }\n\n  const handleClick = () => {\n    const isKeyboard = interfaceType === 'keyboard'\n    dispatch({ type: 'CLICK', payload: { isKeyboard, activeRef: inputRef } })\n  }\n\n  // Move focus to input\n  useEffect(() => {\n    if (activePanel === 'SEARCH') {\n      activeRef.current = inputRef.current\n    }\n  }, [activePanel])\n\n  if (!hasPanel(search, activePanel, isDesktop)) {\n    return null\n  }\n\n  return (\n    <div\n      id={`${id}-search-form`} className={className}\n      role='dialog'\n      aria-labelledby={`${id}-search`}\n      aria-modal\n      open\n      onKeyUp={handleKeyUp}\n      {...searchWidth && {\n        style: { width: searchWidth }\n      }}\n      onKeyDown={handleKeyDown}\n      ref={formRef}\n    >\n      <div className='fm-c-search__control'>\n        <form role='search' className={formClassName} aria-controls={`${id}-viewport`} onSubmit={handleSubmit}>\n          {isMobile && (\n            <button onClick={handleCollapse} type='button' className='fm-c-btn fm-c-btn--search-back' aria-label='Close search'>\n              <svg aria-hidden='true' focusable='false' width='14' height='20' viewBox='0 0 14 20' fillRule='evenodd' fill='currentColor'>\n                <path d='M3.828 10l8.486 8.485-1.415 1.414L1 10 10.899.101l1.415 1.414L3.828 10z' strokeWidth='0' />\n              </svg>\n            </button>\n          )}\n          <label htmlFor={`${id}-search`} className='fm-u-visually-hidden'>{label}</label>\n          <input\n            id={`${id}-search`}\n            className='fm-c-search__input'\n            role='combobox'\n            aria-expanded={state.isVisible}\n            aria-controls={`${id}-suggestions`}\n            type='search'\n            {...(!state.value && { 'aria-describedby': `${id}-search-hint` })}\n            aria-autocomplete='list'\n            autoComplete='off'\n            placeholder={label}\n            name={`${id}-search`}\n            spellCheck='false'\n            enterKeyHint='search'\n            {...(state.selected >= 0 && { 'aria-activedescendant': `${id}-search-suggestion-${state.selected}` })}\n            value={state.value}\n            onClick={handleClick}\n            onChange={handleChange}\n            onFocus={handleFocus}\n            onBlur={() => dispatch({ type: 'BLUR' })}\n            ref={inputRef}\n          />\n          {hasClear && (\n            <button className='fm-c-btn fm-c-search__clear' aria-label='Clear search' type='button' onClick={handleClear} ref={clearBtnRef}>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fill='currentColor'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', strokeWidth: '0' }} /></svg>\n            </button>\n          )}\n          {!isMobile && (\n            <button onClick={handleCollapse} type='button' className='fm-c-btn fm-c-btn--search-close' aria-label='Close search'>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fill='currentColor'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', strokeWidth: '0' }} /></svg>\n            </button>\n          )}\n        </form>\n      </div>\n      <div id={`${id}-search-hint`} style={{ display: 'none' }}>\n        When search results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.\n      </div>\n      {search?.isAutocomplete && (\n        <Autocomplete id={id} state={state} dispatch={dispatch} geocode={geocode} errorText={search.errorText} updateViewport={updateViewport} />\n      )}\n    </div>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport.js'\nimport { constrainFocus, toggleInert } from '../lib/dom'\n\nconst getClassNames = (className, isInset, isReady) => {\n  // Panel content may be dependent on zoom level\n  return `fm-c-panel${className ? ' fm-c-panel--' + className : ''}${isInset ? ' fm-c-panel--inset' : ''}${!isReady ? ' fm-u-hidden' : ''}`\n}\n\nconst getRole = (instigatorRef) => {\n  return instigatorRef ? 'dialog' : 'region'\n}\n\nconst getProps = (id, className, isMobile, isInset, instigatorRef, width) => {\n  const panelId = `${id}-panel${className ? '-' + className : ''}`\n  const hasCloseBtn = !!instigatorRef?.current\n  const hasWidth = width && !(isMobile && isInset)\n  return { panelId, hasCloseBtn, hasWidth }\n}\n\nexport default function Panel ({ className, label, link, isInset, isNotObscure, isHideHeading, isModal, instigatorRef, width, maxWidth, html, children }) {\n  const { options, isMobile, dispatch, obscurePanelRef, activeRef, activePanelHasFocus } = useApp()\n  const { isReady } = useViewport()\n  const { id } = options\n\n  // Ref to element\n  const elementRef = useRef(null)\n  const bodyRef = useRef(null)\n\n  useOutsideInteract(elementRef, isModal, 'pointerdown', () => {\n    if (isModal) {\n      handleClose()\n    }\n  })\n\n  const handleClose = () => {\n    dispatch({ type: 'CLOSE' })\n    obscurePanelRef.current = null\n    activeRef.current = instigatorRef?.current\n  }\n\n  const handleKeyDown = e => {\n    constrainFocus(e)\n  }\n\n  const handleKeyUp = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      handleClose()\n    }\n  }\n\n  const handleFocus = e => {\n    if (e.currentTarget === e.target) {\n      toggleInert()\n    }\n  }\n\n  // Template properties\n  const { panelId, hasCloseBtn, hasWidth } = getProps(id, className, isMobile, isInset, instigatorRef, width)\n\n  // Container is now ready\n  useEffect(() => {\n    // We need to know when/if a panel has been added before rendering map to calculate padding\n    dispatch({ type: 'CONTAINER_READY' })\n\n    // Ref to the obscurring panel so that it can be used calculate offsets\n    obscurePanelRef.current = isNotObscure ? elementRef.current : null\n    \n    // Conditionally set activeRef to panel\n    if (instigatorRef?.current && activePanelHasFocus) {\n      activeRef.current = elementRef.current\n    }\n  }, [])\n\n  // Toggle inert elements\n  useEffect(() => {\n    toggleInert()\n  }, [isModal])\n\n  // Set tabindex on scrollable body\n  useEffect(() => {\n    const height = bodyRef.current?.offsetHeight\n    const scrollHeight = bodyRef.current?.scrollHeight\n    const hasInteractions = bodyRef.current?.querySelector('a, button')\n    const tabIndex = (!hasInteractions && height < scrollHeight) ? 0 : -1\n    bodyRef.current.tabIndex = tabIndex\n  })\n\n  const heading = () => {\n    return (\n      <h2 id={`${panelId}-label`} className={isHideHeading ? 'fm-u-visually-hidden' : 'fm-c-panel__heading'} dangerouslySetInnerHTML={{ __html: label }} />\n    )\n  }\n\n  return (\n    <>\n      <div\n        id={panelId}\n        className={getClassNames(className, isInset, isReady)}\n        aria-labelledby={`${panelId}-label`}\n        role={getRole(instigatorRef)}\n        ref={elementRef}\n        {...(instigatorRef && {\n          open: true,\n          'aria-modal': isModal,\n          onKeyDown: handleKeyDown,\n          onKeyUp: handleKeyUp,\n          onFocus: handleFocus,\n          tabIndex: '-1'\n        })}\n        {...!isMobile && hasWidth && {\n          style: { width, maxWidth }\n        }}\n      >\n        <div className={`fm-c-panel__header${isHideHeading ? ' fm-c-panel__header--collapse' : ''}`}>\n          {link ? (\n            <a href={link} className='fm-c-link'>\n              {heading()}\n            </a>\n          ) : heading()}\n          {hasCloseBtn && (\n            <button onClick={handleClose} className='fm-c-btn fm-c-btn--close-panel' aria-label='Close panel'>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20'><path d='M10,8.6L15.6,3L17,4.4L11.4,10L17,15.6L15.6,17L10,11.4L4.4,17L3,15.6L8.6,10L3,4.4L4.4,3L10,8.6Z' style={{ fill: 'currentColor', stroke: 'currentColor', strokeWidth: 0.1 }} /></svg>\n            </button>\n          )}\n        </div>\n        <div className='fm-c-panel__body' ref={bodyRef}>\n          {html && (\n            <div className='fm-c-panel__content' {...({ dangerouslySetInnerHTML: { __html: html } })} />\n          )}\n          {children}\n        </div>\n      </div>\n      {isModal && (\n        <div className='fm-c-panel-mask' />\n      )}\n    </>\n  )\n}\n","import React, { useState, Fragment } from 'react'\nimport { useQueryState } from '../hooks/use-query-state'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus.js'\nimport { parseSegments, parseLayers } from '../lib/query.js'\n\nexport default function SegmentGroup ({ id, group }) {\n  const { parent, style, drawMode, segments, legend, dispatch, activeRef } = useApp()\n  const { size } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQuerySeg] = useQueryState('seg')\n  const { display, heading, isHidden, isDetails } = group\n  const [isExpanded, setIsExpanded] = useState(group.isExpanded)\n  const isCustom = ['segmented', 'timeline'].includes(display)\n\n  const handleItemClickOrChange = e => {\n    let seg = segments?.filter(s => !items.map(i => i.id).includes(s))\n    seg.push(e.currentTarget.value)\n    seg = parseSegments(legend?.segments, seg)\n    const lyr = parseLayers(legend?.key)\n    activeRef.current = e.currentTarget\n    dispatch({ type: 'TOGGLE_SEGMENTS', payload: { segments: seg, layers: lyr } })\n    viewportDispatch({ type: 'CLEAR_FEATURES' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'segment', drawMode, style, size, segments: seg, layers: lyr })\n\n    // Update query param\n    setQuerySeg(seg.join(','))\n  }\n\n  const handleDetailsClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  const items = group.items.map(i => { return { ...i, isChecked: segments.includes(i.id) } })\n  const selected = items.find(i => i.isChecked).label\n\n  const segmentHeader = () => {\n    return (\n      <>\n        {isDetails\n          ? (\n            <h3 className='fm-c-segments__heading fm-c-segments__heading--details'>\n              <button className='fm-c-details' aria-expanded={isExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n                <span className='fm-c-details__label'>\n                  <span id={`segment-${id}`} className='fm-c-details__label-focus'>{heading}</span>\n                </span>\n                <span className='fm-c-details__summary'>\n                  <span className='fm-c-details__summary-focus'>{selected}</span>\n                </span>\n                <span className='fm-c-details__toggle'>\n                  <span className='fm-c-details__toggle-focus'>\n                    <span className='fm-c-details__chevron' />\n                    {isExpanded ? 'Hide' : 'Show'}\n                  </span>\n                </span>\n              </button>\n            </h3>\n          ) : (\n            <h3 id={`segment-${id}`} className={isCustom ? 'fm-u-visually-hidden' : 'fm-c-layers__heading'}>{heading}</h3>\n          )}\n      </>\n    )\n  }\n\n  const segmentBody = ({ isCustom }) => {\n    return (\n      <div id={`content-${id}`} className='fm-c-segments__inner' {...isCustom ? { role: 'group', 'aria-labelledby': `segment-${id}` } : {}}>\n        {items.map(item => (\n          <Fragment key={item.label.toLowerCase()}>\n            {['timeline', 'segmented'].includes(display)\n              ? (\n                <button aria-pressed={item.isChecked} className='fm-c-segments__button' value={item.id} onClick={handleItemClickOrChange}>\n                  {!['timeline', 'segmented'].includes(display)\n                    ? <span className='fm-c-segments__button-icon' />\n                    : null}\n                  <span className='fm-c-segments__button-text' dangerouslySetInnerHTML={{ __html: item.label }} />\n                </button>\n                )\n              : (\n                <div className='fm-c-segments__item'>\n                  <input className='fm-c-segments__radio' defaultChecked={item.isChecked} id={item.id} name={`group-${id}`} type='radio' value={item.id} onChange={handleItemClickOrChange} />\n                  <label className='fm-c-segments__label' htmlFor={item.id} dangerouslySetInnerHTML={{ __html: item.label }} />\n                </div>\n                )}\n          </Fragment>\n        ))}\n      </div>\n    )\n  }\n  \n  const baseAttributes = {\n    className: `fm-c-segments${display ? ' fm-c-segments--' + display : ''}${isDetails && !isExpanded ? ' fm-c-segments--hidden' : ''}`, ...(isHidden && { style: { display: 'none' } })\n  }\n  \n  return (\n    <>\n      {isCustom ? (\n        <div {...baseAttributes} role='group' aria-labelledby={`segment-${id}`}>\n          {segmentHeader()}\n          {segmentBody(isCustom)}\n        </div>\n      ) : (\n        <fieldset {...baseAttributes}>\n          <legend className='fm-c-segments__legend'>\n            {segmentHeader()}\n          </legend>\n          {segmentBody(isCustom)}\n        </fieldset>\n      )}\n    </>\n  )\n}\n","import React, { Fragment } from 'react'\nimport { useApp } from '../store/use-app'\nimport SegmentGroup from './segment-group.jsx'\n\nexport default function Segments () {\n  const { segments, legend } = useApp()\n  if (!legend?.segments) {\n    return null\n  }\n\n  // Only segments with an active parent\n  let groups = legend.segments?.filter(s => s.parentIds ? s.parentIds.some(i => segments.includes(i)) : s)\n\n  // Add display properties\n  groups = groups.map(g => {\n    const isDetails = !g.type && g.heading && g.collapse && ['expanded', 'collapse'].includes(g.collapse)\n    return {\n      ...g,\n      isDetails,\n      isExpanded: isDetails && g?.collapse === 'expanded'\n    }\n  })\n\n  return (\n    <>\n      {groups.map((group, i) => (\n        <Fragment key={`gs${i}`}>\n          <SegmentGroup group={group} id={`s${i}`} />\n        </Fragment>\n      ))}\n    </>\n  )\n}\n","import React, { useRef } from 'react'\nimport { useApp } from '../store/use-app'\nimport { findTabStop } from '../lib/dom.js'\n\nexport default function More ({ id, label, isExpanded, setIsExpanded, isRemove }) {\n  const { activeRef } = useApp()\n  const btnRef = useRef(null)\n\n  const handleClick = () => {\n    setIsExpanded()\n    if (!isRemove) {\n      return\n    }\n    const previousTabStop = findTabStop(document.activeElement, 'prev')\n    activeRef.current = previousTabStop\n  }\n\n  return (\n    <>\n      {!(isRemove && isExpanded)\n        ? (\n          <button\n            className='fm-c-btn-more'\n            aria-controls={id}\n            aria-label={label}\n            aria-expanded={isExpanded}\n            ref={btnRef}\n            onClick={handleClick}\n          >\n            <span className='fm-c-btn-more__chevron' />\n            {label}\n          </button>\n          )\n        : null}\n    </>\n  )\n}\n","import React, { useState, useEffect, Fragment } from 'react'\nimport { useQueryState } from '../hooks/use-query-state'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus.js'\nimport { parseSVG } from '../lib/symbols'\nimport { getColor } from '../lib/utils.js'\n\nconst getDerivedProps = (group, layers, hasInputs) => {\n  const ROW_WIDTH = 300\n  const layout = hasInputs ? group.layout : 'column'\n  const isDetails = hasInputs && layout !== 'column' && group.heading && ['expanded', 'collapse'].includes(group.collapse)\n  const numItems = group.items.length\n  const numCols = layout === 'column' && group.display === 'ramp' ? numItems : Math.min(numItems, 4)\n  const heading = group.heading || group.label\n  const checkedRadioId = group.items.find(item => layers?.includes(item.id))?.id\n  const styleAttr = { ...layout === 'column' ? { style: { gridTemplateColumns: numItems >= 4 ? `repeat(auto-fit, minmax(${Math.round(ROW_WIDTH / numCols)}px, auto))` : 'repeat(3, 1fr)' } } : {} }\n  return { layout, isDetails, heading, checkedRadioId, styleAttr }\n}\n\nconst getLabels = (group, item, checkedRadioId, layers) => {\n  const isActive = group?.type === 'radio' ? item.id === checkedRadioId : layers?.includes(item.id)\n  return isActive ? [item.label] : []\n}\n\nconst getDisplay = (group, item) => {\n  return group.display || (item.icon && 'icon') || (item.fill && 'fill') || item.display\n}\n\nexport default function LayerGroup ({ id, group, legendDisplay, hasSymbols, hasInputs }) {\n  const { parent, dispatch, drawMode, layers, segments } = useApp()\n  const { size, style } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [, setQueryLyr] = useQueryState('lyr')\n  const [isExpanded, setIsExpanded] = useState(group?.collapse !== 'collapse')\n  const [svg, setSvg] = useState({})\n\n  const dispatchAppChange = lyr => {\n    dispatch({ type: 'TOGGLE_LAYERS', payload: lyr })\n    viewportDispatch({ type: 'CLEAR_FEATURES' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'layer', drawMode, style, size, segments, layers: lyr })\n    // Update query param\n    setQueryLyr(lyr.join(','))\n  }\n\n  const handleButtonClick = (e) => {\n    const lyr = layers\n    const index = lyr.indexOf(e.currentTarget.value)\n    const isPressed = e.currentTarget.getAttribute('aria-pressed')\n    isPressed === 'true' ? lyr.splice(index, 1) : lyr.push(e.currentTarget.value)\n    dispatchAppChange(lyr)\n  }\n\n  const handleCheckboxChange = (e) => {\n    const lyr = layers\n    const index = lyr.indexOf(e.target.value)\n    e.target.checked ? lyr.push(e.target.value) : lyr.splice(index, 1)\n    dispatchAppChange(lyr)\n  }\n\n  const handleRadioChange = e => {\n    const lyr = layers\n    if (checkedRadioId) {\n      lyr.splice(lyr.indexOf(checkedRadioId), 1)\n    }\n    lyr.push(e.currentTarget.value)\n    dispatchAppChange(lyr)\n  }\n\n  const handleDetailsClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  // Display properties\n  const { layout, isDetails, heading, checkedRadioId, styleAttr } = getDerivedProps(group, layers, hasInputs)\n  const groupSummary = group.items.reduce((result, current) => [...result, ...getLabels(group, current, checkedRadioId, layers)], []).join(', ').replace(/, ([^,]*)$/, ', $1')\n  const isDarkBasemap = ['dark', 'aerial'].includes(style.name)\n\n  const keySymbol = ({ item, display }) => {\n    const fill = getColor(item?.fill, style.name)\n\n    return (\n      <>\n        {display === 'icon' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`} dangerouslySetInnerHTML={svg[item.icon]} />\n        )}\n        {display === 'fill' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg width='40' height='40' viewBox='0 0 40 40' fill={fill}>\n              <path d='M8 8h24v24H8z' />\n            </svg>\n          </div>\n        )}\n        {display === 'query-polygon' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg width='40' height='40' viewBox='0 0 40 40' fill='none'>\n              <path d='M9 9h22v22H9z' />\n            </svg>\n          </div>\n        )}\n        {display === 'ramp' && (\n          <div className={`fm-c-layers__image fm-c-layers__image--${display}`}>\n            <svg viewBox='0 0 5 5' preserveAspectRatio='none' fill={fill} stroke={fill} strokeWidth={1}>\n              <path d='M0 0h5v5H0z' />\n            </svg>\n          </div>\n        )}\n      </>\n    )\n  }\n\n  const itemInner = ({ item, index, display, isChecked }) => {\n    if (hasInputs && group.type === 'radio') {\n      return (\n        // Radio\n        <>\n          <input className='fm-c-layers__radio' defaultChecked={isChecked} id={item.id} name={`group-${id}`} type='radio' value={item.id} onChange={handleRadioChange} />\n          <label className='fm-c-layers__label' htmlFor={item.id}>\n            {hasSymbols && keySymbol({ display, item })}\n            <span className='fm-c-layers__text' dangerouslySetInnerHTML={{ __html: item.label }} />\n          </label>\n        </>\n      )\n    } else if (hasInputs && item.id && legendDisplay === 'inset') {\n      return (\n        // Toggle button\n        <button className='fm-c-layers__button' aria-pressed={isChecked} value={item.id} onClick={handleButtonClick}>\n          {hasSymbols && keySymbol({ display, item })}\n          <span className='fm-c-layers__text' dangerouslySetInnerHTML={{ __html: item.label }} />\n        </button>\n      )\n    } else if (hasInputs && item.id) {\n      return (\n        // Checkbox\n        <>\n          <input className='fm-c-layers__checkbox' defaultChecked={isChecked} id={item.id} name={`group-${id}`} type='checkbox' value={item.id} onChange={handleCheckboxChange} />\n          <label className='fm-c-layers__label' htmlFor={item.id}>\n            {hasSymbols && keySymbol({ display, item })}\n            <span className='fm-c-layers__text' dangerouslySetInnerHTML={{ __html: item.label }} />\n          </label>\n        </>\n      )\n    } else {\n      return (\n        // Symbol only\n        <>\n          {hasSymbols && keySymbol({ display, item })}\n          <span className={group.numLabels && index % group.numLabels !== 0 ? 'fm-u-visually-hidden' : 'fm-c-layers__text'} dangerouslySetInnerHTML={{ __html: item.label }} />\n        </>\n      )\n    }\n  }\n\n  const layersHeader = () => {\n    return (\n      <>\n      {isDetails\n        ? (\n          <h3 className='fm-c-layers__heading fm-c-layers__heading--details'>\n            <button className='fm-c-details' aria-expanded={isExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n              <span className='fm-c-details__label'>\n                <span id={`layers-${id}`} className='fm-c-details__label-focus'>{heading}</span>\n              </span>\n              <span className='fm-c-details__summary'>\n                <span className='fm-c-details__summary-focus'>{groupSummary || 'None selected'}</span>\n              </span>\n              <span className='fm-c-details__toggle'>\n                <span className='fm-c-details__toggle-focus'>\n                  <span className='fm-c-details__chevron' />\n                  {isExpanded ? 'Hide' : 'Show'}\n                </span>\n              </span>\n            </button>\n          </h3>\n          )\n        : heading && (\n          <h3 id={`layers-${id}`} className='fm-c-layers__heading'>{heading}</h3>\n        )}\n      </>\n    )\n  }\n\n  const layersBody = (layout) => {\n    return (\n      <div id={`content-${id}`} className={`fm-c-layers__${layout || 'row'}s`} {...styleAttr}>\n        {group.items.map((item, i) => {\n          let display = getDisplay(group, item)\n          const isChecked = group?.type === 'radio' ? item?.id === checkedRadioId : layers?.includes(item.id)\n          return (\n            <Fragment key={(item.id || item.label).toLowerCase()}>\n              {(hasSymbols || item.id) && (\n                <div className={`fm-c-layers__item fm-c-layers__item--${display}`}>\n                  {itemInner({ item, index: i, display, isChecked })}\n                </div>\n              )}\n              {hasSymbols && item.items?.map((child, j) => {\n                display = item.display || (child.icon ? 'icon' : 'fill')\n                return (\n                  <div key={`${item.label.toLowerCase()}-${j}`} className={`fm-c-layers__item fm-c-layers__item--${display}`}>\n                    {itemInner({ item: child, index: j, display })}\n                  </div>\n                )\n              })}\n            </Fragment>\n          )\n        })}\n      </div>\n    )\n  }\n\n  useEffect(() => {\n    // Cross browser flatten array\n    let items = group.items.map(item => item.items || item)\n    items = [].concat(...items).filter(item => item.icon)\n    Promise.all(items.map(item => fetch(item.icon))).then(responses =>\n      Promise.all(responses.map(res => res.text()))\n    ).then(texts => {\n      const icons = {}\n      texts.forEach((text, i) => {\n        const item = items[i]\n        const fill = getColor(item?.fill, style.name)\n        icons[item.icon] = { __html: parseSVG(item.icon, fill, text, isDarkBasemap) }\n      })\n      setSvg(icons)\n    })\n  }, [group])\n\n  return (\n    <>\n      {layout === 'column' ? (\n        <div className={`fm-c-layers__group${isDetails && !isExpanded ? ' fm-c-layers__group--hidden' : ''} fm-c-layers__group--${layout || 'row'}${group.numLabels ? ' fm-c-layers__group--custom-labels' : ''}`} role='group' aria-labelledby={`layers-${id}`}>\n          <div className='fm-c-layers__header'>\n            {layersHeader()}\n          </div>\n          {layersBody(layout)}\n        </div>\n      ) : (\n        <fieldset className={`fm-c-layers__group${isDetails && !isExpanded ? ' fm-c-layers__group--hidden' : ''} fm-c-layers__group--${layout || 'row'}${group.numLabels ? ' fm-c-layers__group--custom-labels' : ''}`}>\n          <legend className='fm-c-layers__legend'>\n            {layersHeader()}\n          </legend>\n          {layersBody(layout)}\n        </fieldset>\n      )}\n    </>\n  )\n}\n","import React, { useEffect, Fragment } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { findTabStop } from '../lib/dom.js'\nimport { parseGroups } from '../lib/query.js'\nimport More from './more.jsx'\nimport LayerGroup from './layer-group.jsx'\n\nexport default function Layers ({ hasSymbols, hasInputs }) {\n  const { dispatch, query, segments, options, activeRef, layers, isKeyExpanded } = useApp()\n  const { id, legend, draw } = options\n  const { currentZoom } = useViewport()\n\n  // Derived properties\n  const hasHiddenGroups = legend?.key.some(item => item.isHidden)\n  const queryLabel = query ? draw?.keyLabel : null\n  const groups = parseGroups(legend?.key, segments, layers, currentZoom, hasInputs, queryLabel)\n  const isEmptyKey = !hasInputs && !groups.length\n  const setIsExpanded = () => dispatch({ type: 'TOGGLE_KEY_EXPANDED', payload: !isKeyExpanded })\n\n  useEffect(() => {\n    if (!isKeyExpanded) {\n      return\n    }\n    const lastRef = activeRef.current\n    const nextTabStop = findTabStop(lastRef, 'next')\n    const isLayer = document.getElementById(`${id}-key`).contains(nextTabStop)\n    isLayer ? nextTabStop?.focus() : lastRef?.focus()\n  }, [isKeyExpanded])\n\n  if (!legend?.key) {\n    return null\n  }\n\n  return (\n    <div id={`${id}-key`} className='fm-c-layers'>\n      {groups.map((g, i) => (\n        <Fragment key={`fl${i}`}>\n          {(isKeyExpanded || !g.isHidden) && (\n            <LayerGroup key={`lg${i}`} group={g} id={`l${i}`} legendDisplay={legend?.display} hasSymbols={hasSymbols} hasInputs={hasInputs} />\n          )}\n        </Fragment>\n      ))}\n      {!isKeyExpanded && groups.length > 1 && hasHiddenGroups && (\n        <div className='fm-c-layers__more fm-c-layers__more--center'>\n          <More id={`${id}-key`} label='All layers' isExpanded={isKeyExpanded} setIsExpanded={setIsExpanded} isRemove />\n        </div>\n      )}\n      {isEmptyKey && (\n        <p className='fm-c-layers__error'>No features displayed</p>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useViewport } from '../store/use-viewport'\n\nexport default function Logo () {\n  const { isReady, style } = useViewport()\n  const isDarkBasemap = ['dark', 'aerial'].includes(style?.name)\n  const hasDefaultLogo = style && !('logo' in style)\n\n  return (\n    <>\n      {hasDefaultLogo && (\n        <div className={`fm-c-logo${!isReady ? ' fm-u-hidden' : ''}`}>\n          <svg xmlns='http://www.w3.org/2000/svg' width='90' height='24' fillRule='nonzero' role='img'><title>Ordnance Survey logo</title><path fill={isDarkBasemap ? '#000' : '#fff'} d='M30.084.001l1.602.005a9.8 9.8 0 0 1 6.325 3.312c.484.558.484 1.387-.012 1.959-.281.312-.681.493-1.103.497-.436.004-.851-.184-1.135-.512a6.83 6.83 0 0 0-4.099-2.266l-.437-.065-.381-.022.001 4.319.191.001a8.45 8.45 0 0 1 7.122 3.878c.002-.009.042.053.115.187l.239.418.059.112c.045.086.098.202.159.351l.01.021a8.65 8.65 0 0 1 .384 1.033l.042.14.045.149.16.76c.027.176.055.449.083.817.094 1.543-.244 3.115-.983 4.485l-.044.076c-.07.127-.228.38-.49.775-.014.021-.046.063-.095.125-.465.625-1.015 1.181-1.633 1.655l-.162.123-.468.318c-.415.263-.853.49-1.308.676l-.199.079-.2.073-1.127.33-.747.127-.034.006c-.091.015-.345.056-.959.056h-1.546c-2.885 0-5.631-1.235-7.711-3.447a1.5 1.5 0 0 1-.407-.788 1.53 1.53 0 0 1-.023-.205A11.97 11.97 0 0 1 12 24C5.373 24 0 18.628 0 12S5.373 0 12 0c4.174 0 7.85 2.131 10 5.364l.017-.035.304-.626a8.42 8.42 0 0 1 2.295-2.876l.402-.303A8.31 8.31 0 0 1 29.337.011C29.374.009 29.464 0 29.5 0l.584.001zm28.944 2.148a1.1 1.1 0 0 1 1.097 1.095v1.423c.053-.008.106-.012.161-.012h.861c.192-.001.374.048.532.135a3.26 3.26 0 0 1 1.431-.292c1.223 0 2.111.512 2.626 1.426.7-.879 1.745-1.422 2.87-1.422a3.39 3.39 0 0 1 1.436.297c.161-.092.347-.144.544-.143h.865a1.09 1.09 0 0 1 .627.197 1.09 1.09 0 0 1 .622-.194h.866c.193-.001.375.048.534.136.448-.202.941-.304 1.444-.293 1.228.004 2.116.524 2.626 1.447.692-.9 1.768-1.457 3.033-1.457.946 0 1.851.235 2.509.911l.105.115a3.65 3.65 0 0 1 2.571-1.015c2.28 0 3.611 1.589 3.611 4.117 0 .397-.211.745-.527.937l.256.686a1.09 1.09 0 0 1-.329 1.267c-.84.708-1.889.987-3.01.987-.997 0-1.856-.335-2.502-.914l-.066.063c-.693.571-1.588.851-2.628.851-1.013 0-1.9-.354-2.566-.955a1.09 1.09 0 0 1-1.05.789h-.945c-.604 0-1.096-.49-1.096-1.095V8.499l-.003-.369c-.007-.33-.035-.545-.079-.658-.017.002-.04.007-.084.007-.263 0-.629.263-.629.315v3.441c0 .291-.116.57-.322.776s-.484.32-.773.32H72.7a1.09 1.09 0 0 1-.617-.19c-.177.126-.396.201-.632.201h-.945a1.09 1.09 0 0 1-.513-.128c-.429.186-.897.284-1.374.283-.947 0-1.784-.329-2.427-.888-.153.422-.558.722-1.031.722h-.943c-.604 0-1.096-.49-1.096-1.095V8.318l-.002-.187c-.007-.329-.036-.543-.082-.662-.014.006-.037.01-.081.01-.264 0-.629.262-.629.315v3.459c-.011.599-.5 1.077-1.097 1.077h-.943c-.226 0-.444-.07-.627-.197-.178.125-.396.199-.631.199h-.943a1.09 1.09 0 0 1-.508-.125c-.43.189-.899.289-1.379.289-2.013 0-3.528-1.478-3.743-3.498l-.018-.208-.03.197c-.045.317-.067.57-.067.759v1.489c0 .295-.119.577-.329.783s-.492.317-.768.312h-.943c-.604 0-1.096-.49-1.096-1.095l.001-.485a5.02 5.02 0 0 1-1.406 1.155 4.11 4.11 0 0 1 .381.212c.24.162.407.411.463.686.065.307-.005.627-.177.856l-.49.694c-.318.439-.909.58-1.447.302a2.18 2.18 0 0 0-.886-.3c-.299 0-.396.07-.396.181 0 .003.162.115.691.266.839.222 1.535.548 2.07.972l-.001-.81c.011-.599.5-1.077 1.097-1.077h.945c.29 0 .568.115.773.32s.322.484.322.776v2.845c.001.52.024.776.081.924l.001.004c.017-.007.04-.012.084-.012.264 0 .629-.262.629-.313v-3.448c0-.291.116-.57.322-.776s.483-.32.773-.32h.939c.228-.001.449.069.634.198a1.09 1.09 0 0 1 .628-.198h.861c.151-.001.296.03.429.085a2.76 2.76 0 0 1 1.143-.247 3.65 3.65 0 0 1 .83.116 1.1 1.1 0 0 1 .151.051l.12-.005h.963c.468-.01.892.28 1.043.698l.771 1.973.797-1.971a1.09 1.09 0 0 1 1.022-.7h.951a1.1 1.1 0 0 1 .842.38 3.7 3.7 0 0 1 1.953-.537c.724 0 1.352.16 1.872.459a1.1 1.1 0 0 1 .754-.302h.965c.468-.01.891.28 1.043.698l.784 2.011.803-2.009c.167-.433.588-.713 1.023-.701h.95l.073.003c.529.039.952.45 1.009.972a1.13 1.13 0 0 1-.008.331l-.062.213-2.468 5.923c-.608 1.408-1.639 2.349-2.92 2.571l-.17.015h-.018c-.318-.005-.618-.148-.832-.401l-.514-.627c-.237-.29-.31-.682-.192-1.038.096-.291.308-.525.584-.652l-.178-.091c-.738.439-1.595.62-2.496.62-1.649 0-2.923-.915-3.474-2.336l-.642 1.505c-.172.407-.572.67-1.009.668h-.913c-.432-.003-.823-.26-1.003-.67l-1.702-4.042c-.232.026-.483-.025-.74-.165.018.012.042.018-.032.021-.193 0-.318.28-.318.784v2.978c0 .291-.116.57-.322.776s-.484.32-.773.32h-.945a1.09 1.09 0 0 1-.629-.199 1.06 1.06 0 0 1-.629.199h-.842a1.1 1.1 0 0 1-.551-.134 3.25 3.25 0 0 1-1.431.291c-1.184 0-2.054-.48-2.576-1.339-.643.832-1.698 1.339-2.946 1.339-1.398-.015-2.691-.493-3.523-1.388-.327-.402-.327-.979-.043-1.324l.496-.709c.182-.257.465-.423.718-.449.355-.06.718.06.925.28a2.28 2.28 0 0 0 1.474.612c.098.003.193-.034.262-.103s.105-.161.101-.302c.002-.203-.109-.284-.922-.505-1.864-.508-3.009-1.698-3.009-3.322a2.92 2.92 0 0 1 1.315-2.497c-1.694-.826-2.863-2.628-2.863-4.696 0-2.839 2.204-5.169 4.944-5.169 1.852 0 3.461 1.064 4.309 2.631a1.07 1.07 0 0 1 .486-.115h.861c.151-.001.296.029.428.085.349-.16.734-.246 1.134-.247.285.004.568.043.809.108.293.067.537.248.688.488.578-.38 1.255-.596 1.964-.596a3.39 3.39 0 0 1 .806.085V3.244c0-.606.491-1.095 1.096-1.095h.943zM23.853 14.034l-.021-.023a11.92 11.92 0 0 1-1.48 4.062 1.49 1.49 0 0 1 .467-.073c.429.007.836.192 1.106.495 1.49 1.588 3.389 2.47 5.376 2.515h.727l-.002-4.406-.186-.001a8.34 8.34 0 0 1-5.987-2.568l-.021-.023zm44.845-6.555c-.431 0-.711.383-.711 1.02 0 .681.236 1.017.711 1.019.378 0 .713-.433.713-1.019 0-.746-.232-1.02-.713-1.02zm-12.422 0c-.432 0-.713.383-.713 1.02 0 .685.234 1.017.713 1.019.378 0 .713-.433.713-1.019 0-.746-.232-1.02-.713-1.02zM45.506 5.123c-.969 0-1.813.959-1.813 2.194s.845 2.194 1.813 2.194 1.811-.958 1.811-2.194-.843-2.194-1.811-2.194zM81.2 7.466c-.463 0-.711.357-.711 1.02 0 .764.216 1.019.754 1.019a1.42 1.42 0 0 0 .923-.282 1.09 1.09 0 0 1 .479-.243c-.016-.156-.024-.317-.024-.482a4.73 4.73 0 0 1 .023-.47l-.047-.002c-.255-.025-.495-.137-.679-.316l-.081-.089c-.107-.133-.183-.156-.636-.156z' opacity='.7' /><path fill={isDarkBasemap ? '#fff' : '#453c90'} d='M57.99 10.708c-.459.502-1.11.789-1.792.788-1.605 0-2.769-1.262-2.769-2.997 0-1.853 1.438-2.997 2.769-2.997a2.39 2.39 0 0 1 1.792.77V3.244c0-.053.043-.095.096-.095h.943c.053 0 .096.042.097.095v7.993c-.001.053-.044.095-.097.095h-.943c-.053 0-.096-.043-.096-.095v-.529zm-3.425-2.209c0 .97.444 2.013 1.713 2.019 1.072 0 1.713-1.028 1.713-2.019 0-1.266-.64-2.02-1.713-2.02-1.182 0-1.713 1.047-1.713 2.02zm5.722 2.831c-.025 0-.05-.01-.068-.028s-.028-.042-.028-.067V5.75c0-.053.043-.095.096-.095h.865c.049 0 .091.037.096.086l.055.543c.456-.517 1.118-.805 1.808-.786 1.424 0 2.148.929 2.148 2.759v2.978c-.001.053-.044.095-.097.095h-.943c-.053 0-.096-.043-.096-.095V8.499c0-.476 0-1.003-.152-1.391-.166-.43-.483-.629-1.014-.629-.656 0-1.629.552-1.629 1.315v3.441c-.001.053-.044.095-.097.095h-.943zm15.015 3.557c.048.004.086.042.088.09.003.015.003.029 0 .044l-2.463 5.911c-.483 1.119-1.254 1.823-2.173 1.981h-.002c-.029 0-.056-.013-.074-.035l-.513-.626c-.021-.026-.027-.06-.017-.092s.036-.055.068-.064c.89-.22 1.407-.709 1.723-1.631l-2.288-5.447c-.015-.028-.015-.062 0-.09s.049-.042.081-.042h.985c.04-.001.077.024.09.062l1.704 4.372 1.748-4.374c.014-.037.05-.061.09-.06h.95zM45.506 3.148c2.176 0 3.947 1.87 3.947 4.169s-1.773 4.178-3.947 4.178-3.944-1.879-3.944-4.178 1.769-4.169 3.944-4.169zm2.811 4.169c0-1.761-1.26-3.194-2.811-3.194s-2.813 1.433-2.813 3.194 1.263 3.194 2.813 3.194 2.811-1.431 2.811-3.194zm5.66 7.57c.026 0 .05.009.069.027s.029.042.029.068v5.484c0 .026-.01.05-.029.068s-.043.028-.069.027h-.863c-.05.001-.092-.037-.096-.086l-.057-.543a2.32 2.32 0 0 1-1.808.786c-1.424 0-2.148-.927-2.148-2.759v-2.978c.001-.053.044-.095.097-.095h.945c.025 0 .05.01.068.028s.028.042.028.067v2.741c0 .497 0 1.003.15 1.393.168.428.485.628 1.016.628.656 0 1.629-.552 1.629-1.313v-3.448c0-.025.01-.049.028-.067s.042-.028.068-.028h.943zm10.428.042c.018.027.022.062.009.092l-2.342 5.483c-.015.035-.05.058-.088.058h-.906c-.038 0-.073-.023-.088-.058l-2.309-5.484c-.012-.029-.009-.063.009-.09s.048-.043.08-.042h.984c.04-.001.077.024.09.062l1.686 4.317 1.746-4.319c.014-.036.049-.06.088-.06h.961c.033 0 .063.016.081.042zm2.703-.199c1.684 0 2.611 1.107 2.611 3.124 0 .026-.009.05-.027.068s-.043.029-.068.029H65.48c.069.887.527 1.798 1.628 1.798.809 0 1.53-.245 1.974-.672.024-.023.058-.032.09-.025s.057.03.067.06l.276.74c.014.038.004.08-.027.108-.74.631-1.704.763-2.381.763-1.656 0-2.771-1.204-2.771-2.997 0-1.738 1.166-2.997 2.771-2.997zm-1.617 2.406h3.077c-.166-.97-.633-1.423-1.46-1.423s-1.451.554-1.617 1.423zm-15.19-5.807c-.053 0-.096-.043-.096-.095V5.759c0-.053.043-.095.096-.095h.865c.049 0 .091.037.096.086l.05.497a1.69 1.69 0 0 1 1.398-.746c.203.003.405.031.602.083.044.01.075.049.074.093v.857c0 .034-.018.066-.048.083s-.066.017-.096 0c-.171-.114-.376-.165-.58-.145-1.226 0-1.32 1.366-1.32 1.784v2.978c0 .026-.01.05-.029.068s-.043.028-.069.027h-.943zm36.088-5.828C88.073 5.502 89 6.607 89 8.619c0 .053-.043.095-.096.095h-4.143c.069.889.529 1.798 1.628 1.798.819 0 1.527-.25 1.978-.673.023-.022.055-.032.087-.025s.059.029.071.06l.276.74c.02.041.008.09-.03.116-.74.633-1.702.765-2.381.765-1.656 0-2.769-1.208-2.769-2.997 0-1.738 1.164-2.997 2.769-2.997zm-1.617 2.398h3.077c-.166-.97-.633-1.423-1.46-1.423s-1.451.555-1.617 1.423zm-39.099 7.868c1.714.451 2.583 1.32 2.581 2.584-.007 1.394-1.081 2.368-2.611 2.368-1.143-.012-2.174-.393-2.758-1.019-.028-.035-.028-.085 0-.12l.494-.705c.016-.023.041-.038.069-.041s.055.005.074.025a3.28 3.28 0 0 0 2.123.881c.375.013.738-.13 1.003-.394s.408-.627.394-1c.009-.95-.745-1.231-1.66-1.479-1.468-.4-2.272-1.239-2.272-2.357 0-1.458 1.313-2.133 2.532-2.133.7.003 1.386.2 1.98.569a.1.1 0 0 1 .042.063.09.09 0 0 1-.016.072l-.483.684c-.029.04-.082.052-.126.03-.425-.253-.904-.404-1.398-.441-.688 0-1.396.358-1.396 1.158-.018.772.805 1.077 1.426 1.253zm12.574-.957c.044.011.074.05.074.095v.86c0 .035-.019.067-.05.085s-.066.016-.096 0c-.172-.114-.377-.165-.582-.145-1.223 0-1.318 1.366-1.318 1.784v2.978c0 .025-.01.049-.028.067s-.042.028-.068.028h-.945c-.053 0-.096-.043-.096-.095v-5.484c0-.025.01-.049.028-.067s.042-.028.068-.028h.865c.049 0 .091.037.096.086l.05.497a1.69 1.69 0 0 1 1.398-.746 2.65 2.65 0 0 1 .603.085zm24.666-4.851c.031.011.053.038.058.071l.244.74c.012.038 0 .079-.03.104-.501.413-1.171.622-1.992.622-1.677 0-2.85-1.269-2.85-3.008s1.203-2.997 2.861-2.997c.412 0 1.433.079 1.964.813.024.033.024.078 0 .111l-.398.575a.09.09 0 0 1-.074.042c-.03-.003-.058-.016-.08-.037-.395-.49-.855-.529-1.415-.529-1.263 0-1.711 1.088-1.711 2.02 0 1.282.623 2.019 1.711 2.019a2.44 2.44 0 0 0 1.624-.529c.024-.021.058-.028.088-.018zm-14.292 1.537c-1.605 0-2.769-1.268-2.769-2.997 0-1.853 1.437-2.997 2.769-2.997.692-.01 1.353.28 1.813.795l.057-.555c.005-.049.046-.087.096-.086h.865c.053 0 .096.043.096.095v5.495c0 .053-.043.095-.096.095h-.945c-.053 0-.096-.043-.096-.095v-.529c-.46.499-1.11.782-1.79.779zm-1.633-2.997c0 .97.449 2.013 1.711 2.019 1.072 0 1.713-1.028 1.713-2.019 0-1.266-.64-2.02-1.713-2.02-1.18 0-1.711 1.047-1.711 2.02zm8.543-2.997c1.426 0 2.148.926 2.141 2.755v2.978c0 .053-.043.095-.096.095h-.945c-.053 0-.096-.043-.096-.095V8.499c0-.476 0-1.003-.15-1.391-.168-.43-.485-.629-1.016-.629-.655 0-1.629.552-1.629 1.315v3.441c0 .025-.01.049-.028.067s-.042.028-.068.028H72.7c-.053 0-.096-.043-.096-.095V5.754c0-.053.043-.095.096-.095h.87c.049 0 .091.037.096.086l.055.543a2.33 2.33 0 0 1 1.81-.786zM10.216 22.848l-.214-.035-.24-.046c-1.04-.215-2.043-.581-2.979-1.086l.032-.191c.236-1.486.48-3.021 1.093-4.409a1.22 1.22 0 0 0 .301-.536l2.342.075.457.008c.19-.012.373-.074.531-.18.17.108.367.165.569.164a1.02 1.02 0 0 0 .742-.313c.425.209.832.388 1.348.388h.108c.571-.047 1.137-.148 1.69-.3l1.741-.47c-.455.51-.95.982-1.479 1.413-.747.54-1.543 1.005-2.379 1.39a4.65 4.65 0 0 0-1.215.872 3.93 3.93 0 0 0-.593.865l-.117.207a5.7 5.7 0 0 1-.253.382c-.185.24-.337.504-.45.786l-.326 1.04-.021.068-.687-.093zm4.477-4.023c.831 1.134 2.051 1.804 3.305 2.389-1.786 1.167-3.869 1.788-5.997 1.787-.214 0-.427-.007-.636-.02l.31-.988c.1-.242.232-.469.393-.675a4.55 4.55 0 0 0 .275-.416l.12-.213c.139-.278.313-.535.519-.766a4.21 4.21 0 0 1 1.095-.784l.616-.313zM7.199 6.405a27.19 27.19 0 0 0-.459-4.066 11 11 0 0 1 12.097 1.045 2.67 2.67 0 0 0-.198.225c-.164.231-.294.485-.384.754l-.106.266-.145.332c-.242.598-.538 1.173-.884 1.717a6.77 6.77 0 0 1-.962 1.072l-.687.704-.177.23-.427-.389-.097-.179a.72.72 0 0 1-.143-.393c.014-.141.214-.298.368-.425l.126-.107c.046-.04.074-.097.078-.158s-.017-.121-.058-.166-.096-.073-.156-.077-.119.017-.164.057a2.29 2.29 0 0 1-.113.095c-.216.168-.478.393-.531.704-.018.249.052.496.197.699l.025.048a5.9 5.9 0 0 0-.14.207c-.221.345-.384.566-.604.536-.561-.086-.68.232-.793.536s-.197.734.381.972l.159.068a4.09 4.09 0 0 0 .65.232 2.53 2.53 0 0 0 .377.063l.517.021 1.063.061c.484.023.964.104 1.429.243.283.089.459.372.593.625.22.414.43.868.684 1.474.182.413.394.813.632 1.195l.089.148a3.31 3.31 0 0 1-.365.179 21.27 21.27 0 0 1-3.215.995c-.518.142-1.047.236-1.582.28-.446.027-.806-.138-1.213-.331.023-.087.035-.177.035-.268.015-.455-.297-.855-.739-.949l.048-.563a7.98 7.98 0 0 0 .066-1.054l-.03-.573-.028-.661v-.109c-.004-.656-.011-1.629-.739-1.965-.499-.208-1.043-.285-1.58-.225a3.37 3.37 0 0 0-.413.059c-.283.05-.613.109-.79.014-.117-.061-.159-.25-.186-.447-.025-.219-.036-.439-.03-.659v-.152a14.06 14.06 0 0 0-.043-.916l-.021-.357-.027-.357c-.048-.356-.048-.716 0-1.072a45.46 45.46 0 0 0 .252-1.429c.021-.125-.063-.243-.187-.264s-.241.064-.261.188l-.25 1.415a4.28 4.28 0 0 0-.011 1.193l.025.357.023.357.041.893v.15a5.27 5.27 0 0 0 .034.715c.028.197.113.624.436.786s.719.091 1.073.029a3.38 3.38 0 0 1 .354-.054c.465-.052.936.015 1.369.195.478.211.478 1.009.478 1.545v.114l.03.684.028.557a8.04 8.04 0 0 1-.062.993l-.051.593a.95.95 0 0 0-.808.967 1 1 0 0 0 .119.473c-.103.057-.22.081-.337.068l-2.641-.095c-.016-.19-.077-.374-.177-.536-.652-1.426-.829-3.026-1.006-4.577l-.032-.261c.134-1.429.193-2.863.177-4.298zm2.526.222h-.004c-.011.185-.001.37.028.552.012.111.09.531.19.579s.352 0 .453 0h1.155v-.879h-.26V5.765h-1.162c-.131 0-.182-.027-.25.059-.135.17-.14.598-.151.802zm-3.661 8.583l-.067 1.994c-.636-.07-1.24-.366-1.24-.993s.643-.945 1.307-1zm.639.032c.23.036.452.114.654.232a.84.84 0 0 1 .439.736c0 .577-.547.891-1.153.981l.06-1.949zm13.803-.598l2.297-.579a10.97 10.97 0 0 1-1.213 3.325 10.66 10.66 0 0 0-.93-1.174 1.75 1.75 0 0 0-.498-.332 1.91 1.91 0 0 1-.292-.179c-.137-.132-.236-.298-.287-.482.319-.153.617-.348.886-.579.012.002.025.002.037 0zm.542-1.417a5.93 5.93 0 0 1-.822 1.034c-.122.109-.252.208-.39.297a7.14 7.14 0 0 1-.092-.155 9.11 9.11 0 0 1-.611-1.149l-.708-1.511c-.085-.17-.19-.329-.314-.473l-.37-4.716a14.17 14.17 0 0 0 .67-1.408l.142-.331.115-.282c.076-.227.183-.443.319-.64a2.44 2.44 0 0 1 .195-.214c2.027 1.739 3.351 4.168 3.72 6.826l-.142.211-1.534 2.262-.177.25zm-5.009-2.594l-1.08-.064-.375-.018.09-.143a12.95 12.95 0 0 1 1.148-1.649c.204-.236.436-.459.659-.674.307-.284.594-.591.857-.916l.294 3.752-.048-.021c-.502-.153-1.021-.242-1.544-.266zm5.383 2.853l.17-.245 1.376-2.028a11.44 11.44 0 0 1 .032.79c-.001.524-.039 1.048-.113 1.567l-1.856.468.391-.552zm-6.405-4.429a21.81 21.81 0 0 0-.733 1.111l-.198.316c-.174-.053-.344-.117-.51-.191l-.156-.071c-.198-.082-.234-.109-.129-.388s.105-.279.303-.25c.519.075.829-.393 1.05-.736l.055-.084.319.293zm-8.293 5.721l.145-2.126c.109.794.293 1.576.547 2.335-.219-.103-.453-.174-.693-.209zM4.666 17.11c.55 1.343 1.006 2.723 1.366 4.13-2.097-1.353-3.675-3.387-4.47-5.767l.011-.014.136-.093c.229-.136.437-.306.616-.504l.639.504.462.372a4.62 4.62 0 0 0 .508.329l.377.238c.021.297.147.577.354.79zM1.439 9.814l-.177-.157c.379-1.732 1.169-3.346 2.303-4.702l.043.779.267 3.988.012.102c.035.32.027.431-.103.498a1.23 1.23 0 0 1-.468.084l-.19.014c-.096.009-.2.03-.31.052-.236.043-.503.096-.629 0-.257-.202-.507-.434-.749-.657zm-.285.357l.758.657.044.03.085 2.783c.002.088.011.182.021.277a1.73 1.73 0 0 1 0 .482c-.046.211-.367.427-.6.584l-.041.027A10.97 10.97 0 0 1 1 12.002a11.12 11.12 0 0 1 .154-1.831zm20.153 7.605l.03.05c-.759 1.213-1.743 2.266-2.899 3.101-1.263-.595-2.52-1.236-3.335-2.323.5-.265.979-.569 1.431-.909a13.22 13.22 0 0 0 1.56-1.492l.577-.604a11.86 11.86 0 0 0 .496-.191 1.43 1.43 0 0 0 .43.665 2.22 2.22 0 0 0 .354.213 1.36 1.36 0 0 1 .381.239 11.47 11.47 0 0 1 .974 1.251zm-9.749-2.146a.52.52 0 0 1 .16-.385.51.51 0 0 1 .39-.14c.138-.003.273.044.381.132a.49.49 0 0 1 .161.393.55.55 0 0 1-.546.55.55.55 0 0 1-.546-.55zm-4.92 2.022c.232-.027.459-.085.675-.173-.274.768-.483 1.558-.627 2.362l-.035-.87-.012-1.318zm-.678-4.288l.126-.447.168-.586-.168 2.421c-.226.014-.449.055-.664.123a3.63 3.63 0 0 0 .248-.536 13.3 13.3 0 0 0 .29-.975zm.051 5.626l.034.825a27.86 27.86 0 0 0-.79-2.337 2.57 2.57 0 0 0 .742.179l.014 1.333zM4.061 5.697l-.067-1.234a11.08 11.08 0 0 1 2.141-1.785c.226 1.233.362 2.481.406 3.734.035 1.293-.043 2.608-.142 3.904L5.69 12.79l-.128.461-.282.947c-.089.231-.198.453-.328.663l-.177.339a1.27 1.27 0 0 0-.411.586l-.211-.125a4.22 4.22 0 0 1-.459-.295 11.72 11.72 0 0 1-.455-.357l-.73-.573a2.21 2.21 0 0 0 0-.563l-.019-.243-.074-2.653c.16-.008.319-.03.475-.066.087-.02.184-.046.264-.046l.177-.013a1.58 1.58 0 0 0 .652-.134c.437-.225.388-.666.354-.959l-.011-.095-.267-3.966z' /><path fill={isDarkBasemap ? '#fff' : '#d40058'} d='M29.459 22.011v-.002c.274 0 .496.222.496.495s-.222.495-.496.495c-2.604 0-5.088-1.118-6.998-3.147a.52.52 0 0 1-.111-.56c.08-.178.257-.293.453-.293.15.002.292.067.392.179 1.715 1.827 3.937 2.832 6.264 2.832zm2.004-20.049v.004c-.253-.031-.44-.252-.426-.507s.223-.455.478-.459h.061a8.8 8.8 0 0 1 5.679 2.974c.158.182.158.453 0 .635-.094.105-.228.165-.369.166s-.279-.06-.372-.168a7.83 7.83 0 0 0-5.051-2.645zm.045 11.462l-.481-.116v-2.199c.428.107.666.29.766.585a4.34 4.34 0 0 1 .161.808 4.57 4.57 0 0 0 .204.975l.041.102-.691-.154zm.864-1.935c-.227-.658-.816-.894-1.337-1.009V8.229a7.45 7.45 0 0 1 6.592 3.952l-.426.336-.14.122c-.063.061-.132.116-.204.166h-.021a32.33 32.33 0 0 1-1.283-.751.23.23 0 0 0-.355.178.23.23 0 0 0 .103.205l.07.034-.383.136-.109.036a.66.66 0 0 0-.485.401c-.021.046-.048.12-.075.2-.042.128-.092.254-.15.376-.197.011-.834 0-1.271 0-.059-.116-.112-.236-.157-.358-.089-.276-.149-.56-.179-.848a4.79 4.79 0 0 0-.188-.924zm.567 11.215c-.007.005-.013.01-.018.016-.358.096-.722.165-1.09.207-.268.029-.401.089-.601-.045-.124-.078-.2-.212-.204-.358v-.486-4.376l2.112 4.649-.199.392zm2.54-3.988c.392.594 1.024.975 1.559 1.243-.453.608-.996 1.143-1.611 1.586l-.444-.628a.23.23 0 0 0-.338-.041l-1.144.992-.036.036-2.432-5.352V13.78l.369.089c.339.094.685.162 1.034.204a3.83 3.83 0 0 0 1.038 1.225c.258.186.852.511 1.332.409.206-.042.384-.173.485-.358.109-.223.17-.467.179-.715.059-.737.281-.796.426-.699.285.19.12.672-.1 1.164l-.045.102a6.89 6.89 0 0 0-.596 1.727c-.124.616-.008 1.255.324 1.788zM38 13.941c.102.052.206.089.308.136.394 1.846.059 3.772-.934 5.377h-.011c-.476-.243-1.043-.578-1.371-1.073a1.84 1.84 0 0 1-.231-1.348c.111-.545.294-1.072.544-1.568l.045-.102c.191-.426.583-1.431-.199-1.888-1.348-.789-1.006 1.364-1.401 1.591-.027.014-.032.043-.079.054-.199.039-.601-.123-.839-.302a3.04 3.04 0 0 1-.675-.715h.428c.264.016.528-.002.787-.052.166-.095.258-.327.369-.642l.061-.163c.045-.102.052-.104.206-.154l.123-.039.589-.209.079-.032c.023-.011.066-.032.055-.032.043.009.773.436.773.436l.537.295a.22.22 0 0 0 .115.03c.083 0 .159-.044.199-.116.03-.053.038-.116.022-.174a.23.23 0 0 0-.108-.139l-.107-.059.077-.068.12-.104.345-.277a7.65 7.65 0 0 1 .34.914c-.117-.046-.249.012-.295.129s.012.249.129.295zm-2.957 7.868c-.472.299-.976.544-1.503.73a1.31 1.31 0 0 1 .256-.32l.952-.828.295.418zm-8.745-9.892l-1.736-1.518c-.209-1.662-.75-3.265-1.591-4.714l1.357 1.152c.095.079.159.19.179.313a5.7 5.7 0 0 1 .161.858 7.57 7.57 0 0 0 .131.755 3.43 3.43 0 0 0 .855 1.701 2.94 2.94 0 0 0 2.157.907 3.42 3.42 0 0 0 .424-.027l1.602-.277v1.967l-2.815-.774c-.05-.016-.115-.03-.179-.045-.104-.017-.206-.046-.304-.086-.056-.036-.106-.078-.15-.127l-.089-.084zm.609.783l2.937.808v2.094a7.34 7.34 0 0 1-5.269-2.26 12.33 12.33 0 0 0 .082-1.393l-.032-.882 1.371 1.196.072.066c.077.083.166.153.265.207a1.61 1.61 0 0 0 .413.125l.161.038zm2.488-11.691c.485-.027.449.52.449.52v8.925l-1.677.293a2.38 2.38 0 0 1-2.064-.696 2.82 2.82 0 0 1-.702-1.418c-.052-.215-.082-.438-.115-.672l.034.021c.222.173.489.28.77.309a1.01 1.01 0 0 0 .524-.147c.134-.075.197-.091.256-.075.222.075.431.188.616.333.1.075.113.084-.054.392l-.043.08c-.078.15-.02.334.129.413a.32.32 0 0 0 .143.036c.114 0 .218-.063.27-.165l.041-.075c.145-.277.417-.771-.12-1.171-.242-.192-.515-.34-.807-.438a.92.92 0 0 0-.694.116c-.073.05-.159.078-.247.082-.383-.038-.881-.443-.934-.443-.021-.093-.043-.157-.072-.25-.054-.237-.184-.449-.37-.604L23.347 5.2a.31.31 0 0 0-.127-.061 7.39 7.39 0 0 1 1.999-2.516l.013.027a.23.23 0 0 0 .209.134.22.22 0 0 0 .095-.02.23.23 0 0 0 .115-.304l-.055-.122a7.31 7.31 0 0 1 3.8-1.33zm4.653 10.123c-.041.045-.062.105-.058.166s.031.118.076.158l.465.409c.042.034.094.053.149.054a.23.23 0 0 0 .149-.406l-.455-.399a.23.23 0 0 0-.326.018zm-.716-1.06v.004a.23.23 0 0 0-.319-.063.23.23 0 0 0-.063.318 1.43 1.43 0 0 0 .149.179l.179.179.111.118c.043.046.103.072.166.072s.116-.023.159-.063c.091-.088.095-.233.009-.325l-.111-.116c-.063-.055-.12-.118-.179-.179-.037-.039-.071-.08-.102-.123zM32.275 8.68l.004.004c-.098.078-.115.22-.038.318a2.39 2.39 0 0 1 .286.479.23.23 0 0 0 .206.129c.035 0 .069-.008.1-.023.055-.026.098-.073.118-.13s.016-.121-.011-.175c-.092-.202-.207-.393-.344-.569-.038-.047-.094-.077-.154-.083s-.121.012-.168.051zm-6.187-4.479c.028.002.056-.001.082-.009a.23.23 0 0 0 .124-.126c.023-.057.022-.12-.002-.177l-.118-.268-.131-.313a.23.23 0 0 0-.304-.113.23.23 0 0 0-.113.304l.136.302.115.259a.23.23 0 0 0 .211.139zm.843 1.336a.23.23 0 0 0 .095-.148c.011-.06-.003-.122-.038-.172l-.251-.392-.063-.113a.23.23 0 0 0-.398-.015.23.23 0 0 0-.009.229l.068.125c.086.15.183.293.274.426a.23.23 0 0 0 .19.1.24.24 0 0 0 .131-.041zm1.23.969c.019-.059.013-.123-.016-.178a.23.23 0 0 0-.139-.112l-.227-.072c-.087-.024-.171-.062-.247-.111-.018-.015-.034-.032-.048-.05a.23.23 0 0 0-.322-.036.23.23 0 0 0-.036.322c.037.049.081.092.129.131a1.32 1.32 0 0 0 .396.179l.075.023.055.018.095.03c.051.018.107.018.157 0a.23.23 0 0 0 .129-.145zm1.349.551a.23.23 0 0 0-.129-.299l-.578-.229a.23.23 0 0 0-.311.248.23.23 0 0 0 .143.18l.576.229c.027.01.057.016.086.016a.23.23 0 0 0 .213-.145z' /></svg>\n        </div>\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { tools as defaultTools } from '../store/constants.js'\nimport { useDrawHandlers } from '../hooks/use-draw-handlers'\n\nexport default function DrawMenu () {\n  const { dispatch, options, legend, draw, isDrawMenuExpanded, query, shape, drawTools, interfaceType } = useApp()\n  const { id } = options\n  const isDetails = ['expanded', 'collapse'].includes(draw?.collapse)\n  const { handleAddClick, handleEditClick, handleDeleteClick } = useDrawHandlers()\n\n  // Tools displayed in draw action menu instead\n  if (!(legend && draw?.heading)) {\n    return null\n  }\n\n  const handleDetailsClick = () => {\n    dispatch({ type: 'TOGGLE_DRAW_EXPANDED', payload: !isDrawMenuExpanded })\n  }\n\n  return (\n    <div className='fm-c-menu'>\n      <div className={`fm-c-menu__group ${isDrawMenuExpanded ? ' fm-c-menu__group--expanded' : ''}`} role='group' aria-labelledby={`${id}-tools-menu`}>\n        {isDetails\n          ? (\n            <h3 className='fm-c-menu__heading'>\n              <button className='fm-c-details' aria-expanded={isDrawMenuExpanded} aria-controls={`content-${id}`} onClick={handleDetailsClick}>\n                <span className='fm-c-details__label'>\n                  <span id={`${id}-tools-menu`} className='fm-c-details__label-focus'>{draw?.heading}</span>\n                </span>\n                <span className='fm-c-details__summary'>\n                  <span className='fm-c-details__summary-focus'>{draw?.summary}</span>\n                </span>\n                <span className='fm-c-details__toggle'>\n                  <span className='fm-c-details__toggle-focus'>\n                    <span className='fm-c-details__chevron' />\n                    {isDrawMenuExpanded ? 'Hide' : 'Show'}\n                  </span>\n                </span>\n              </button>\n            </h3>\n            )\n          : (\n            <h3  id={`${id}-tools-menu`} className='fm-c-menu__heading'>{draw?.heading}</h3>\n            )}\n\n        <div className='fm-c-menu__items' {...!isDrawMenuExpanded ? { style: { display: 'none' } } : {}}>\n          {[...drawTools, ...defaultTools].map(tool => (\n            <div key={tool.id} className='fm-c-menu__item'>\n              <button\n                className='fm-c-btn-menu'\n                aria-disabled={drawTools.includes(tool) ? !!query : !query}\n                onClick={() => {\n                  if (drawTools.includes(tool) && !query) {\n                    handleAddClick({ shapeId: tool.id, interfaceType })\n                  }\n                  if (tool.id === 'edit' && query) {\n                    handleEditClick({ shapeId: shape, interfaceType })\n                  }\n                  if (tool.id === 'delete' && query) {\n                    handleDeleteClick()\n                  }\n                }}\n              >\n                <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor' dangerouslySetInnerHTML={{__html: tool.svg}}/>\n                <span className='fm-c-btn__label'>\n                  {drawTools.includes(tool) ? `Add ${tool.id}` : `${tool.name} shape`}\n                </span>\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { events } from '../store/constants'\nimport eventBus from '../lib/eventbus'\n\nexport function useDrawHandlers () {\n  const { provider, parent, draw, segments, layers, dispatch, query, drawTools, activeRef, viewportRef } = useApp()\n  const { dispatch: viewportDispatch, size, style } = useViewport()\n  const { styles, minZoom, maxZoom } = draw || {}\n\n  const handleAddClick = ({ shapeId, interfaceType }) => {\n    if (!provider.map) {\n      return\n    }\n    const drawMode = drawTools.find(m => m.id === shapeId)?.drawMode || 'frame'\n    provider.draw?.add(drawMode, shapeId, interfaceType)\n    dispatch({ type: 'SET_MODE', payload: { value: drawMode, shape: shapeId, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS', payload: { styles, minZoom, maxZoom } })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode, style, size, segments, layers })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  const handleEditClick = ({ shapeId, interfaceType }) => {\n    if (!provider.map) {\n      return\n    }\n    const drawMode = drawTools.find(m => m.id === shapeId)?.drawMode || 'frame'\n    provider.draw?.edit(drawMode, shapeId, interfaceType)\n    dispatch({ type: 'SET_MODE', payload: { value: drawMode, shape: shapeId, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS', payload: { styles, minZoom, maxZoom } })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode, style, size, segments, layers })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  const handleDeleteClick = () => {\n    if (!provider.map) {\n      return\n    }\n    provider.draw.delete()\n    dispatch({ type: 'SET_MODE', payload: { value: 'default', query: null } })\n    eventBus.dispatch(parent, events.APP_ACTION, { type: 'deletePolygon', query })\n    activeRef.current = viewportRef.current\n    activeRef.current?.focus()\n  }\n\n  return {\n    // query,\n    // drawTools,\n    handleAddClick,\n    handleEditClick,\n    handleDeleteClick\n  }\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function Tooltip ({ id, position, text, cssModifier, display, visuallyHiddenText, children }) {\n  const { interfaceType } = useApp()\n  const [isVisible, setIsVisible] = useState(false)\n  const [hasFocusWithin, setHasFocusWithin] = useState(false)\n\n  const timeoutRef = useRef(null)\n  const labelRef = useRef(null)\n\n  const hideTooltip = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current)\n    }\n    setIsVisible(false)\n  }\n\n  const DELAY = 500\n\n  const showTooltip = () => {\n    timeoutRef.current = setTimeout(() => setIsVisible(true), DELAY)\n  }\n\n  const handleKeyDown = () => {\n    setHasFocusWithin(false)\n  }\n\n  const handleKeyUp = () => {\n    setHasFocusWithin(true)\n  }\n\n  const handleGlobalKeyDown = e => {\n    const isActive = labelRef.current?.contains(document.activeElement)\n    if (['Escape', 'Esc'].includes(e.key) || isActive) {\n      hideTooltip()\n    }\n  }\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleGlobalKeyDown)\n\n    return () => {\n      document.removeEventListener('keydown', handleGlobalKeyDown)\n    }\n  })\n\n  return (\n    <div\n      className={`fm-c-tooltip fm-c-tooltip--${position}${cssModifier ? ' fm-c-tooltip--' + cssModifier : ''}${isVisible ? ' fm-c-tooltip--visible' : ''}${hasFocusWithin ? ' fm-u-focus-within' : ''}`}\n      style={{ display }}\n      onMouseEnter={showTooltip}\n      onMouseLeave={hideTooltip}\n      onMouseDown={hideTooltip}\n      onFocus={interfaceType === 'keyboard' ? showTooltip : null}\n      onBlur={hideTooltip}\n      onKeyDown={handleKeyDown}\n      onKeyUp={handleKeyUp}\n      ref={labelRef}\n    >\n      {children}\n      <div id={id} className='fm-c-tooltip__label' role='tooltip'>\n        <div className='fm-c-tooltip__label-inner'>\n          {text}\n          {visuallyHiddenText && (<span className='fm-u-visually-hidden'>{visuallyHiddenText}</span>)}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { useOutsideInteract } from '../hooks/use-outside-interact.js'\nimport Tooltip from './tooltip.jsx'\n\nexport default function ActionMenu ({ id, path, name, display, hasLabel = true, items, menuPosition, tooltipPosition, handleSelect }) {\n  const label = name.toLowerCase().replace(' ', '-')\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [index, setIndex] = useState(0)\n  const elementRef = useRef(null)\n  const buttonRef = useRef(null)\n  const menuRef = useRef(null)\n  const instigatorRef = useRef(null)\n  const toolTipId = `${id}-${name.toLowerCase().replace(' ', '-')}`\n\n  const handleButtonClick = () => {\n    setIsExpanded(!isExpanded)\n  }\n\n  const handleButtonKeyUp = e => {\n    if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n      e.preventDefault()\n      setIndex(e.key === 'ArrowDown' ? 0 : items.length - 1)\n      setIsExpanded(true)\n    }\n  }\n\n  const handleMenuKeyDown = e => {\n    if (['Escape', 'Esc'].includes(e.key)) {\n      e.preventDefault()\n      instigatorRef.current = buttonRef.current\n      setIsExpanded(false)\n    }\n    if (e.key === 'Tab') {\n      instigatorRef.current = null\n      setIsExpanded(false)\n    }\n    if (['ArrowDown', 'ArrowUp'].includes(e.key)) {\n      e.preventDefault()\n      let i = e.key === 'ArrowDown' ? index + 1 : index - 1\n      if (i < 0) {\n        i = items.length - 1\n      }\n      if (i >= items.length) {\n        i = 0\n      }\n      setIndex(i)\n    }\n    if (e.key === 'Home') {\n      setIndex(0)\n    }\n    if (e.key === 'End') {\n      setIndex(items.length - 1)\n    }\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      instigatorRef.current = buttonRef.current\n      setIsExpanded(false)\n      handleSelect(items[index].id)\n    }\n  }\n\n  const handleItemClick = (_, i) => {\n    instigatorRef.current = buttonRef.current\n    setIsExpanded(false)\n    handleSelect(items[i].id)\n  }\n\n  const button = () => {\n    return (\n      <button\n        ref={buttonRef}\n        id={`${id}-${label}-button-label`}\n        onClick={handleButtonClick}\n        onKeyUp={handleButtonKeyUp}\n        className='fm-c-btn fm-c-btn--action'\n        {...!hasLabel && { 'aria-labelledby': `${id}-${label}-tooltip` }} // ${id}-${label}-description\n        aria-haspopup='true'\n        aria-expanded={isExpanded}\n        aria-controls={`${id}-${label}-menu`}\n      >\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n          <path d={path} />\n        </svg>\n        {hasLabel && <span id={`${id}-${label}-button-label`}>{name}</span>}\n        {/* <span className='fm-c-btn__chevron' /> */}\n        {/* <span id={`${id}-${label}-description`} className='fm-u-visually-hidden'>Current selection: {selected.name}</span> */}\n      </button>\n    )\n  }\n\n  useEffect(() => {\n    if (isExpanded) {\n      menuRef.current.focus()\n    } else {\n      instigatorRef.current?.focus()\n    }\n  }, [isExpanded])\n\n  useOutsideInteract(elementRef, false, 'pointerdown', () => {\n    setIsExpanded(false)\n  })\n\n  return (\n    <div className={`fm-c-action-menu fm-c-action-menu--${menuPosition}`} style={{ display }} ref={elementRef}>\n      {hasLabel\n        ? button()\n        : (\n          <Tooltip id={toolTipId} position={tooltipPosition} text={name}>\n            {button()}\n          </Tooltip>\n          )}\n      <ul ref={menuRef} id={`${id}-${label}-menu`} className='fm-c-action-menu__list' role='menu' tabIndex='-1' aria-labelledby={`${id}-${label}-button-label`} aria-activedescendant={`${id}-${label}-item-${index}`} onKeyDown={handleMenuKeyDown} style={{ display: isExpanded ? 'block' : 'none' }}>\n        {items.map((item, i) => (\n          <li key={item.name} id={`${id}-${label}-item-${i}`} className={`fm-c-action-menu__item${index === i ? ' fm-c-action-menu__item--selected' : ''}`} role='menuitem' onClick={e => handleItemClick(e, i)}>\n            {item.svg && (\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor' dangerouslySetInnerHTML={{__html: item.svg}}/>\n            )}\n            {item.name}\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { tools as defaultTools } from '../store/constants.js'\nimport ActionMenu from './action-menu.jsx'\n\nexport default function DrawShape () {\n  const { options, draw, shape, drawTools } = useApp()\n  const { id } = options\n  const selectedDrawMode = drawTools.find(m => m.id === shape) || drawTools[0]\n\n  // Tools displayed in the legend instead\n  if (!draw || draw?.heading) {\n    return null\n  }\n\n  const handleShapeSelect = (id) => {\n    console.log(id)\n  }\n\n  return (\n    <ActionMenu\n      id={id}\n      path='M11.298 4.666l3.536 3.536-7.071 7.071-3.536-3.536 7.071-7.071zm2.475-2.475a1.5 1.5 0 0 1 2.121 0l1.415 1.415a1.5 1.5 0 0 1 0 2.121l-1.768 1.768-3.536-3.536 1.768-1.768zM3.52 12.444l3.536 3.536-5.304 1.768 1.768-5.304z'\n      name='Draw tools'\n      tooltipPosition='left'\n      menuPosition='above-right'\n      hasLabel={false}\n      display='block'\n      items={[...drawTools, ...defaultTools]}\n      selected={selectedDrawMode}\n      handleSelect={handleShapeSelect}\n      />\n  )\n}\n","import React, { useRef, useState, createRef, useEffect } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport { findTabStop } from '../lib/dom.js'\nimport { getImagePos } from '../lib/utils.js'\nimport image from '../lib/style-image.json'\nimport More from './more.jsx'\n\nexport default function Styles () {\n  const { options, provider } = useApp()\n  const { id, hasAutoMode } = options\n  const { size, style, styles } = useViewport()\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const currentStyleName = style.name\n  const currentSize = size\n  const buttonsRef = useRef([])\n  const [isExpanded, setIsExpanded] = useState(styles.map(s => s.name).indexOf(currentStyleName) > 2 || size !== 'small')\n  buttonsRef.current = styles.map(s => s.name).map((_, i) => buttonsRef.current[i] ?? createRef())\n\n  const moreLabel = `${isExpanded ? 'Fewer' : 'More'} styles`\n\n  const MIN_COLS = 3\n\n  const handleStyleClick = e => {\n    viewportDispatch({ type: 'SET_STYLE', payload: { style: e.currentTarget.value } })\n  }\n\n  const handleSizeClick = e => {\n    viewportDispatch({ type: 'SET_SIZE', payload: e.currentTarget.value })\n  }\n\n  // Set initial focus\n  useEffect(() => {\n    if (!isExpanded) {\n      return\n    }\n    const index = buttonsRef.current.length < MIN_COLS ? buttonsRef.current.length - 1 : 2\n    const el = buttonsRef.current[index].current\n    const nextTabStop = findTabStop(el, 'next')\n    nextTabStop.focus()\n  }, [isExpanded])\n\n  // Toggle dark mode\n  useEffect(() => {\n    const colourScheme = (hasAutoMode && window?.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light'\n    appDispatch({ type: 'SET_IS_DARK_MODE', payload: { style, colourScheme } })\n  }, [style])\n\n  return (\n    <div id='map-styles' className='fm-c-layers fm-c-layers--style'>\n      <div className='fm-c-layers__group' role='group' aria-labelledby={`${id}-panel-style-label`}>\n        <div className='fm-c-layers__columns'>\n          {styles?.filter((_, i) => isExpanded ? i >= 0 : i < MIN_COLS).map((item, i) => (\n            <div key={item.name} className='fm-c-layers__item'>\n              <button className='fm-c-layers__button' value={item.name} aria-pressed={currentStyleName === item.name} ref={buttonsRef.current[i]} onClick={handleStyleClick}>\n                <div className='fm-c-layers__image'>\n                  <img src={image.src} draggable={false} width='120px' height='120px' alt='' style={{ objectPosition: getImagePos(item.name) }} />\n                </div>\n                {{\n                  default: 'Default',\n                  dark: 'Dark',\n                  aerial: 'Aerial',\n                  deuteranopia: 'Deuteranopia',\n                  tritanopia: 'Tritanopia'\n                }[item.name]}\n              </button>\n            </div>\n          ))}\n        </div>\n      </div>\n      {provider.capabilities.hasSize && isExpanded && (\n        <div className='fm-c-layers__group' role='group' aria-labelledby={`${id}-text-sizes`}>\n          <div className='fm-c-layers__header'>\n            <h3 id={`${id}-text-sizes`} className='fm-c-layers__heading'>Text size</h3>\n          </div>\n          <div className='fm-c-layers__columns'>\n            {['small', 'medium', 'large'].map((name, i) => (\n              <div key={name} className='fm-c-layers__item'>\n                <button className='fm-c-layers__button' value={name} aria-pressed={currentSize === name} onClick={handleSizeClick}>\n                  <div className='fm-c-layers__image'>\n                    <svg width='60' height='60' viewBox='0 0 60 60' fillRule='evenodd'>\n                      <rect width='100%' height='100%' fill='#f3f2f1' />\n                      <g style={{ transform: `scale(${1 + (i / 2)})`, transformOrigin: `8px ${50 + i}px` }}>\n                        <path d='M8 51.785L12.948 38.9h1.837l5.274 12.885h-1.943l-1.503-3.903h-5.387l-1.415 3.903H8zm3.718-5.291h4.368l-1.345-3.569-.914-2.671c-.164.826-.395 1.646-.694 2.46l-1.415 3.78zm15.592 4.139c-3.698 3.143-7.836.271-6.315-2.562.963-1.794 5.529-1.982 6.183-2.21.022-.825.052-2.27-2.241-2.312-1.751-.031-2.242 1.025-2.435 1.776l-1.547-.211c.234-1.102.963-2.856 4.21-2.874 4.037-.022 3.612 2.962 3.612 3.524v2.11c0 .315 0 3.012.501 3.911h-1.652c-.164-.328-.27-.712-.316-1.152zm-.132-3.533c-.907.37-3.444.694-3.964.914-1.293.548-.911 2.399.225 2.637.639.134 3.739.476 3.739-2.971v-.58z' />\n                      </g>\n                    </svg>\n                  </div>\n                  {name[0].toUpperCase() + name.slice(1)}\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n      {(styles.length > 3 || provider.capabilities.hasSize) && (\n        <div className='fm-c-layers__more fm-c-layers__more--center'>\n          <More id={`${id}-styles`} label={moreLabel} isExpanded={isExpanded} setIsExpanded={() => setIsExpanded(!isExpanded)} isRemove />\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Keyboard () {\n  return (\n    <dl className='fm-c-keyboard-list'>\n      <div className='fm-u-visually-hidden'>\n        <dt>Get location information</dt>\n        <dd><kbd>Alt</kbd> + <kbd>I</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Select a map control</dt>\n        <dd><kbd>Tab</kbd> or <kbd>Shift</kbd> + <kbd>Tab</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Move in large steps</dt>\n        <dd><kbd>&larr;</kbd>, <kbd>&uarr;</kbd>, <kbd>&rarr;</kbd> or <kbd>&darr;</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Move in small steps</dt>\n        <dd><kbd>Shift</kbd> + <kbd>&larr;</kbd>, <kbd>&uarr;</kbd>, <kbd>&rarr;</kbd> or <kbd>&darr;</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Adjust zoom level</dt>\n        <dd><kbd>+</kbd> or <kbd>=</kbd> and <kbd>-</kbd> or <kbd>_</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Select feature (when 9 or fewer)</dt>\n        <dd><kbd>Page Up</kbd> and <kbd>Page Down</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Feature shortcut (when 9 or fewer)</dt>\n        <dd><kbd>Alt</kbd> + <kbd>1</kbd> to <kbd>9</kbd></dd>\n      </div>\n      <div className='fm-c-keyboard-list__item'>\n        <dt>Get feature information</dt>\n        <dd><kbd>Enter</kbd></dd>\n      </div>\n    </dl>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { labels } from '../store/constants'\n\nexport default function LegendButton ({ legendBtnRef }) {\n  const { dispatch, drawMode, legend, draw, isDesktop, activePanel } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const isCombined = ['compact', 'inset'].includes(legend?.display)\n  const combinedLabel = isCombined && labels.legend.TITLE\n  const seperateLabel = draw?.heading ? labels.menu.TITLE : labels.layers.TITLE\n  const label = combinedLabel || seperateLabel\n  const svg = (labels[label.toLowerCase()] || labels.legend).SVG\n  const hasButton = legend && !isQueryMode && !(isDesktop && !isCombined)\n  \n  if (!hasButton) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'LEGEND' })\n  }\n\n  return (\n    <button onClick={handleClick} className='fm-c-btn fm-c-btn--legend' ref={legendBtnRef} aria-expanded={false} {...['LEGEND', 'SEARCH'].includes(activePanel) ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' dangerouslySetInnerHTML={{__html: svg}}/>\n      <span className='fm-c-btn__label'>{label}</span>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { labels } from '../store/constants'\n\nexport default function KeyButton ({ keyBtnRef }) {\n  const { dispatch, activePanel, options, drawMode } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const isCombined = ['compact', 'inset'].includes(options?.legend?.display)\n  const label = labels.legend.TITLE\n  const svg = labels.legend.SVG\n\n  if (!(options?.legend && !isQueryMode && !isCombined)) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'KEY' })\n  }\n\n  return (\n    <button onClick={handleClick} className='fm-c-btn fm-c-btn--key' ref={keyBtnRef} aria-expanded={false} {...['KEY', 'SEARCH'].includes(activePanel) ? { style: { display: 'none' } } : {}}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' dangerouslySetInnerHTML={{__html: svg}}/>\n      <span className='fm-c-btn__label'>{label}</span>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function SearchButton ({ searchBtnRef, tooltip }) {\n  const { dispatch, drawMode, search, activePanel, options } = useApp()\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(search && !isQueryMode)) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'SEARCH' })\n  }\n\n  const button = () => {\n    return (\n      <button onClick={handleClick} className='fm-c-btn fm-c-btn--search' {...tooltip ? { 'aria-labelledby': `${options.id}-search-label` } : {}} aria-expanded={activePanel === 'SEARCH'} {...activePanel === 'SEARCH' ? { style: { display: 'none' } } : {}} ref={searchBtnRef}>\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' fill='currentColor'>\n          <path d='M12.084 14.312c-1.117.711-2.444 1.123-3.866 1.123C4.235 15.435 1 12.201 1 8.218S4.235 1 8.218 1s7.217 3.235 7.217 7.218c0 1.422-.412 2.749-1.123 3.866L19 16.773 16.773 19l-4.689-4.688zM8.218 2.818c2.98 0 5.4 2.419 5.4 5.4s-2.42 5.4-5.4 5.4-5.4-2.42-5.4-5.4 2.419-5.4 5.4-5.4z' />\n        </svg>\n        {!tooltip && (\n          <span className='fm-c-btn__label'>Search</span>\n        )}\n      </button>\n    )\n  }\n\n  return (\n    <>\n      {tooltip\n        ? (\n          <Tooltip id={`${options.id}-search-label`} position={tooltip} cssModifier='search' text='Show search'>\n            {button()}\n          </Tooltip>\n          )\n        : button()}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function StylesButton ({ stylesBtnRef }) {\n  const { dispatch, options } = useApp()\n  const { id, styles } = options\n\n  if (!styles?.length) {\n    return null\n  }\n\n  // Open panel\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'STYLE' })\n  }\n\n  return (\n    <>\n      {styles?.length > 1\n        ? (\n          <Tooltip id={`${id}-style-label`} position='left' cssModifier='style' text='Choose map style'>\n            <button onClick={handleClick} className='fm-c-btn fm-c-btn--style' aria-labelledby={`${id}-style-label`} ref={stylesBtnRef}>\n              <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd' strokeLinejoin='round' fill='none' stroke='currentColor' strokeWidth='2'>\n                <path d='M2 18l5-2 6 2 5-2V2l-5 2-6-2-5 2v14z' /><path d='M7 2v14m6-12v14' strokeLinecap='round' />\n              </svg>\n            </button>\n          </Tooltip>\n          )\n        : null}\n    </>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport Tooltip from './tooltip.jsx'\n\nexport default function Zoom () {\n  const { options, isMobile } = useApp()\n  const { id } = options\n  const { isMaxZoom, isMinZoom } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n\n  if (isMobile) {\n    return null\n  }\n\n  return (\n    <div className='fm-c-zoom'>\n      <Tooltip id={`${id}-zoom-in-label`} position='left' text='Zoom in'>\n        <button onClick={() => { viewportDispatch({ type: 'ZOOM_IN' }) }} className='fm-c-btn fm-c-btn--zoom-in' aria-disabled={isMaxZoom} aria-labelledby={`${id}-zoom-in-label`} aria-controls={`${id}-viewport`}>\n          <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' style={{ fill: 'currentColor', fillRule: 'evenodd', clipRule: 'evenodd' }}><rect x='3' y='9' width='14' height='2' /><rect x='9' y='3' width='2' height='14' /></svg>\n        </button>\n      </Tooltip>\n      <Tooltip id={`${id}-zoom-out-label`} position='left' text='Zoom out'>\n        <button onClick={() => { viewportDispatch({ type: 'ZOOM_OUT' }) }} className='fm-c-btn fm-c-btn--zoom-out' aria-disabled={isMinZoom} aria-labelledby={`${id}-zoom-out-label`} aria-controls={`${id}-viewport`} data-fm-zoom-out-btn>\n          <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' style={{ fill: 'currentColor', fillRule: 'evenodd', clipRule: 'evenodd' }}><rect x='3' y='9' width='14' height='2' /></svg>\n        </button>\n      </Tooltip>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\n\nexport default function Reset () {\n  const { options } = useApp()\n  const { bounds, oCentre, rZoom, center, zoom } = useViewport()\n  const viewportDispatch = useViewport().dispatch\n  const [isNewArea, setIsNewArea] = useState(false)\n\n  const handleOnClick = () => {\n    if (!isNewArea) {\n      return\n    }\n    viewportDispatch({ type: 'RESET' })\n  }\n\n  useEffect(() => {\n    const isSameCentre = JSON.stringify(oCentre) === JSON.stringify(center)\n    const isSameZoom = rZoom === zoom\n    const isNew = oCentre && center && rZoom && zoom && !(isSameCentre && isSameZoom)\n    setIsNewArea(isNew)\n  }, [bounds])\n\n  if (!options?.hasReset) {\n    return null\n  }\n\n  return (\n    <button onClick={handleOnClick} className='fm-c-btn fm-c-btn--reset' aria-label='Reset map area' aria-disabled={!isNewArea} aria-controls={`${options.id}-viewport`}>\n      <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n        <path d='M2.054 7.871L5.25 1.407l4 6.928-7.196-.464z' />\n        <path d='M7.25 4.871A6.46 6.46 0 0 1 10.5 4c3.587 0 6.5 2.913 6.5 6.5S14.087 17 10.5 17 4 14.087 4 10.5' fill='none' stroke='currentColor' strokeWidth='2' />\n      </svg>\n    </button>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport { useViewport } from '../store/use-viewport'\nimport Tooltip from './tooltip.jsx'\n\nconst { sessionStorage } = window\n\nexport default function Location () {\n  const { provider, options, drawMode } = useApp()\n  const { id } = options\n  const appDispatch = useApp().dispatch\n  const viewportDispatch = useViewport().dispatch\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(options.hasGeoLocation && !isQueryMode)) {\n    return null\n  }\n\n  // Set initial geo location\n  const handleGeoLocationSuccess = (coord, place) => {\n    const hasSession = !!sessionStorage.getItem('geoloc')\n    sessionStorage.setItem('geoloc', JSON.stringify({ coord, place }))\n    if (hasSession) {\n      return\n    }\n    viewportDispatch({ type: 'GEOLOC', payload: { center: coord, place } })\n  }\n\n  const handleGeoLocationError = (err) => {\n    viewportDispatch({ type: 'CLEAR_STATUS' })\n    appDispatch({ type: 'ERROR', payload: { label: 'Can\\'t get location', message: err.message } })\n  }\n\n  // Reset viewport\n  const handleOnClick = () => {\n    const geoloc = JSON.parse(sessionStorage.getItem('geoloc'))\n    if (geoloc) {\n      viewportDispatch({ type: 'GEOLOC', payload: { center: geoloc.coord, place: geoloc.place } })\n      return\n    }\n    provider.getGeoLocation(handleGeoLocationSuccess, handleGeoLocationError)\n    viewportDispatch({ type: 'UPDATE_STATUS', payload: { status: 'Getting location', isStatusVisuallyHidden: false } })\n  }\n\n  return (\n    <Tooltip id={`${id}-location-label`} cssModifier='location' position='left' text='Use your location'>\n      <button onClick={handleOnClick} className='fm-c-btn fm-c-btn--location' aria-labelledby={`${id}-location-label`} aria-controls={`${id}-viewport`}>\n        <svg aria-hidden='true' focusable='false' width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <g fill='none' stroke='currentColor' strokeWidth='2'>\n            <circle cx='10' cy='10' r='6' />\n            <path d='M10 4V1m0 18v-3m6-6h3M1 10h3' strokeLinecap='butt' />\n          </g>\n          <circle cx='10' cy='10' r='3' fill='currentColor' />\n        </svg>\n      </button>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function MapError () {\n  const { message } = useApp().error\n\n  return (\n    <p>{message}</p>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\n\nexport default function ViewportLabel () {\n  const { options } = useApp()\n  const { id } = options\n\n  return (\n    <div id={`${id}-viewport-label`} className='fm-c-panel fm-c-panel--viewport-label'>\n      <span className='fm-u-visually-hidden'>Interactive map. </span><kbd>Alt</kbd> + <kbd>K</kbd> <span className='fm-u-visually-hidden'>Show</span> keyboard controls<span className='fm-u-visually-hidden'>.</span>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\nimport { events } from '../store/constants.js'\nimport eventBus from '../lib/eventbus.js'\nimport { getFeatureShape } from '../lib/viewport'\n\nconst getIsPixelVisible = (interfaceType, isTargetVisible, activePanel) => {\n  return interfaceType === 'touch' && isTargetVisible && !activePanel\n}\n\nconst getIsPolygonVisible = (isDefaultMode, query, activePanel, isMobile) => {\n  return isDefaultMode && query && activePanel !== 'INFO' && !(isMobile && activePanel === 'KEY')\n}\n\nexport default function Actions () {\n  const { provider, style, parent, draw, drawTool, drawTools, drawMode, shape, segments, layers, dispatch: appDispatch, viewportRef, query, activePanel, isMobile, interfaceType, isTargetVisible } = useApp()\n  const { dispatch: viewportDispatch, size, isDrawValid } = useViewport()\n  const [vertexButtonAction, setVertexButtonAction ] = useState(query ? 'delete' : 'add')\n  const [numVertecies, setNumVertecies ] = useState(null)\n\n  const handleUpdateClick = () => {\n    if (!(provider.map || drawTool) || !isDrawValid) {\n      return\n    }\n    const feature = provider.draw.finish(shape)\n    const newShape = getFeatureShape(feature)\n    appDispatch({ type: 'SET_MODE', payload: { value: 'default', query: feature, shape: newShape } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS' })\n    eventBus.dispatch(parent, events.APP_ACTION, { type: query ? 'updatePolygon' : 'confirmPolygon', query: feature })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode: 'default', style, size, segments, layers })\n    viewportRef.current.focus()\n  }\n\n  const handleCancelClick = () => {\n    if (drawTool) {\n      return\n    }\n    provider.draw.cancel()\n    const shape = getFeatureShape(query) || drawTools[0].id\n    eventBus.dispatch(parent, events.APP_ACTION, { type: 'cancelUpdatePolygon', query })\n    appDispatch({ type: 'SET_MODE', payload: { value: 'default', shape, query } })\n    viewportDispatch({ type: 'TOGGLE_CONSTRAINTS' })\n    eventBus.dispatch(parent, events.APP_CHANGE, { type: 'drawMode', drawMode: 'default', style, size, segments, layers })\n    viewportRef.current.focus()\n  }\n\n  const handlePixelClick = () => {\n    const event = new window.KeyboardEvent('keydown', { key: 'Enter', bubbles: true })\n    viewportRef.current.dispatchEvent(event)\n  }\n\n  const handlePolygonClick = () => {\n    eventBus.dispatch(parent, events.APP_QUERY, { resultType: 'polygon', query, style, size, segments, layers })\n  }\n\n  const handleDrawEvent = e => {\n    const { action } = e.detail\n    if (['add', 'delete'].includes(action)) {\n      const feature = e.detail.feature\n      const numCoords = feature?.type === 'Polygon' ? feature?.coordinates[0].length : -1\n      setVertexButtonAction(e.detail.action)\n      setNumVertecies(numCoords)      \n    }\n    if (action === 'change') {\n      setNumVertecies(e.detail.numVertecies) \n    }\n  }\n\n  const isDefaultMode = drawMode === 'default'\n  const isVertexTouch = drawMode === 'vertex' && interfaceType === 'touch'\n  const isPixelVisible = getIsPixelVisible(interfaceType, isTargetVisible, activePanel)\n  const isPolygonVisible = getIsPolygonVisible(isDefaultMode, query, activePanel, isMobile)\n  const hasActions = !isDefaultMode || isPixelVisible || isPolygonVisible\n  const isUpdateDisabled = !isDrawValid || numVertecies < 3\n  const isDeleteDisabled = vertexButtonAction === 'delete' && numVertecies < 4\n\n  useEffect(() => {\n    provider.addEventListener('draw', handleDrawEvent)\n  }, [])\n\n  return (\n    <div className={`fm-o-actions${hasActions ? ' fm-o-actions--has-actions' : ''}`}>\n      {provider.capabilities?.hasInclusiveDraw && (\n        <button className='fm-c-btn-primary' {...(!isVertexTouch && { style: { display: 'none' } })} aria-disabled={isDeleteDisabled} data-vertex-button={true}>\n          {`${vertexButtonAction === 'delete' ? 'Delete point' : 'Add point'}`}\n        </button>\n      )}\n      <button onClick={handleUpdateClick} className='fm-c-btn-primary' aria-disabled={isUpdateDisabled} {...(isDefaultMode && { style: { display: 'none' } })}>\n        {`${query ? 'Done' : 'Finish'}`}\n      </button>\n      <button onClick={handleCancelClick} className='fm-c-btn-secondary' {...(isDefaultMode && { style: { display: 'none' } })}>\n        Cancel\n      </button>\n      <button onClick={handlePolygonClick} className='fm-c-btn-primary' {...(!isPolygonVisible && { style: { display: 'none' } })}>\n        {draw?.queryLabel}\n      </button>\n      <button onClick={handlePixelClick} className='fm-c-btn-primary' {...(!isPixelVisible && { style: { display: 'none' } })}>\n        Get info\n      </button>\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function EditButton ({ editBtnRef }) {\n  const { options, legend, dispatch, drawMode, activePanel, previousPanel, isDesktop } = useApp()\n  const { id } = options\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n  const hasButton = !['compact', 'inset'].includes(legend?.display) && !isDesktop && isQueryMode\n  const isVisible = !(activePanel === 'INSPECTOR' || (activePanel === 'STYLE' && previousPanel === 'INSPECTOR'))\n\n  if (!hasButton) {\n    return null\n  }\n\n  const handleClick = () => {\n    dispatch({ type: 'OPEN', payload: 'INSPECTOR' })\n  }\n\n  return (\n    <Tooltip id={`${id}-edit-label`} position='left' cssModifier='edit' text='View dimensions'>\n      <button onClick={handleClick} className='fm-c-btn fm-c-btn--edit govuk-body-s' ref={editBtnRef} aria-expanded={false} aria-labelledby={`${id}-edit-label`} {...!isVisible ? { style: { display: 'none' } } : {}}>\n        <svg width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <path d='M5.914 14.5l.828-.829 1.415 1.415-3.243 3.242-3.243-3.242 1.415-1.415.707.707.121.122V3.914H14.5l-.829-.828 1.415-1.415 3.242 3.243-3.242 3.243-1.415-1.415.707-.707.122-.121H5.914V14.5zm7 1.405v2.018h-2v-2.018h2zm-3 0v2.018h-2v-2.018h2zm8-1.991v4.009h-4v-2.018h2v-1.991h2zm0-2.958v2.018h-2v-2.018h2zm0-3.042v2.018h-2V7.914h2z' fill='currentColor' stroke='none' />\n        </svg>\n      </button>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app'\nimport Tooltip from './tooltip.jsx'\n\nexport default function HelpButton () {\n  const { options, drawMode } = useApp()\n  const { id, draw } = options\n  const isQueryMode = ['frame', 'vertex'].includes(drawMode)\n\n  if (!(isQueryMode && draw?.helpURL)) {\n    return null\n  }\n\n  return (\n    <Tooltip id={`${id}-help-label`} position='left' cssModifier='help' text='Help' visuallyHiddenText='(opens in a new window)'>\n      <a href={draw.helpURL} target='_blank' className='fm-c-btn fm-c-btn--help' aria-labelledby={`${id}-help-label`} rel='noreferrer'>\n        <svg width='20' height='20' viewBox='0 0 20 20' fillRule='evenodd'>\n          <circle cx='10' cy='10' r='8.5' fill='none' stroke='currentColor' strokeWidth='1.5' />\n          <path d='M10.935 11.673H8.708v-.223c0-1.997 2.445-2.651 2.085-3.597-.175-.46-1.57-.837-1.757.843l-2.273-.281c.407-4.359 7.331-3.069 6.405.161-.025.09-.143.502-.625.986-1.252 1.258-1.608 1.111-1.608 2.111zm-2.303.592h2.385v2.104H8.632z' fill='currentColor' stroke='none' />\n        </svg>\n      </a>\n    </Tooltip>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nexport default function Attribution () {\n  const { isMobile } = useApp()\n  const { attributions } = useViewport()\n\n  return (\n    <div className='fm-o-attribution'>\n      {!isMobile && !!attributions.length && (\n        <div className='fm-c-attribution'>\n          {attributions.map((a, i) => {\n            const trimmed = a?.trim()\n            const isWrapped = /^<p[\\s>]/i.test(trimmed) && /<\\/p>$/i.test(trimmed)\n            const inner = isWrapped ? trimmed.replace(/^<p[\\s>]*>/i, '').replace(/<\\/p>$/i, '') : trimmed\n            return <span key={i} dangerouslySetInnerHTML={{ __html: inner }} />\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\n\nexport default function Banner () {\n  const { banner, activePanel, isMobile } = useApp()\n\n  return (\n    <div className='fm-c-banner'>\n      {banner && (\n        <div className='fm-c-banner__inner' {...activePanel === 'SEARCH' && isMobile ? { style: { display: 'none' } } : {}}>\n          <svg width='20' height='20' viewBox='0 0 20 20'>\n            <circle cx='10' cy='10' r='8.5' fill='none' stroke='currentColor' strokeWidth='1.5'/>\n            <path d='M8.584 5.228h2.832v2.174L10.869 11H9.118l-.534-3.598V5.228zm.098 7.207h2.643v2.337H8.682v-2.337z' fill='currentColor'/>\n          </svg>\n          <span className='fm-c-banner__content' aria-hidden={true} {...({ dangerouslySetInnerHTML: { __html: banner } })} />\n        </div>\n      )}\n      <div role='status' className='fm-u-visually-hidden' dangerouslySetInnerHTML={{ __html: `Warning: ${banner}` }} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { useViewport } from '../store/use-viewport.js'\nimport { squareMetresToKm } from '../lib/viewport.js'\n\nexport default function DrawConstraint () {\n  const { isDrawValid, dimensions, drawMaxArea } = useViewport()\n  const message = `Current area ${dimensions?.areaDisplay} (Max ${squareMetresToKm(drawMaxArea)})`\n\n  if (isDrawValid || !isDrawValid && !dimensions?.area) {\n    return\n  }\n\n  return (\n    <div className='fm-c-panel fm-c-panel--draw-constraint' role='status'>\n      <svg width='20' height='20' viewBox='0 0 20 20'>\n        <circle cx='10' cy='10' r='8.5' fill='none' stroke='currentColor' strokeWidth='1.5'/>\n        <path d='M8.584 5.228h2.832v2.174L10.869 11H9.118l-.534-3.598V5.228zm.098 7.207h2.643v2.337H8.682v-2.337z' fill='currentColor'/>\n      </svg>\n      <span className='fm-u-visually-hidden'>Warning: </span>\n      <span {...({ dangerouslySetInnerHTML: { __html: message } })} />\n    </div>\n  )\n}\n","import React, { useRef, useState, useEffect } from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n\nexport default function ScaleBar () {\n  const { resolution, style, isReady } = useViewport()\n  const { options } = useApp()\n  const hasScaleBar = ['imperial', 'metric'].includes(options?.scaleBar)\n\n  const elRef = useRef(null)\n  const [scale, setScale] = useState({ width: 0, label: '' })\n\n  const MAX_WIDTH = 120\n  const CSS_SCALE = 1\n\n  const isVisible = scale.width >= 0\n\n  const units = {\n    metric: [\n      { threshold: 1, symbol: 'm', unit: 'metre', plural: 'metres', factor: 1 },\n      { threshold: 1000, symbol: 'km', unit: 'kilometre', plural: 'kilometres', factor: 0.001 }\n    ],\n    imperial: [\n      { threshold: 1609.344, symbol: 'mi', unit: 'mile', plural: 'miles', factor: 1 / 1609.344 },\n      { threshold: 0.9144, symbol: 'yd', unit: 'yard', plural: 'yards', factor: 1 / 0.9144 },\n      { threshold: 0.3048, symbol: 'ft', unit: 'foot', plural: 'feet', factor: 1 / 0.3048 }\n    ]\n  }\n\n  const getBestScale = (metersPerPx, maxWidthPx, unitSystem) => {\n    const maxMeters = metersPerPx * maxWidthPx\n    const options = units[unitSystem]\n\n    // Loop over options from *largest to smallest*\n    for (const { symbol, unit, plural, factor } of options) {\n      const scaled = maxMeters * factor\n      const rounded = getRounded(scaled)\n\n      // We want a label like \"50 km\", not \"50000 m\"\n      if (rounded >= 1 && rounded < 1000) {\n        const width = (rounded / factor) / metersPerPx\n        if (width <= maxWidthPx) {\n          return {\n            label: rounded,\n            symbol,\n            width,\n            unit: rounded > 1 ? plural : unit\n          }\n        }\n      }\n    }\n\n    // Fallback: pick smallest unit\n    const fallback = options[options.length - 1]\n    const fallbackScaled = maxMeters * fallback.factor\n    const fallbackRounded = getRounded(fallbackScaled)\n    const fallbackUnit = fallbackRounded > 1 ? fallback.plural : fallback.unit\n\n    return {\n      label: fallbackRounded,\n      symbol: fallback.symbol,\n      width: (fallbackRounded / fallback.factor) / metersPerPx,\n      unit: fallbackUnit\n    }\n  }\n\n  const getRounded = (num) => {\n    // Round to nice numbers: 1, 2, 5, 10, 20, 50, 100...\n    const pow10 = Math.pow(10, Math.floor(Math.log10(num)))\n    const d = num / pow10\n    let rounded\n    if (d >= 10) {\n      rounded = 10\n    } else if (d >= 5) {\n      rounded = 5\n    } else if (d >= 3) {\n      rounded = 3\n    } else if (d >= 2) {\n      rounded = 2\n    } else {\n      rounded = 1\n    }\n    return rounded * pow10\n  }\n\n  useEffect(() => {\n    if (hasScaleBar && resolution) {\n      const metersPerPx = resolution / CSS_SCALE\n      const best = getBestScale(metersPerPx, MAX_WIDTH, options.scaleBar)\n      setScale(best)\n    }\n  }, [resolution])\n\n  if (!hasScaleBar) {\n    return\n  }\n\n  return (\n    <>\n      {isVisible && (\n        <div className={`fm-c-scale${!isReady ? ' fm-u-hidden' : ''} fm-c-scale--${style?.name}`} ref={elRef} style={{ width: `${scale.width}px` }}>\n          <span className='fm-c-scale__label'>\n            <span className='fm-u-visually-hidden'>Scale bar: </span>\n            {scale.label}\n            <span aria-hidden> {scale.symbol}</span>\n            <span className='fm-u-visually-hidden'>{scale.unit}</span>\n          </span>\n        </div>\n      )}\n    </>\n\n  )\n}\n","import React from 'react'\nimport { useApp } from '../store/use-app.js'\nimport { useViewport } from '../store/use-viewport.js'\n// import { drawTools } from '../store/constants.js'\n// import Tooltip from './tooltip.jsx'\n\nexport default function Inspector () {\n  const { provider, shape } = useApp()\n  const { dimensions } = useViewport()\n  // const { id } = options\n\n  // const handlePolygonSelect = (id) => {\n  //   const value = drawTools.find(m => m.id === id).drawMode\n  //   provider.draw.editPolygon()\n  //   dispatch({ type: 'SET_MODE', payload: { value, shape: id } })\n  // }\n\n  return (\n    <div className='fm-c-form'>\n      <div className='fm-c-form-row'>\n        <div className='fm-c-form-group'>\n          <span className='fm-c-form-group__label' htmlFor='top-left'>\n            Area\n          </span>\n          <div className='fm-c-form-group__wrapper'>\n            <div className='fm-c-form-group__read-only'>\n              {dimensions.areaDisplay || '-'}\n            </div>\n          </div>\n        </div>\n        {['circle', 'square'].includes(shape) && (\n        <div className='fm-c-form-group'>\n          <span className='fm-c-form-group__label' htmlFor='top-left'>\n            {shape === 'circle' ? 'Radius' : 'Side'}\n          </span>\n          <div className='fm-c-form-group__wrapper'>\n            <div className='fm-c-form-group__read-only'>\n              {shape === 'circle' ? dimensions.radiusDisplay || '-' : ''}\n              {shape === 'square' ? dimensions.widthDisplay || '-' : ''}\n            </div>\n          </div>\n        </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport { ViewportProvider } from '../store/viewport-provider.jsx'\nimport { useApp } from '../store/use-app'\nimport { defaults, labels, events, settings } from '../store/constants'\nimport { updateTitle, toggleInert } from '../lib/dom'\nimport eventBus from '../lib/eventbus'\nimport Viewport from './viewport.jsx'\nimport Exit from './exit.jsx'\nimport Search from './search.jsx'\nimport Panel from './panel.jsx'\nimport Segments from './segments.jsx'\nimport Layers from './layers.jsx'\nimport Logo from './logo.jsx'\nimport DrawMenu from './draw-menu.jsx'\nimport DrawAction from './draw-action.jsx'\nimport Styles from './styles.jsx'\nimport Keyboard from './keyboard.jsx'\nimport LegendButton from './legend-button.jsx'\nimport KeyButton from './key-button.jsx'\nimport SearchButton from './search-button.jsx'\nimport StylesButton from './styles-button.jsx'\nimport Zoom from './zoom.jsx'\nimport Reset from './reset.jsx'\nimport Location from './location.jsx'\nimport MapError from './map-error.jsx'\nimport ViewportLabel from './viewport-label.jsx'\nimport Actions from './actions.jsx'\nimport EditButton from './edit-button.jsx'\nimport HelpButton from './help-button.jsx'\nimport Attribution from './attribution.jsx'\nimport Banner from './banner.jsx'\nimport DrawConstraint from './draw-constraint.jsx'\nimport ScaleBar from './scale-bar.jsx'\nimport Inspector from './inspector.jsx'\n\nconst getClassNames = (isDarkMode, device, behaviour, isDrawMode) => {\n  return `fm-o-container${isDarkMode ? ' fm-o-container--dark' : ''} fm-${device} ${behaviour}${isDrawMode ? ' fm-draw' : ''}`\n}\n\nexport default function Container () {\n  // Derived from state and props\n  const { dispatch, provider, options, parent, info, search, drawMode, activePanel, previousPanel, isPage, isMobile, isDesktop, isDarkMode, isKeyExpanded, activeRef, viewportRef, hash, error } = useApp()\n  const legend = options.legend\n\n  // Refs to elements\n  const legendBtnRef = useRef(null)\n  const keyBtnRef = useRef(null)\n  const searchBtnRef = useRef(null)\n  const stylesBtnRef = useRef(null)\n  const editBtnRef = useRef(null)\n\n  // Template properties\n  const device = (isMobile && 'mobile') || (isDesktop && 'desktop') || 'tablet'\n  const behaviour = settings.container[options.behaviour || defaults.CONTAINER_TYPE].CLASS\n  const height = (isPage || options.container) ? '100%' : options.height || settings.container[options.behaviour]?.HEIGHT\n  const isCombined = ['compact', 'inset'].includes(legend?.display)\n  const isFixed = legend && isDesktop && !isCombined\n  const isLegendInset = legend?.display === 'inset'\n  const isLegendModal = !isFixed && (!isLegendInset || (isLegendInset && isKeyExpanded))\n  const hasLengedHeading = !(legend?.display === 'inset' && legend?.segments?.[0]?.display === 'timeline')\n  const isDrawMode = ['frame', 'vertex'].includes(drawMode)\n  const hasButtons = !(isMobile && (activePanel === 'SEARCH' || (isDesktop && search?.isExpanded)))\n  const srid = provider?.srid\n  const hasSizeCapability = provider.capabilities?.hasSize\n  const hasInspector = activePanel === 'INSPECTOR' || (activePanel === 'STYLE' && previousPanel === 'INSPECTOR')\n  const combindedTitle = isCombined && (legend?.title ? `<span class=\"fm-u-visually-hidden\">${labels.legend.TITLE}:</span> ${legend?.title}` : labels.legend.TITLE)\n  const seperateTitle = options.draw?.heading ? labels.menu.TITLE : labels.layers.TITLE\n  const legendTitle = combindedTitle || seperateTitle\n\n  const handleColorSchemeMQ = () => dispatch({\n    type: 'SET_IS_DARK_MODE',\n    payload: { colourScheme: window?.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' }\n  })\n\n  // Communication between Vanilla JS and React components\n  useEffect(() => {\n    eventBus.on(parent, events.SET_INFO, data => { dispatch({ type: 'SET_INFO', payload: data }) })\n    eventBus.on(parent, events.SET_SELECTED, data => { dispatch({ type: 'SET_SELECTED', payload: { featureId: data } }) })\n    eventBus.on(parent, events.SET_BANNER, data => { dispatch({ type: 'SET_BANNER', payload: data }) })\n\n    // Dark mode media query\n    if (options.hasAutoMode) {\n      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', handleColorSchemeMQ)\n    }\n\n    // Ready for map\n    if (!activePanel) {\n      dispatch({ type: 'CONTAINER_READY' })\n    }\n\n    return () => {\n      window.removeEventListener('change', handleColorSchemeMQ)\n    }\n  }, [])\n\n  // Toggle inert elements\n  useEffect(() => {\n    updateTitle()\n    toggleInert(activeRef.current)\n    activeRef.current?.focus({ preventScroll: true })\n  }, [isPage, activePanel, hash])\n\n  return (\n    <ViewportProvider options={{ ...options, srid, hasSizeCapability}}>\n      <div\n        className={getClassNames(isDarkMode, device, behaviour, isDrawMode)}\n        style={{ height }}\n        {...(isPage ? { 'data-fm-page': options.pageTitle || 'Map view' } : {})}\n        data-fm-container=''\n      >\n        <p className='fm-u-visually-hidden'>\n          This page contains a map. To interact with the map, press Tab until it recieves focus.\n          Once focused, you can use the keyboard command Alt + K to display all available commands.\n          Ensure the map has focus before using the keyboard commands.\n        </p>\n        <div className='fm-o-side'>\n          {isFixed && (<Exit />)}\n          {isDesktop && isDrawMode && (hasInspector || isFixed) && (\n            <Panel className='edit' label='Dimensions' {...!isFixed ? { instigatorRef: editBtnRef } : {}} width={legend?.width}>\n              <Inspector />\n            </Panel>\n          )}\n          {isFixed && !isDrawMode && (\n            <Panel className='legend' label={legendTitle} width={legend?.width} isHideHeading={!hasLengedHeading}>\n              <DrawMenu />\n              <Segments />\n              <Layers hasSymbols={!!legend?.display} hasInputs />\n            </Panel>\n          )}\n        </div>\n        <div className='fm-o-main' data-fm-main>\n          <Viewport />\n          <div className={`fm-o-overlay${isLegendInset ? ' fm-o-overlay--inset' : ''}`}>\n            <div className='fm-o-banner'>\n              <Banner />\n              {isMobile && isDrawMode && <DrawConstraint />}\n            </div>\n            <div className='fm-o-top'>\n              <div className='fm-o-top__column'>\n                <Exit />\n                {!isMobile && (\n                  <>\n                    <SearchButton searchBtnRef={searchBtnRef} />\n                    <Search instigatorRef={searchBtnRef} />\n                  </>\n                )}\n                <LegendButton legendBtnRef={legendBtnRef} />\n                <KeyButton keyBtnRef={keyBtnRef} />\n                {activePanel === 'KEY' && !isMobile && (\n                  <Panel isNotObscure={false} className='key' label={labels.legend.TITLE} width={legend?.keyWidth || legend?.width} instigatorRef={keyBtnRef} isModal={isKeyExpanded} isInset>\n                    <Layers hasInputs={false} hasSymbols />\n                  </Panel>\n                )}\n                {activePanel === 'INFO' && info && !isMobile && (\n                  <Panel className='info' link={info.link} label={info.label} width={info.width} html={info.html} instigatorRef={viewportRef} isModal={false} isInset isNotObscure />\n                )}\n                {activePanel === 'LEGEND' && !isMobile && isLegendInset && (\n                  <Panel className='legend' isNotObscure={false} label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                    <DrawMenu />\n                    <Segments />\n                    <Layers hasSymbols={!!legend?.display} hasInputs />\n                  </Panel>\n                )}\n              </div>\n              <div className='fm-o-top__column'>\n                {!isMobile && isDrawMode && <DrawConstraint />}\n                <ViewportLabel />\n              </div>\n              <div className='fm-o-top__column'>\n                {!isMobile && activePanel === 'STYLE' && (\n                  <Panel className='style' label='Map style' instigatorRef={stylesBtnRef} width='400px' isInset={!isMobile} isModal>\n                    <Styles />\n                  </Panel>\n                )}\n                <HelpButton />\n                {isMobile && (\n                  <>\n                    <SearchButton searchBtnRef={searchBtnRef} tooltip='left' />\n                    <Search instigatorRef={searchBtnRef} />\n                  </>\n                )}\n                {hasButtons && (\n                  <>\n                    <StylesButton stylesBtnRef={stylesBtnRef} />\n                    <Reset />\n                    <Location provider={provider} />\n                    <Zoom />\n                  </>\n                )}\n              </div>\n            </div>\n            <div className='fm-o-middle'>\n              {activePanel === 'LEGEND' && !isFixed && !isLegendInset && (\n                <Panel className='legend' isNotObscure={false} label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                  <DrawMenu />\n                  <Segments />\n                  <Layers hasSymbols={!!legend?.display} hasInputs />\n                </Panel>\n              )}\n              {activePanel === 'INSPECTOR' && !isMobile && !isDesktop && (\n                <Panel className='edit' label='Dimensions' instigatorRef={editBtnRef} width={legend?.width} isModal>\n                  <Inspector />\n                </Panel>\n              )}\n              {activePanel === 'KEYBOARD' && (\n                <Panel className='keyboard' width='560px' maxWidth='560px' label='Keyboard' instigatorRef={viewportRef} isModal isInset>\n                  <Keyboard />\n                </Panel>\n              )}\n              {activePanel === 'ERROR' && (\n                <Panel className='error' maxWidth='300px' label={error.label} instigatorRef={viewportRef} isModal isInset>\n                  <MapError />\n                </Panel>\n              )}\n            </div>\n            <div className='fm-o-bottom'>\n              <div className='fm-o-logo'>\n                <Logo />\n              </div>\n              {!isMobile && <Actions />}\n              <div className='fm-o-tools'>\n                <EditButton editBtnRef={editBtnRef} />\n                <DrawAction />\n                <ScaleBar />\n              </div>\n              {info && activePanel === 'INFO' && isMobile && (\n                <Panel className='info' link={info.link} label={info.label} html={info.html} instigatorRef={viewportRef} isModal={false} isInset isNotObscure />\n              )}\n              {activePanel === 'KEY' && isMobile && (\n                <Panel className='key' label={labels.legend.TITLE} instigatorRef={keyBtnRef} isModal={isKeyExpanded} isInset isNotObscure>\n                  <Layers hasInputs={false} hasSymbols />\n                </Panel>\n              )}\n              {activePanel === 'LEGEND' && isMobile && isLegendInset && (\n                <Panel className='legend' isNotObscure label={legendTitle} width={legend?.width} instigatorRef={legendBtnRef} isInset={isLegendInset} isModal={isLegendModal} isHideHeading={!hasLengedHeading}>\n                  <DrawMenu />\n                  <Segments />\n                  <Layers hasSymbols hasInputs />\n                </Panel>\n              )}\n              {isMobile && !hasInspector && <Actions />}\n            </div>\n            <Attribution />\n          </div>\n        </div>\n        <div className='fm-o-side'>\n          {isMobile && hasInspector && (\n            <Panel className='edit' label='Dimensions' instigatorRef={editBtnRef} width={legend?.width}>\n              <Inspector />\n            </Panel>\n          )}\n        </div>\n        {isMobile && activePanel === 'STYLE' && (\n          <Panel className='style' label='Map style' instigatorRef={stylesBtnRef} width='400px' isInset={!isMobile} isModal>\n            <Styles />\n          </Panel>\n        )}\n      </div>\n    </ViewportProvider>\n  )\n}\n","import React, { useState, useRef, useEffect } from 'react'\nimport { createPortal } from 'react-dom'\nimport { settings, events } from './js/store/constants.js'\nimport eventBus from './js/lib/eventbus.js'\nimport { AppProvider } from './js/store/app-provider.jsx'\nimport Container from './js/components/container.jsx'\n\nexport default function App (options) {\n  const { behaviour, parent, container, handleExit } = options\n  const mobileMQ = `(max-width: ${options.maxMobile || settings.breakpoints.MAX_MOBILE})`\n  const desktopMQ = `(min-width: ${options.minDesktop || settings.breakpoints.MIN_DESKTOP})`\n\n  const [isMobile, setIsMobile] = useState(window?.matchMedia(mobileMQ).matches)\n  const [isDesktop, setIsDesktop] = useState(window.matchMedia(desktopMQ).matches)\n  const [interfaceType, setInterfaceType] = useState(options.interfaceType)\n\n  // Create a map provider instance\n  const provider = useRef(new options.mapProvider(options))\n\n  // Create the geocode functions\n  const GeocodeProvider = options.geocodeProvider\n  const geocodeProvider = new GeocodeProvider(options.transformGeocodeRequest)\n  const ReverseGecodeProvider = options.reverseGeocodeProvider\n  const reverseGeocodeProvider = new ReverseGecodeProvider(options.transformGeocodeRequest)\n  const geocode = useRef({\n    find: geocodeProvider.find.bind(geocodeProvider),\n    suggest: geocodeProvider.suggest.bind(geocodeProvider),\n    getNearest: reverseGeocodeProvider.getNearest.bind(reverseGeocodeProvider)\n  })\n\n  // Refs to elements\n  const viewportRef = useRef(null)\n  const frameRef = useRef(null)\n  const obscurePanelRef = useRef(null)\n  const activeRef = useRef(null)\n\n  //\n  // Event handlers\n  //\n\n  const handleMobileMQ = e => setIsMobile(e.matches)\n  const handleDesktopMQ = e => setIsDesktop(e.matches)\n\n  //\n  // Side effects\n  //\n\n  useEffect(() => {\n    // Avoid flicker on refresh\n    document.body.classList.remove('fm-js-hidden')\n\n    // Set media queries\n    window.matchMedia(mobileMQ).addEventListener('change', handleMobileMQ)\n    window.matchMedia(desktopMQ).addEventListener('change', handleDesktopMQ)\n\n    // Keyboard and touch events\n    eventBus.on(parent, events.SET_INTERFACE_TYPE, data => setInterfaceType(data))\n\n    return () => {\n      window.removeEventListener('change', handleMobileMQ)\n      window.removeEventListener('change', handleDesktopMQ)\n    }\n  }, [])\n\n  const isPage = (behaviour === 'buttonFirst') || (behaviour === 'hybrid' && isMobile)\n\n  return (\n    <AppProvider\n      options={options}\n      app={{\n        provider: provider.current,\n        geocode: geocode.current,\n        isPage,\n        isMobile,\n        isDesktop,\n        isBack: window.history.state?.isBack,\n        interfaceType,\n        parent,\n        handleExit,\n        viewportRef,\n        frameRef,\n        obscurePanelRef,\n        activeRef\n      }}\n    >\n      {container ? createPortal(<Container />, parent) : <Container />}\n    </AppProvider>\n  )\n}\n","'use strict'\nimport React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport App from './app.jsx'\n\nexport default function root (el, props) {\n  const appRoot = createRoot(el)\n  appRoot.render(<App {...props} />)\n  return appRoot\n}\n","// index.ts\nimport { isNumber } from \"@turf/helpers\";\nfunction getCoord(coord) {\n  if (!coord) {\n    throw new Error(\"coord is required\");\n  }\n  if (!Array.isArray(coord)) {\n    if (coord.type === \"Feature\" && coord.geometry !== null && coord.geometry.type === \"Point\") {\n      return [...coord.geometry.coordinates];\n    }\n    if (coord.type === \"Point\") {\n      return [...coord.coordinates];\n    }\n  }\n  if (Array.isArray(coord) && coord.length >= 2 && !Array.isArray(coord[0]) && !Array.isArray(coord[1])) {\n    return [...coord];\n  }\n  throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\nfunction getCoords(coords) {\n  if (Array.isArray(coords)) {\n    return coords;\n  }\n  if (coords.type === \"Feature\") {\n    if (coords.geometry !== null) {\n      return coords.geometry.coordinates;\n    }\n  } else {\n    if (coords.coordinates) {\n      return coords.coordinates;\n    }\n  }\n  throw new Error(\n    \"coords must be GeoJSON Feature, Geometry Object or an Array\"\n  );\n}\nfunction containsNumber(coordinates) {\n  if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n    return true;\n  }\n  if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n    return containsNumber(coordinates[0]);\n  }\n  throw new Error(\"coordinates must only contain numbers\");\n}\nfunction geojsonType(value, type, name) {\n  if (!type || !name) {\n    throw new Error(\"type and name required\");\n  }\n  if (!value || value.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + value.type\n    );\n  }\n}\nfunction featureOf(feature, type, name) {\n  if (!feature) {\n    throw new Error(\"No feature passed\");\n  }\n  if (!name) {\n    throw new Error(\".featureOf() requires a name\");\n  }\n  if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n    throw new Error(\n      \"Invalid input to \" + name + \", Feature with geometry required\"\n    );\n  }\n  if (!feature.geometry || feature.geometry.type !== type) {\n    throw new Error(\n      \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n    );\n  }\n}\nfunction collectionOf(featureCollection, type, name) {\n  if (!featureCollection) {\n    throw new Error(\"No featureCollection passed\");\n  }\n  if (!name) {\n    throw new Error(\".collectionOf() requires a name\");\n  }\n  if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n    throw new Error(\n      \"Invalid input to \" + name + \", FeatureCollection required\"\n    );\n  }\n  for (const feature of featureCollection.features) {\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n      throw new Error(\n        \"Invalid input to \" + name + \", Feature with geometry required\"\n      );\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n      throw new Error(\n        \"Invalid input to \" + name + \": must be a \" + type + \", given \" + feature.geometry.type\n      );\n    }\n  }\n}\nfunction getGeom(geojson) {\n  if (geojson.type === \"Feature\") {\n    return geojson.geometry;\n  }\n  return geojson;\n}\nfunction getType(geojson, _name) {\n  if (geojson.type === \"FeatureCollection\") {\n    return \"FeatureCollection\";\n  }\n  if (geojson.type === \"GeometryCollection\") {\n    return \"GeometryCollection\";\n  }\n  if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n    return geojson.geometry.type;\n  }\n  return geojson.type;\n}\nexport {\n  collectionOf,\n  containsNumber,\n  featureOf,\n  geojsonType,\n  getCoord,\n  getCoords,\n  getGeom,\n  getType\n};\n//# sourceMappingURL=index.js.map","export const debounce = (fn, wait) => {\n  let timeoutId = null\n  return (...args) => {\n    window.clearTimeout(timeoutId)\n    timeoutId = window.setTimeout(() => {\n      fn(...args)\n    }, wait)\n  }\n}\n","// index.ts\nvar earthRadius = 63710088e-1;\nvar factors = {\n  centimeters: earthRadius * 100,\n  centimetres: earthRadius * 100,\n  degrees: 360 / (2 * Math.PI),\n  feet: earthRadius * 3.28084,\n  inches: earthRadius * 39.37,\n  kilometers: earthRadius / 1e3,\n  kilometres: earthRadius / 1e3,\n  meters: earthRadius,\n  metres: earthRadius,\n  miles: earthRadius / 1609.344,\n  millimeters: earthRadius * 1e3,\n  millimetres: earthRadius * 1e3,\n  nauticalmiles: earthRadius / 1852,\n  radians: 1,\n  yards: earthRadius * 1.0936\n};\nvar areaFactors = {\n  acres: 247105e-9,\n  centimeters: 1e4,\n  centimetres: 1e4,\n  feet: 10.763910417,\n  hectares: 1e-4,\n  inches: 1550.003100006,\n  kilometers: 1e-6,\n  kilometres: 1e-6,\n  meters: 1,\n  metres: 1,\n  miles: 386e-9,\n  nauticalmiles: 29155334959812285e-23,\n  millimeters: 1e6,\n  millimetres: 1e6,\n  yards: 1.195990046\n};\nfunction feature(geom, properties, options = {}) {\n  const feat = { type: \"Feature\" };\n  if (options.id === 0 || options.id) {\n    feat.id = options.id;\n  }\n  if (options.bbox) {\n    feat.bbox = options.bbox;\n  }\n  feat.properties = properties || {};\n  feat.geometry = geom;\n  return feat;\n}\nfunction geometry(type, coordinates, _options = {}) {\n  switch (type) {\n    case \"Point\":\n      return point(coordinates).geometry;\n    case \"LineString\":\n      return lineString(coordinates).geometry;\n    case \"Polygon\":\n      return polygon(coordinates).geometry;\n    case \"MultiPoint\":\n      return multiPoint(coordinates).geometry;\n    case \"MultiLineString\":\n      return multiLineString(coordinates).geometry;\n    case \"MultiPolygon\":\n      return multiPolygon(coordinates).geometry;\n    default:\n      throw new Error(type + \" is invalid\");\n  }\n}\nfunction point(coordinates, properties, options = {}) {\n  if (!coordinates) {\n    throw new Error(\"coordinates is required\");\n  }\n  if (!Array.isArray(coordinates)) {\n    throw new Error(\"coordinates must be an Array\");\n  }\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be at least 2 numbers long\");\n  }\n  if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n    throw new Error(\"coordinates must contain numbers\");\n  }\n  const geom = {\n    type: \"Point\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction points(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return point(coords, properties);\n    }),\n    options\n  );\n}\nfunction polygon(coordinates, properties, options = {}) {\n  for (const ring of coordinates) {\n    if (ring.length < 4) {\n      throw new Error(\n        \"Each LinearRing of a Polygon must have 4 or more Positions.\"\n      );\n    }\n    if (ring[ring.length - 1].length !== ring[0].length) {\n      throw new Error(\"First and last Position are not equivalent.\");\n    }\n    for (let j = 0; j < ring[ring.length - 1].length; j++) {\n      if (ring[ring.length - 1][j] !== ring[0][j]) {\n        throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n  }\n  const geom = {\n    type: \"Polygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction polygons(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return polygon(coords, properties);\n    }),\n    options\n  );\n}\nfunction lineString(coordinates, properties, options = {}) {\n  if (coordinates.length < 2) {\n    throw new Error(\"coordinates must be an array of two or more positions\");\n  }\n  const geom = {\n    type: \"LineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction lineStrings(coordinates, properties, options = {}) {\n  return featureCollection(\n    coordinates.map((coords) => {\n      return lineString(coords, properties);\n    }),\n    options\n  );\n}\nfunction featureCollection(features, options = {}) {\n  const fc = { type: \"FeatureCollection\" };\n  if (options.id) {\n    fc.id = options.id;\n  }\n  if (options.bbox) {\n    fc.bbox = options.bbox;\n  }\n  fc.features = features;\n  return fc;\n}\nfunction multiLineString(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiLineString\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPoint(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPoint\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction multiPolygon(coordinates, properties, options = {}) {\n  const geom = {\n    type: \"MultiPolygon\",\n    coordinates\n  };\n  return feature(geom, properties, options);\n}\nfunction geometryCollection(geometries, properties, options = {}) {\n  const geom = {\n    type: \"GeometryCollection\",\n    geometries\n  };\n  return feature(geom, properties, options);\n}\nfunction round(num, precision = 0) {\n  if (precision && !(precision >= 0)) {\n    throw new Error(\"precision must be a positive number\");\n  }\n  const multiplier = Math.pow(10, precision || 0);\n  return Math.round(num * multiplier) / multiplier;\n}\nfunction radiansToLength(radians, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return radians * factor;\n}\nfunction lengthToRadians(distance, units = \"kilometers\") {\n  const factor = factors[units];\n  if (!factor) {\n    throw new Error(units + \" units is invalid\");\n  }\n  return distance / factor;\n}\nfunction lengthToDegrees(distance, units) {\n  return radiansToDegrees(lengthToRadians(distance, units));\n}\nfunction bearingToAzimuth(bearing) {\n  let angle = bearing % 360;\n  if (angle < 0) {\n    angle += 360;\n  }\n  return angle;\n}\nfunction azimuthToBearing(angle) {\n  angle = angle % 360;\n  if (angle > 180) {\n    return angle - 360;\n  } else if (angle < -180) {\n    return angle + 360;\n  }\n  return angle;\n}\nfunction radiansToDegrees(radians) {\n  const normalisedRadians = radians % (2 * Math.PI);\n  return normalisedRadians * 180 / Math.PI;\n}\nfunction degreesToRadians(degrees) {\n  const normalisedDegrees = degrees % 360;\n  return normalisedDegrees * Math.PI / 180;\n}\nfunction convertLength(length, originalUnit = \"kilometers\", finalUnit = \"kilometers\") {\n  if (!(length >= 0)) {\n    throw new Error(\"length must be a positive number\");\n  }\n  return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\nfunction convertArea(area, originalUnit = \"meters\", finalUnit = \"kilometers\") {\n  if (!(area >= 0)) {\n    throw new Error(\"area must be a positive number\");\n  }\n  const startFactor = areaFactors[originalUnit];\n  if (!startFactor) {\n    throw new Error(\"invalid original units\");\n  }\n  const finalFactor = areaFactors[finalUnit];\n  if (!finalFactor) {\n    throw new Error(\"invalid final units\");\n  }\n  return area / startFactor * finalFactor;\n}\nfunction isNumber(num) {\n  return !isNaN(num) && num !== null && !Array.isArray(num);\n}\nfunction isObject(input) {\n  return input !== null && typeof input === \"object\" && !Array.isArray(input);\n}\nfunction validateBBox(bbox) {\n  if (!bbox) {\n    throw new Error(\"bbox is required\");\n  }\n  if (!Array.isArray(bbox)) {\n    throw new Error(\"bbox must be an Array\");\n  }\n  if (bbox.length !== 4 && bbox.length !== 6) {\n    throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n  }\n  bbox.forEach((num) => {\n    if (!isNumber(num)) {\n      throw new Error(\"bbox must only contain numbers\");\n    }\n  });\n}\nfunction validateId(id) {\n  if (!id) {\n    throw new Error(\"id is required\");\n  }\n  if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n    throw new Error(\"id must be a number or a string\");\n  }\n}\nexport {\n  areaFactors,\n  azimuthToBearing,\n  bearingToAzimuth,\n  convertArea,\n  convertLength,\n  degreesToRadians,\n  earthRadius,\n  factors,\n  feature,\n  featureCollection,\n  geometry,\n  geometryCollection,\n  isNumber,\n  isObject,\n  lengthToDegrees,\n  lengthToRadians,\n  lineString,\n  lineStrings,\n  multiLineString,\n  multiPoint,\n  multiPolygon,\n  point,\n  points,\n  polygon,\n  polygons,\n  radiansToDegrees,\n  radiansToLength,\n  round,\n  validateBBox,\n  validateId\n};\n//# sourceMappingURL=index.js.map","const { DOMParser } = window\n\nexport const parseSVG = (icon, fill, text, isDarkBasemap = false, scale = 1) => {\n  const isSelected = icon.includes('selected')\n  // let styled = text.replace(/#0f0|#00ff00|#0F0|#00FF00/g, isSelected ? isDarkBasemap ? '#ffffff' : '#0b0c0c' : 'transparent')\n  // styled = styled.replace(/#00f|#0000ff|#00F|#0000FF/g, isDarkBasemap ? '#162232' : '#ffffff')\n  const parser = new DOMParser()\n  const dom = parser.parseFromString(text, 'text/html')\n  const svg = dom.querySelector('svg')\n  // Add xmlns attribute and class to svg\n  // svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n  svg.classList.add('fm-c-symbol')\n  svg.classList.toggle('fm-c-symbol--selected', isSelected)\n  svg.classList.toggle('fm-c-symbol--dark', isDarkBasemap)\n  // Set svg height and width\n  const viewBox = svg.getAttribute('viewBox')\n  const width = parseInt(viewBox.split(' ')[2], 10) * scale\n  const height = parseInt(viewBox.split(' ')[3], 10) * scale\n  svg.setAttribute('width', width)\n  svg.setAttribute('height', height)\n  // Conditionally add fill\n  if (fill) {\n    svg.setAttribute('fill', fill)\n  }\n  // Add classnames\n  const olFill = svg.querySelectorAll('[fill=\"#0b0c0c\" i], [style*=\"fill:#0b0c0c\" i]')\n  const olStroke = svg.querySelectorAll('[stroke=\"#0b0c0c\" i], [style*=\"stroke:#0b0c0c\" i]')\n  olFill.forEach(n => n.classList.add('fm-c-symbol__ol-fill'))\n  olStroke.forEach(n => n.classList.add('fm-c-symbol__ol-stroke'))\n  const bgFill = svg.querySelectorAll('[fill=\"#fff\" i], [fill=\"#ffffff\" i], [style*=\"fill:#fff\" i], [style*=\"fill:#ffffff\" i]')\n  const bgStroke = svg.querySelectorAll('[stroke*=\"#fff\" i], [stroke*=\"#ffffff\" i], [style*=\"stroke:#fff\" i], [style*=\"stroke:#ffffff\" i]')\n  bgFill.forEach(n => n.classList.add('fm-c-symbol__bg-fill'))\n  bgStroke.forEach(n => n.classList.add('fm-c-symbol__bg-stroke'))\n  const fgFill = svg.querySelectorAll(':not(.fm-c-symbol__ol-fill):not(.fm-c-symbol__bg-fill)[fill], :not(.fm-c-symbol__ol-fill):not(.fm-c-symbol__bg-fill)[style*=\"fill\"]')\n  const fgStroke = svg.querySelectorAll(':not(.fm-c-symbol__ol-stroke):not(.fm-c-symbol__bg-stroke)[stroke], :not(.fm-c-symbol__ol-stroke):not(.fm-c-symbol__bg-stroke)[style*=\"stroke\"]')\n  fgFill.forEach(n => n.classList.add('fm-c-symbol__fg-fill'))\n  fgStroke.forEach(n => n.classList.add('fm-c-symbol__fg-stroke'))\n  return dom.body.innerHTML\n}\n","// index.ts\nimport { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians } from \"@turf/helpers\";\nfunction distance(from, to, options = {}) {\n  var coordinates1 = getCoord(from);\n  var coordinates2 = getCoord(to);\n  var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n  var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n  var lat1 = degreesToRadians(coordinates1[1]);\n  var lat2 = degreesToRadians(coordinates2[1]);\n  var a = Math.pow(Math.sin(dLat / 2), 2) + Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n  return radiansToLength(\n    2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)),\n    options.units\n  );\n}\nvar turf_distance_default = distance;\nexport {\n  turf_distance_default as default,\n  distance\n};\n//# sourceMappingURL=index.js.map","import { distance as turfDistance } from '@turf/distance'\nimport { point as TurfPoint } from '@turf/helpers'\nimport { defaults } from '../store/constants'\n\nconst getBearing = (coord1, coord2) => {\n  const east = coord1[0] < coord2[0] && 'east'\n  const west = coord1[0] > coord2[0] && 'west'\n  const north = coord1[1] < coord2[1] && 'north'\n  const south = coord1[1] > coord2[1] && 'south'\n  return [east, west, north, south].filter(b => b && typeof b === 'string')\n}\n\nconst getUnits = (metres) => {\n  const MAX_METRES = 800\n  const MAX_MILES = 5000\n  const RATIO = 0.621371\n  let units\n  if (metres < MAX_METRES) {\n    units = `${metres} metres`\n  } else if (metres < MAX_MILES) {\n    units = (metres / 1000 * RATIO).toFixed(1) + ' miles'\n  } else {\n    units = Math.round((metres / 1000) * RATIO) + ' miles'\n  }\n  return units\n}\n\nconst getDirection = (coord1, coord2) => {\n  coord1 = coord1.map(n => n > 1000 ? Math.round(n) : Math.round(n * 100000) / 100000)\n  coord2 = coord2.map(n => n > 1000 ? Math.round(n) : Math.round(n * 100000) / 100000)\n  const ns1 = [coord1[0], coord1[1]]\n  const ns2 = [coord1[0], coord2[1]]\n  const ew1 = [coord1[0], coord1[1]]\n  const ew2 = [coord2[0], coord1[1]]\n  const nsd = getDistance(ns1, ns2)\n  const ewd = getDistance(ew1, ew2)\n  const bearing = getBearing(coord1, coord2)\n  const ewc = bearing.filter(b => ['east', 'west'].includes(b)).join('')\n  const nsc = bearing.filter(b => ['north', 'south'].includes(b)).join('')\n  const ew = ewc ? `${ewc} ${getUnits(ewd)}` : ''\n  const ns = nsc ? `${nsc} ${getUnits(nsd)}` : ''\n  return `${ns + (ewc && nsc ? ', ' : '') + ew}`\n}\n\nconst getArea = (bounds) => {\n  const ew = getDistance([bounds[0], bounds[1]], [bounds[2], bounds[1]])\n  const ns = getDistance([bounds[0], bounds[1]], [bounds[0], bounds[3]])\n  return `${getUnits(ew)} by ${getUnits(ns)}`\n}\n\nconst getBoundsChange = (oCentre, originalZoom, isMaxZoom, isMinZoom, center, zoom) => {\n  const isSameCentre = JSON.stringify(oCentre) === JSON.stringify(center)\n  const isSameZoom = originalZoom === zoom\n  const isMove = oCentre && originalZoom && !(isSameCentre && isSameZoom)\n  const maxZoom = isMaxZoom ? ' (Maximum zoom reached)' : ''\n  const minZoom = isMinZoom ? ' (Minimum zoom reached)' : ''\n  let change = ''\n  if (isMove) {\n    if (!isSameCentre && !isSameZoom) {\n      change = `New area${maxZoom}${minZoom}. `\n    } else if (!isSameCentre) {\n      change = `Map move: ${getDirection(oCentre, center)}. `\n    } else {\n      const direction = zoom > originalZoom ? 'in' : 'out'\n      change = `Zoomed ${direction}${maxZoom}${minZoom}. `\n    }\n  }\n  return change\n}\n\nconst getSelectedStatus = (featuresInViewport, id) => {\n  const total = featuresInViewport.length\n  const index = featuresInViewport.findIndex(f => f.id === id)\n  return index >= 0 && `${total} feature${total !== 1 ? 's' : ''} in this area. ${featuresInViewport[index].name}. ${index + 1} of ${total} highlighted.`\n}\n\nconst getOffsetBoundingClientRect = (el) => {\n  const offsetParent = el.closest('[data-fm-main]') || document.body\n  return offsetParent.getBoundingClientRect()\n}\n\nconst isCirclePolygon = (geometry) => {\n  const coordinates = geometry?.coordinates?.[0]\n\n  // Expect exactly 64 points\n  if (coordinates?.length !== 65) {\n    return false\n  }\n\n  // Compute approximate centre using two opposite points\n  const [x1, y1] = coordinates[0]\n  const [x2, y2] = coordinates[32]\n  const center = [(x1 + x2) / 2, (y1 + y2) / 2]\n\n  let minDist = Infinity; let maxDist = -Infinity\n  let minEdge = Infinity; let maxEdge = -Infinity\n\n  for (let i = 0; i < 64; i++) {\n    const [xA, yA] = coordinates[i]\n    const [xB, yB] = coordinates[(i + 1) % 64]\n\n    // Distance from center\n    const dist = Math.hypot(xA - center[0], yA - center[1])\n    minDist = Math.min(minDist, dist)\n    maxDist = Math.max(maxDist, dist)\n\n    // Distance to next vertex (edge length)\n    const edgeDist = Math.hypot(xB - xA, yB - yA)\n    minEdge = Math.min(minEdge, edgeDist)\n    maxEdge = Math.max(maxEdge, edgeDist)\n  }\n\n  // Need to revist tolerance as they depend on size too\n  const WSG84_TOLERANCE = 0.3\n  const BNG_TOLERANCE = 0.3\n  const tolerance = detectCoordinateType(center) === 'WSG84' ? WSG84_TOLERANCE : BNG_TOLERANCE\n\n  return Math.abs(maxDist - minDist) < tolerance && Math.abs(maxEdge - minEdge) < tolerance\n}\n\n// const metresToImperial = (metres) => {\n//   const MILE = 1609.344\n//   const YARD = 0.9144\n//   const pluralize = (value, singular, plural) => `${value} ${value === 1 ? singular : plural}`\n//   if (metres >= MILE) {\n//     const miles = Math.floor(metres / MILE)\n//     const remainder = metres % MILE\n//     const yards = Math.floor(remainder / YARD)\n//     return `${pluralize(miles, 'mile', 'miles')}, ${pluralize(yards, 'yard', 'yards')}`\n//   } else {\n//     const yards = Math.floor(metres / YARD)\n//     return `${pluralize(yards, 'yard', 'yards')}`\n//   }\n// }\n\nconst metresToKilometres = (metres) => {\n  const KILOMETRE = 1000\n  // const pluralize = (value, singular, plural) => `${value} ${value === 1 ? singular : plural}`\n  if (metres >= KILOMETRE) {\n    const kilometres = metres / KILOMETRE\n    const roundedKm = Math.round(kilometres * 100) / 100\n    return `${roundedKm}km`\n  } else {\n    // return `${pluralize(Math.round(metres), 'metre', 'metres')}`\n    return `${Math.round(metres)}m`\n  }\n}\n\nexport const squareMetresToKm = (metres) => {\n  const SQ_KM = 1_000_000\n  if (metres >= SQ_KM) {\n    let km2 = (metres / SQ_KM).toFixed(2)\n    km2 = Number(km2).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 2 })\n    return `${km2}km`\n  } else {\n    return `${Math.ceil(metres).toLocaleString()}m`\n  }\n}\n\nexport const parseDimensions = (dimensions) => {\n  const { area, center, width, radius } = dimensions\n  const areaDisplay = area ? squareMetresToKm(area) : null\n  const centerDisplay = center ? center.map(c => Math.round(c)).join(', ') : null\n  const widthDisplay = width ? metresToKilometres(width) : null\n  const radiusDisplay = radius ? metresToKilometres(radius) : null\n  return { ...dimensions, areaDisplay, centerDisplay, widthDisplay, radiusDisplay }\n}\n\nexport const detectCoordinateType = (coords) => {\n  if (coords.length === 3) {\n    return 'BNG' // If a third value exists (zone), it's UTM\n  }\n  const [x, y] = coords\n  if (x >= -180 && x <= 180 && y >= -90 && y <= 90) {\n    return 'WSG84'\n  }\n  if (x > 180 && y > 90) {\n    return 'BNG'\n  }\n  return 'Unknown'\n}\n\nexport const getDistance = (coord1, coord2) => {\n  let distance\n  if (coord1[0] > 1000) {\n    const x = Math.abs(coord1[0] - coord2[0])\n    const y = Math.abs(coord1[1] - coord2[1])\n    const dist = Math.sqrt((Math.pow(x, 2)) + (Math.pow(y, 2)))\n    distance = dist\n  } else {\n    const p1 = new TurfPoint(coord1)\n    const p2 = new TurfPoint(coord2)\n    distance = turfDistance(p1, p2, { units: 'metres' })\n  }\n  return Math.round(distance)\n}\n\nexport const getFocusPadding = (el, scale) => {\n  let padding\n  if (el) {\n    const parent = getOffsetBoundingClientRect(el)\n    const box = el.getBoundingClientRect()\n    const boxX = box.x || box.left\n    const boxY = box.y || box.top\n    const parentX = parent.x || parent.left\n    const parentY = parent.y || parent.top\n    padding = {\n      top: (boxY - parentY) / scale,\n      left: (boxX - parentX) / scale,\n      right: (parent.width - box.width - (boxX - parentX)) / scale,\n      bottom: (parent.height - box.height - (boxY - parentY)) / scale\n    }\n  }\n  // Addresses repid browser resizing\n  const isValid = Object.values(padding).every(i => i >= 0)\n  return isValid && padding\n}\n\nexport const getFocusBounds = (el, scale) => {\n  let bounds\n  if (el) {\n    const parent = getOffsetBoundingClientRect(el)\n    const box = el.getBoundingClientRect()\n    const m = 10\n    bounds = [[\n      ((box.x || box.left) - (parent.x || parent.left) + m) / scale,\n      (((box.y || box.top) - (parent.y || parent.top)) + box.height - m) / scale\n    ], [\n      (box.width + ((box.x || box.left) - (parent.x || parent.left)) - m) / scale,\n      ((box.y || box.top) - (parent.y || parent.top) + m) / scale\n    ]]\n  }\n  return bounds\n}\n\nexport const getMapPixel = (el, scale) => {\n  const parent = getOffsetBoundingClientRect(el)\n  const box = el.getBoundingClientRect()\n  const left = ((box.x || box.left) - (parent.x || parent.left)) / scale\n  const top = ((box.y || box.top) - (parent.y || parent.top)) / scale\n  const offsetLeft = (box.width / 2) / scale\n  const offsetTop = (box.height / 2) / scale\n  const point = [left + offsetLeft, top + offsetTop]\n  return point\n}\n\nexport const getDescription = (place, bounds, focusBounds, features, isFocusArea) => {\n  const { featuresTotal, featuresFocusTotal, isFeaturesInMap, isPixelFeaturesAtPixel, isPixelFeaturesInMap } = features || {}\n  const activeFeaturesTotal = isFocusArea ? featuresFocusTotal : featuresTotal\n  const activeBounds = isFocusArea ? focusBounds : bounds\n  let text = ''\n  if (activeFeaturesTotal) {\n    text = `${activeFeaturesTotal} feature${activeFeaturesTotal === 1 ? '' : 's'} in this area. `\n  } else if (isPixelFeaturesAtPixel) {\n    text = 'Data visible at the center coordinate. '\n  } else if (isPixelFeaturesInMap) {\n    text = 'No data visible at the center coordinate. '\n  } else if (isFeaturesInMap) {\n    text = 'No feature data in this area. '\n  } else {\n    // Null\n  }\n\n  const display = isFocusArea ? 'Focus area ' : ''\n  const newPlace = place ? `Approximate centre ${place}. ` : ''\n  const newArea = `Covering ${getArea(activeBounds)}. `\n  const findPlace = place ? '' : 'Use ALT plus I to find closest place'\n\n  return `${display}${newPlace}${newArea}${text}${findPlace}`\n}\n\nexport const getStatus = ({ action, isBoundsChange, place, isFocusArea, prevZoom, prevCenter, center, bounds, focusBounds, zoom, isMaxZoom, isMinZoom, features, label, featureId }) => {\n  let status = null\n  if (label) {\n    status = label\n  } else if (featureId) {\n    const selected = getSelectedStatus(features?.featuresInViewport, featureId)\n    status = selected\n  } else if (action === 'GEOCODE') {\n    status = getDescription(place, bounds, focusBounds, features, isFocusArea)\n  } else if (action === 'DATA') {\n    status = 'Map change: new data. Use ALT plus I to get new details'\n  } else if (isBoundsChange) {\n    const direction = getBoundsChange(prevCenter, prevZoom, isMaxZoom, isMinZoom, center, zoom)\n    const description = getDescription(place, bounds, focusBounds, features, isFocusArea)\n    status = `${direction}${description}`\n  } else {\n    status = ''\n  }\n  return status\n}\n\nexport const getPlace = (isUserInitiated, action, oPlace, newPlace) => {\n  let place\n  if (!isUserInitiated) {\n    if (action === 'RESET') {\n      place = oPlace\n    } else {\n      place = newPlace\n    }\n  }\n  return place\n}\n\nexport const parseCentre = (value, srid) => {\n  const mb = defaults[`MAX_BOUNDS_${srid}`]\n  let isInRange\n  let coords = value?.split(',')\n  // Query string formed correctly\n  if (!(Array.isArray(coords) && coords?.length === 3)) {\n    return null\n  }\n  // Coords are numbers\n  coords = coords.slice(0, 2).map(x => parseFloat(x))\n  coords = !coords.some(isNaN) && coords\n  if (!coords) {\n    return null\n  }\n  // Coords are within the valid range\n  if (srid === '27700') {\n    isInRange = !!coords.filter(c => c >= 0).length\n  } else {\n    isInRange = (coords[0] > mb[0] && coords[0] < mb[2]) && (coords[1] > mb[1] && coords[1] < mb[3])\n  }\n  return isInRange ? coords : null\n}\n\nexport const parseZoom = value => {\n  const coords = value?.split(',')\n  if (!(Array.isArray(coords) && coords?.length === 3)) {\n    return null\n  }\n  const zoom = parseFloat(coords[2])\n  return !zoom.isNaN ? zoom : null\n}\n\nexport const getShortcutKey = (e, featuresViewport) => {\n  const number = e.code.slice(-1)\n  const hasFeature = featuresViewport.length >= number\n  const id = hasFeature ? featuresViewport[number - 1].id : ''\n  return id\n}\n\nexport const getFeatureShape = (feature) => {\n  if (isCirclePolygon(feature?.geometry)) {\n    return 'circle'\n  }\n  if (feature?.geometry?.type?.toLowerCase() === 'polygon') {\n    const coords = feature.geometry?.coordinates\n    const flatCoords = (coords && Array.from(new Set(coords.flat(2)))) || null\n    return flatCoords?.length === 4 ? 'square' : 'polygon'\n  }\n  return null\n}\n\nexport const spatialNavigate = (direction, start, pixels) => {\n  const quadrant = pixels.filter(p => {\n    const offsetX = Math.abs(p[0] - start[0])\n    const offsetY = Math.abs(p[1] - start[1])\n    let isQuadrant = false\n    if (direction === 'up') {\n      isQuadrant = p[1] <= start[1] && offsetY >= offsetX\n    } else if (direction === 'down') {\n      isQuadrant = p[1] > start[1] && offsetY >= offsetX\n    } else if (direction === 'left') {\n      isQuadrant = p[0] <= start[0] && offsetY < offsetX\n    } else {\n      isQuadrant = p[0] > start[0] && offsetY < offsetX\n    }\n    return isQuadrant && (JSON.stringify(p) !== JSON.stringify(start))\n  })\n  if (!quadrant.length) {\n    quadrant.push(start)\n  }\n  const pythagorean = (a, b) => Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))\n  const distances = quadrant.map(p => pythagorean(Math.abs(start[0] - p[0]), Math.abs(start[1] - p[1])))\n  const closest = quadrant[distances.indexOf(Math.min(...distances))]\n  return pixels.findIndex(i => JSON.stringify(i) === JSON.stringify(closest))\n}\n\nexport const getScale = (size) => {\n  return { small: 1, medium: 1.5, large: 2 }[size] || 1\n}\n\nexport const getPoint = (el, e, scale) => {\n  const { left, top } = el.getBoundingClientRect()\n  const { clientX, clientY } = e.nativeEvent\n  const x = clientX - left\n  const y = clientY - top\n  return [x / scale, y / scale]\n}\n\nexport const getStyle = (styles = []) => {\n  const validStyles = styles.filter(s => defaults.STYLES.includes(s.name))\n  const style = window.localStorage.getItem('style')\n  return validStyles.find(s => s.name === style) || validStyles.find(s => s.name === 'default')\n}\n"],"names":["n","l","u","i","r","o","e","f","c","s","a","h","p","y","v","w","Array","isArray","d","g","parentNode","removeChild","_","t","arguments","length","children","call","defaultProps","m","type","props","key","ref","__k","__","__b","__e","__c","constructor","__v","__i","__u","vnode","b","current","k","x","this","context","S","C","base","M","__d","push","$","__r","debounceRendering","sort","shift","__P","O","__n","namespaceURI","z","I","P","q","A","nextSibling","String","L","B","contains","insertBefore","nodeType","H","some","T","setProperty","test","j","style","cssText","replace","toLowerCase","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","F","event","prototype","render","contextType","value","__E","D","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","N","then","indexOf","V","diffed","map","localName","document","createTextNode","createElementNS","is","__m","data","childNodes","attributes","name","__html","innerHTML","content","unmount","componentWillUnmount","E","documentElement","firstChild","G","J","K","Set","forEach","add","delete","Provider","__l","Consumer","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","setTimeout","__H","__N","__f","filter","every","concat","useDebugValue","requestAnimationFrame","clearTimeout","cancelAnimationFrame","R","isPureReactComponent","Symbol","for","count","only","toArray","U","W","appendChild","__a","__R","__O","pop","createElement","fallback","revealOrder","size","Z","Y","splice","containerInfo","get","Map","reverse","set","Q","X","nn","textContent","isReactComponent","Object","defineProperty","configurable","writable","en","rn","un","cancelBubble","on","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","cn","ln","enumerable","class","fn","multiple","selected","defaultValue","className","$$typeof","an","sn","hn","ReactCurrentDispatcher","readContext","useCallback","useContext","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","pn","bn","Rn","startTransition","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","apply","createRef","Fragment","isValidElement","isElement","isFragment","isMemo","displayName","startsWith","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","default","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","parseSegments","dataSegments","seg","segments","_queryParams$get","queryParams","URLSearchParams","window","location","search","split","_step","_iterator","_createForOfIteratorHelper","done","_g$parentIds","_g$parentIds2","_g$items$find","_g$items$find2","_g$items$","hasParent","parentIds","hasActiveParent","includes","items","find","_seg","id","isSelected","err","parseLayers","dataLayers","layers","_queryParams$get2","lyr","_step2","_iterator2","has","_toConsumableArray","parseGroups","zoom","hasInputs","queryLabel","groups","hasValidParent","isValidMinZoom","minZoom","isValidMaxZoom","maxZoom","ramps","flatItems","_g$items$find3","checkedRadioId","item","_item$items","fill","icon","display","label","actionsMap","CONTAINER_READY","_objectSpread","isContainerReady","SET_AVAILABILITY","payload","SET_INFO","featureId","previousPanel","activePanel","info","hasViewportLabel","hash","ERROR","error","message","OPEN","activePanelHasFocus","targetMarker","CLOSE","isKeyExpanded","SET_MODE","drawMode","query","shape","SET_SELECTED","SET_BANNER","banner","SET_NEXT_SELECTED","features","_features$nextIndex","_features$","findIndex","total","nextIndex","SET_IS_DARK_MODE","colourScheme","hasAutoMode","isDarkMode","SET_IS_TARGET_VISIBLE","isTargetVisible","TOGGLE_SEGMENTS","TOGGLE_LAYERS","TOGGLE_KEY_EXPANDED","TOGGLE_DRAW_EXPANDED","isDrawMenuExpanded","TOGGLE_VIEWPORT_LABEL","isMobile","getIsDarkMode","_window","matchMedia","matches","reducer","action","actionFunction","AppContext","AppProvider","_ref","options","app","_useReducer","styles","legend","draw","getStyle","coord","hasData","feature","_parseDrawTools","tool","tools","defaultTools","validTools","validTool","parseDrawTools","defaultDrawTools","_parseDrawTools2","_slicedToArray","drawTool","drawTools","getFeatureShape","isVisible","getActivePanel","collapse","pointerQuery","isFrameVisible","initialState","_useReducer2","dispatch","store","React","isSame","JSON","stringify","getImagePos","dark","aerial","deuteranopia","tritanopia","getColor","colors","color","READY","_state$style","_state$style2","attributions","attribution","currentZoom","resolution","isReady","url","UPDATE","_state$style3","_payload$dimensions","oPlace","originalZoom","isUserInitiated","bounds","focusBounds","center","place","getPlace","original","oBbox","oCentre","rZoom","isBoundsChange","isUrlUpdate","dimensions","parseDimensions","isDrawValid","drawMaxArea","area","isNewStatus","isMoving","isStatusVisuallyHidden","UPDATE_PLACE","MOVE_START","hasShortcuts","MOVE","_state$style4","_payload$dimensions2","isMaxZoom","isMinZoom","RESET","SEARCH","padding","timestamp","Date","now","GEOLOC","ZOOM_IN","ZOOM_OUT","SET_STYLE","styleName","newStyle","TOGGLE_CONSTRAINTS","undefined","originalStyles","originalMinZoom","originalMaxZoom","SET_SIZE","CLEAR_ALT_FEATURE","isVertexEdit","CLEAR_FEATURES","SET_PADDING","panel","viewport","isAnimate","pRect","getBoundingClientRect","height","vRect","oHeight","bottom","top","oWidth","right","left","isPortrait","offsetHeight","offsetWidth","Math","round","margin","TOP","width","LEFT","BOTTOM","TOGGLE_SHORTCUTS","RESET_STATUS","getSize","hasSizeCapability","localStorage","getItem","ViewportContext","ViewportProvider","srid","extent","cz","parseCentre","getBounds","getCentre","initZoom","parseZoom","max","min","getZoom","defaults","ZOOM","isFeaturesChange","isPanZoomChange","maxArea","status","useApp","ATTR_PAGE","ARIA_HIDDEN","updateTitle","_document$querySelect","page","querySelector","getAttribute","classList","toggle","parts","title","toggleInert","activeEl","querySelectorAll","inertEl","el","_container","_modal","_container2","isPage","container","closest","modal","isWithinModal","isWithinContainer","getContainer","activeElement","body","sibling","hasAttribute","constrainFocus","focusableEls","from","join","firstFocusableEl","focusableEl","offsetParent","lastFocusableEl","shiftKey","focus","preventDefault","findTabStop","direction","list","tabIndex","index","history","useQueryState","navigate","replaceState","setQuery","existingQueries","queryString","toString","pathname","decodeURIComponent","useResizeObserver","callback","observer","prevWidth","prevHeight","unobserve","ResizeObserver","entries","_entry$contentRect","contentRect","observe","useViewport","getClassName","isFocusArea","isActive","drawShape","visible","active","PaddingBox","_features$featuresInF","_useApp","provider","viewportRef","obscurePanelRef","frameRef","_useViewport","featuresInFocus","setPadding","_extends","ViewportStatus","interfaceType","_useState2","setMessage","prevStateRef","_prevStateRef$current","_prevStateRef$current2","isFeaturesInMap","prevZoom","prevCenter","getStatus","usePixelObscurred","isObscurred","setIsObscurred","isLoaded","pixel","getPixel","scale","getScale","_viewportRef$current$","topEl","elementFromPoint","isCentre","isTargetCentre","isPixelFeaturesAtPixel","targetCoord","resultType","Target","appDispatch","hasTargetData","setTargetMarker","viewBox","fillRule","_regeneratorRuntime","hasOwnProperty","iterator","asyncIterator","toStringTag","define","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","values","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","isGeneratorFunction","mark","setPrototypeOf","__proto__","awrap","async","keys","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_defineProperty","getOwnPropertyDescriptors","defineProperties","toPrimitive","_toPrimitive","_toPropertyKey","_arrayLikeToArray","isFocusVisible","isKeyboard","Viewport","_window2","geocode","parent","activeRef","backgroundColor","queryFeature","queryLocation","isUpdate","viewportDispatch","setQueryCz","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","settings","params","centerZoom","mapContainerRef","startPixel","labelPixel","pointerPixel","isDraggingRef","bgColor","activeFeatures","featuresInViewport","handleMapLoad","detail","eventBus","events","APP_READY","debounceUpdatePlace","debounce","_next","_throw","_asyncToGenerator","_callee","_context","getNearest","_x","handleMoveStart","handleMove","handleUpdate","handleMapQuery","_e$detail$features","selectedId","APP_QUERY","handleMapStyle","APP_CHANGE","init","paddingBox","featureLayers","locationLayers","remove","fitBounds","setCentre","showLocation","zoomIn","zoomOut","setItem","setSize","setStyle","selectFeature","initDraw","role","onClick","point","getPoint","altKey","showLabel","queryPoint","onFocus","onKeyDown","offsets","pan","toUpperCase","panBy","getMapPixel","hideLabel","onKeyUp","_provider$hideLabel","code","fId","getShortcutKey","showNextLabel","substring","onPointerDown","pageX","pageY","onPointerUp","diffX","abs","diffY","drag","onPointerMove","_e$nativeEvent","layerX","layerY","uid","Exit","_options$legend","isBack","handleExit","isDesktop","isQueryMode","isFixed","Path","strokeWidth","focusable","useOutsideInteract","isModal","handleInteractOutside","target","createMessage","suggestions","results","text","EXPAND","isExpanded","COLLAPSE","FOCUS","isFocusWithin","isFocusVisibleWithin","BLUR","MOUSEENTER","CLICK","CHANGE","MIN_SEARCH_LENGTH","SHOW_SUGGESTIONS","HIDE_SUGGESTIONS","REVIEW","SUBMIT","CLEAR","CLEAR_STATUS","UPDATE_STATUS","Autocomplete","_state$value","_state$suggestions","errorText","updateViewport","selectedRef","debounceUpdateSuggest","_ref2","suggest","updateStatus","debounceUpdateStatus","_selectedRef$current","scrollIntoView","onMouseEnter","suggestionId","handleClick","dangerouslySetInnerHTML","marked","getDerivedProps","_search$country","_search$country2","searchWidth","keyWidth","hasClear","formClassName","country","hasPanel","Search","instigatorRef","formRef","clearBtnRef","inputRef","_getDerivedProps","_formRef$current","blur","_x2","handleCollapse","open","onSubmit","suggestion","htmlFor","autoComplete","placeholder","spellCheck","enterKeyHint","onChange","onBlur","isAutocomplete","getClassNames","isInset","getRole","getProps","panelId","hasCloseBtn","hasWidth","Panel","link","isNotObscure","isHideHeading","maxWidth","html","elementRef","bodyRef","handleClose","_getProps","_bodyRef$current","_bodyRef$current2","_bodyRef$current3","scrollHeight","heading","currentTarget","href","stroke","SegmentGroup","group","setQuerySeg","isHidden","isDetails","setIsExpanded","isCustom","handleItemClickOrChange","handleDetailsClick","isChecked","segmentHeader","segmentBody","defaultChecked","baseAttributes","Segments","_legend$segments","More","isRemove","btnRef","previousTabStop","_group$items$find","layout","numItems","numCols","styleAttr","gridTemplateColumns","getLabels","getDisplay","LayerGroup","legendDisplay","hasSymbols","setQueryLyr","_useState4","svg","setSvg","dispatchAppChange","handleButtonClick","handleCheckboxChange","checked","handleRadioChange","groupSummary","reduce","result","isDarkBasemap","keySymbol","preserveAspectRatio","itemInner","_ref3","numLabels","layersHeader","layersBody","child","_ref4","all","fetch","responses","res","texts","icons","parseSVG","Layers","hasHiddenGroups","keyLabel","isEmptyKey","lastRef","nextTabStop","getElementById","Logo","hasDefaultLogo","xmlns","opacity","DrawMenu","_useDrawHandlers","handleAddClick","_drawTools$find","_provider$draw","_activeRef$current","shapeId","handleEditClick","_drawTools$find2","_provider$draw2","_activeRef$current2","edit","handleDeleteClick","_activeRef$current3","APP_ACTION","useDrawHandlers","summary","Tooltip","position","cssModifier","visuallyHiddenText","setIsVisible","hasFocusWithin","setHasFocusWithin","timeoutRef","labelRef","hideTooltip","showTooltip","handleGlobalKeyDown","_labelRef$current","onMouseLeave","onMouseDown","ActionMenu","path","_ref$hasLabel","hasLabel","menuPosition","tooltipPosition","handleSelect","setIndex","buttonRef","menuRef","toolTipId","handleButtonKeyUp","button","_instigatorRef$curren","handleItemClick","DrawShape","selectedDrawMode","console","log","Styles","currentStyleName","currentSize","buttonsRef","_useState","_buttonsRef$current$i","moreLabel","handleStyleClick","handleSizeClick","src","image","draggable","alt","objectPosition","capabilities","hasSize","transform","transformOrigin","Keyboard","LegendButton","legendBtnRef","isCombined","combinedLabel","labels","TITLE","seperateLabel","menu","SVG","KeyButton","keyBtnRef","SearchButton","searchBtnRef","tooltip","StylesButton","stylesBtnRef","strokeLinejoin","strokeLinecap","Zoom","clipRule","Reset","isNewArea","setIsNewArea","isSameCentre","hasReset","sessionStorage","Location","hasGeoLocation","handleGeoLocationSuccess","hasSession","handleGeoLocationError","geoloc","parse","getGeoLocation","cx","cy","MapError","ViewportLabel","getIsPixelVisible","getIsPolygonVisible","isDefaultMode","Actions","_provider$capabilitie","vertexButtonAction","setVertexButtonAction","numVertecies","setNumVertecies","handleDrawEvent","numCoords","coordinates","isVertexTouch","isPixelVisible","isPolygonVisible","hasActions","isUpdateDisabled","isDeleteDisabled","hasInclusiveDraw","newShape","cancel","KeyboardEvent","bubbles","dispatchEvent","EditButton","editBtnRef","HelpButton","helpURL","rel","Attribution","trimmed","trim","inner","Banner","DrawConstraint","areaDisplay","squareMetresToKm","ScaleBar","hasScaleBar","scaleBar","elRef","setScale","units","metric","threshold","symbol","unit","plural","factor","imperial","getRounded","num","pow10","pow","floor","log10","best","metersPerPx","maxWidthPx","unitSystem","maxMeters","_step$value","rounded","fallbackScaled","fallbackRounded","fallbackUnit","getBestScale","Inspector","radiusDisplay","widthDisplay","device","behaviour","isDrawMode","Container","_settings$container$o","_options$draw","CONTAINER_TYPE","CLASS","HEIGHT","isLegendInset","isLegendModal","hasLengedHeading","hasButtons","hasInspector","combindedTitle","seperateTitle","legendTitle","handleColorSchemeMQ","preventScroll","pageTitle","DrawAction","App","_window$history$state","mobileMQ","maxMobile","breakpoints","MAX_MOBILE","desktopMQ","minDesktop","MIN_DESKTOP","setIsMobile","setIsDesktop","_useState6","setInterfaceType","mapProvider","geocodeProvider","GeocodeProvider","transformGeocodeRequest","reverseGeocodeProvider","ReverseGecodeProvider","handleMobileMQ","handleDesktopMQ","SET_INTERFACE_TYPE","root","appRoot","getCoord","geometry","getCoords","coords","getGeom","geojson","wait","timeoutId","_len","args","_key","earthRadius","factors","centimeters","centimetres","degrees","PI","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","radians","yards","geom","properties","feat","bbox","isNumber","polygon","ring","lineString","featureCollection","fc","multiLineString","multiPolygon","radiansToLength","lengthToRadians","distance","radiansToDegrees","degreesToRadians","DOMParser","dom","parseFromString","parseInt","olFill","olStroke","bgFill","bgStroke","fgFill","fgStroke","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","sin","cos","atan2","sqrt","getUnits","RATIO","toFixed","getOffsetBoundingClientRect","metresToKilometres","roundedKm","SQ_KM","km2","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","ceil","radius","centerDisplay","detectCoordinateType","_coords","getDistance","coord1","coord2","p1","TurfPoint","p2","turfDistance","getFocusPadding","box","boxX","boxY","parentX","parentY","getFocusBounds","getDescription","featuresTotal","featuresFocusTotal","isPixelFeaturesInMap","activeFeaturesTotal","activeBounds","newPlace","newArea","ew","ns","getArea","findPlace","isSameZoom","change","ns1","ns2","ew1","ew2","nsd","ewd","bearing","getBearing","ewc","nsc","getDirection","getBoundsChange","description","_coords2","mb","parseFloat","featuresViewport","number","_feature$geometry","_geometry$coordinates","_coordinates$","x1","y1","_coordinates$2","minDist","Infinity","maxDist","minEdge","maxEdge","_coordinates$i","xA","yA","_coordinates","xB","yB","dist","hypot","edgeDist","tolerance","isCirclePolygon","_feature$geometry2","flatCoords","flat","spatialNavigate","start","pixels","quadrant","offsetX","offsetY","distances","small","medium","large","_el$getBoundingClient","clientX","clientY","validStyles","STYLES"],"sourceRoot":""}