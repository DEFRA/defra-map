{"version":3,"file":"js/flood-map.js","mappings":"gBACIA,EADAC,ECAAC,EACAC,E,2QCDJ,IAAMC,EAAY,eACZC,EAAc,cAcPC,EAAc,WAAM,IAAAC,EACzBC,EAA+C,QAA3CD,EAAGE,SAASC,cAAc,IAADC,OAAKP,EAAS,aAAI,IAAAG,OAAA,EAAxCA,EAA0CK,aAAaR,GACpEK,SAASI,gBAAgBC,UAAUC,OAAO,YAAaP,GACvD,IAAMQ,EAAQP,SAASQ,MAAMC,MAAM,OAC7BD,EAAQD,EAAMA,EAAMG,OAAS,GACnCV,SAASQ,MAAQT,EAAO,GAAHG,OAAMH,EAAI,OAAAG,OAAMM,GAAUA,CACjD,EAEaG,EAAc,WACzB,IAC8BC,EAD+BC,E,64BAAAC,CAA5Cd,SAASe,iBAAiB,oBACb,IAA9B,IAAAF,EAAAG,MAAAJ,EAAAC,EAAAI,KAAAC,MAAgC,KAArBC,EAAOP,EAAAQ,MAChBD,EAAQE,gBAAgBzB,GACxBuB,EAAQE,gBAAgB,gBAC1B,CAAC,OAAAC,GAAAT,EAAAU,EAAAD,EAAA,SAAAT,EAAAW,GAAA,CAED,IAAIC,EA3Be,SAACA,GAAO,IAAAC,EAAAC,EAAAC,EACrBC,IAAW7B,SAASC,cAAc,IAADC,OAAKP,EAAS,MACjDmC,EAAY9B,SAASC,cAAc,IAADC,OAAKP,EAAS,QAAQ8B,aAAE,EAAFA,EAAIM,QAAQ,wBACpEC,EAAiB,QAAZN,EAAGI,SAAS,IAAAJ,OAAA,EAATA,EAAWzB,cAAc,6BAC/BgC,EAAqB,QAARN,EAAGK,SAAK,IAAAL,OAAA,EAALA,EAAOO,SAAST,GAChCU,EAA6B,QAAZP,EAAGE,SAAS,IAAAF,OAAA,EAATA,EAAWM,SAAST,GAI9C,OAFAK,EAAYD,GAAUC,GADtBE,GAASH,GAAUM,IAAsBF,GAAiBD,IAG1CF,CAClB,CAiBWM,CAAapC,SAASqC,eAE/B,GAAKZ,EAIL,KAAOA,EAAGa,YAAcb,IAAOzB,SAASuC,MAAM,CAE5C,IADA,IAAIC,EAAUf,EAAGa,WAAWG,WACrBD,GACoB,IAArBA,EAAQE,UAAkBF,IAAYf,GAAOe,EAAQG,aAAa/C,KACpE4C,EAAQI,aAAahD,GAAa,GAClC4C,EAAQI,aAAa,gBAAiB,KAExCJ,EAAUA,EAAQK,YAEpBpB,EAAKA,EAAGa,UACV,CACF,EAEaQ,EAAkB,WAAM,IAAAC,EAAAC,EAC/BvB,EAAKzB,SAASqC,cAEZR,IAAW7B,SAASC,cAAc,IAADC,OAAKP,EAAS,MAC/CmC,EAAY9B,SAASC,cAAc,IAADC,OAAKP,EAAS,QAAU,QAANoD,EAAItB,SAAE,IAAAsB,OAAA,EAAFA,EAAIhB,QAAQ,wBACtEC,EAAQF,aAAS,EAATA,EAAW7B,cAAc,6BAC/BgC,EAAqB,QAARe,EAAGhB,SAAK,IAAAgB,OAAA,EAALA,EAAOd,SAAST,GAChCU,EAAoBL,aAAS,EAATA,EAAWI,SAAST,GAC9CO,GAAUH,GAAUM,IAAsBH,IAAUC,GAAkBD,EACtE,IAAMiB,EAAWpB,IAAWM,GAAqBL,EAAU7B,cAAc,uBACzEwB,EAAKO,GAASiB,IAMdxB,EAAGyB,OACL,EAEaC,EAAiB,SAAA5B,GAC5B,GAAc,QAAVA,EAAE6B,IAAN,CAIA,IAAM3B,EAAKzB,SAASqC,cAAcN,QAAQ,+BAAD7B,OAAgCP,EAAS,MAElF,GAAK8B,EAAL,CAIA,IAQI4B,EAAeC,MAAMC,KAAK9B,EAAGV,iBARf,CAChB,0BACA,yBACA,2BACA,wBACA,yBACA,mCAE0DyC,KAAK,OAE3DC,GADNJ,EAAeA,EAAaK,QAAO,SAAAC,GAAW,QAAMA,EAAYC,YAAY,KACtC,GAChCC,EAAkBR,EAAaA,EAAa3C,OAAS,IAEvDa,EAAEuC,UAAa9D,SAASqC,gBAAkBZ,GAAMzB,SAASqC,gBAAkBoB,IAC7EI,EAAgBX,QAChB3B,EAAEwC,kBAECxC,EAAEuC,UAAa9D,SAASqC,gBAAkBwB,IAC7CJ,EAAiBP,QACjB3B,EAAEwC,iBArBJ,CANA,CA6BF,EAEaC,EAAc,SAACvC,EAAIwC,GAC9B,IAAMZ,EAAerD,SAASe,iBAAiB,4CACzCmD,EAAOZ,MAAMa,UAAUT,OAAOU,KAAKf,GAAc,SAAAgB,GAAU,OAAOA,EAAKC,UAAY,GAAI,IACvFC,EAAQL,EAAKM,QAAQ/C,GAC3B,OAAOyC,EAAmB,SAAdD,EAAuBM,EAAQ,EAAIA,EAAQ,IAAML,EAAK,EACpE,C,iCC3GA,IAAMO,EAAW,CACfC,GAAE,SAAEjD,EAAIkD,EAAOC,GACbnD,EAAGoD,iBAAiBF,GAAO,SAAApD,GAAC,OAAIqD,EAASrD,EAAEuD,OAAO,GACpD,EACAC,SAAQ,SAAEtD,EAAIkD,EAAOK,GACnBvD,EAAGwD,cAAc,IAAIC,YAAYP,EAAO,CAAEG,OAAQE,IACpD,EACAG,OAAM,SAAE1D,EAAIkD,EAAOC,GACjBnD,EAAG2D,oBAAoBT,EAAOC,EAChC,GAGF,K,4ICZO,IAAMS,EAAiB,SAAAC,GAC5B,IACE,OAAOC,KAAKC,MAAMF,EACpB,CAAE,MAAO/D,GACP,OAAO+D,CACT,CACF,EAEaG,EAAS,SAACH,EAAGI,GACxB,OAAOH,KAAKI,UAAUL,KAAOC,KAAKI,UAAUD,EAC9C,EAEaE,EAAgB,SAACC,GAE5B,OADkB,IAAIC,gBAAgBC,OAAOC,SAASC,QACrCC,IAAIL,EACvB,EAEaM,EAAgB,SAACN,GAE5B,OADkB,IAAIC,gBAAgBC,OAAOC,SAASC,QACrCG,IAAIP,EACvB,C,mECpBO,IAAMQ,EAAe,CAC1BC,QAAS,CACPC,UAAWR,OAAOS,WAClBC,WAAYV,OAAOS,WACnBE,YAAa,WACX,IAEE,OADAC,QAAQC,KAAK5G,SAAS6G,eACd7G,SAAS6G,YACnB,CAAE,MAAOC,GACP,OAAO,CACT,CACF,GAEFC,KAAM,CACJR,SAAS,EACTG,YAAa,WACX,QAASpD,MAAMa,UAAU6C,QAC3B,G,4LCjBG,IAAMC,EAAS,CACpBC,MAAO,QACPC,OAAQ,SACRC,MAAO,QACPC,UAAW,WACXC,WAAY,YACZC,UAAW,WACXC,WAAY,YACZC,SAAU,UACVC,SAAU,UACVC,aAAc,cACdC,gBAAiB,gBACjBC,UAAW,WACXC,UAAW,WACXC,SAAU,OACVC,UAAW,SAGAC,EAAW,CACtBC,eAAgB,cAChBC,eAAgB,gBAGLC,EAAW,CACtBC,YAAa,CACXC,WAAY,QACZC,YAAa,SAEfzG,UAAW,CACT0G,YAAa,CACXC,MAAO,mBAETC,OAAQ,CACND,MAAO,YACPE,OAAQ,SAEVC,OAAQ,CACNH,MAAO,YACPE,OAAQ,UAGZE,IAAK,CACHC,KAAM,EACH,SACD,UACA,SACA,WAEFC,SAAU,EACP,SACD,UACA,SACA,WAEFC,OAAQ,EACL,OACD,SAEFC,KAAM,GACNC,SAAU,EACVC,SAAU,IAEZC,OAAQ,CACNC,KAAM,OACNC,WAAY,KACZC,SAAU,MACVC,OAAQ,MACRC,UAAW,KACXC,aAAc,QAILC,EAAU,CACrBC,KAAM,EACNC,IAAK,CACHC,UAAW,EAAE,IAAK,GAClBC,WAAY,CAAC,IAAK,GAClBC,QAAS,CAAC,GAAI,KACdC,UAAW,CAAC,EAAG,MAEjBC,SAAU,CACRJ,UAAW,EAAE,EAAG,GAChBC,WAAY,CAAC,EAAG,GAChBC,QAAS,CAAC,GAAI,GACdC,UAAW,CAAC,EAAG,KAINE,EAAS,CACpBC,IAAK,GACLC,OAAQ,GACRC,KAAM,IAGKrE,EAAS,CACpBsE,UAAW,E,sBC/Fb,MAAMC,EACmB,oBAAfhE,YAA8BA,YACrB,oBAATiE,MAAwBA,WACb,IAAX,EAAAC,GAA0B,EAAAA,EAE9BC,EAAsB,WAC1B,IACE,IAAIH,EAAKI,MAAM,GACjB,CAAE,MAAOC,GACP,OAAO,CACT,CACA,OAAO,CACR,CAP2B,GAStBC,EAA4B,WAChC,IACE,IAAIN,EAAKO,WACX,CAAE,MAAOF,GACP,OAAO,CACT,CACA,OAAO,CACR,CAPiC,GAS9BF,IACFH,EAAKI,MACH,SAAeI,EAAMC,GACjBC,KAAKC,UAAYF,KAAaA,EAAQE,QACtCD,KAAKE,aAAeH,KAAaA,EAAQG,WACzCF,KAAKG,WAAaJ,KAAaA,EAAQI,SACzCH,KAAKF,KAAOA,CACd,GAMAF,IACFN,EAAKO,YAAc,WACjB,SAASA,IACPG,KAAKI,YAAc,IAAIC,GACzB,CA0FA,OAxFAR,EAAY5G,UAAYqH,OAAOC,OAAOD,OAAOrH,WAE7C4G,EAAY5G,UAAUU,iBAAmB,SACvCmG,EACAU,EACAT,GAEA,GAAIU,UAAUjL,OAAS,EACrB,MAAM,IAAIkL,UACR,oGAAsGD,UAAUjL,OAAS,aAG7H,MAAM4K,EAAcJ,KAAKI,YACnBO,EAAab,EAAKc,WACnBR,EAAYlF,IAAIyF,IACnBP,EAAYS,IAAIF,EAAY,IAAIN,KAElC,MAAMS,EAAmBV,EAAYpF,IAAI2F,GACpCG,EAAiB5F,IAAIsF,IAExBM,EAAiBD,IAAIL,EAAUT,EAEnC,EAEAF,EAAY5G,UAAUiB,oBAAsB,SAC1C4F,EACAU,EACAO,GAEA,GAAIN,UAAUjL,OAAS,EACrB,MAAM,IAAIkL,UACR,oGAAsGD,UAAUjL,OAAS,aAG7H,MAAM4K,EAAcJ,KAAKI,YACnBO,EAAab,EAAKc,WACxB,GAAIR,EAAYlF,IAAIyF,GAAa,CAC/B,MAAMG,EAAmBV,EAAYpF,IAAI2F,GACrCG,EAAiB5F,IAAIsF,IACvBM,EAAiBE,OAAOR,EAE5B,CACF,EAEAX,EAAY5G,UAAUc,cAAgB,SAAUN,GAC9C,KAAMA,aAAiBiG,OACrB,MAAM,IAAIgB,UACR,2FAGJ,MAAMZ,EAAOrG,EAAMqG,KAEbgB,EADcd,KAAKI,YACYpF,IAAI8E,GACzC,GAAIgB,EACF,IAAK,IAAIG,KAAgBH,EAAiBI,UAAW,CACnD,MAAMV,EAAWS,EAAa,GACxBlB,EAAUkB,EAAa,GAE7B,IAC0B,mBAAbT,EAETA,EAAStH,KAAK8G,KAAMvG,GACX+G,GAA4C,mBAAzBA,EAASW,aAErCX,EAASW,YAAY1H,EAEzB,CAAE,MAAOrD,GAMPgL,YAAW,KACT,MAAMhL,CAAG,GAEb,CACI2J,GAAWA,EAAQsB,MAGrBP,EAAiBE,OAAOR,EAE5B,CAIF,OAAO,CACT,EAEOX,CACR,CA9FkB,G,GCpCjByB,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUtI,KAAK0I,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAGpEK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,ECxBxBN,EAAoBxL,EAAI,SAAS6L,GAChC,IAAIG,EAASH,GAAUA,EAAOI,WAC7B,WAAa,OAAOJ,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoBU,EAAEF,EAAQ,CAAE3H,EAAG2H,IAC5BA,CACR,ETPIzN,EAAWgM,OAAO4B,eAAiB,SAASC,GAAO,OAAO7B,OAAO4B,eAAeC,EAAM,EAAI,SAASA,GAAO,OAAOA,EAAIC,SAAW,EAQpIb,EAAoBc,EAAI,SAASnM,EAAOoM,GAEvC,GADU,EAAPA,IAAUpM,EAAQ8J,KAAK9J,IAChB,EAAPoM,EAAU,OAAOpM,EACpB,GAAoB,iBAAVA,GAAsBA,EAAO,CACtC,GAAW,EAAPoM,GAAapM,EAAM8L,WAAY,OAAO9L,EAC1C,GAAW,GAAPoM,GAAoC,mBAAfpM,EAAMqM,KAAqB,OAAOrM,CAC5D,CACA,IAAIsM,EAAKlC,OAAOC,OAAO,MACvBgB,EAAoBkB,EAAED,GACtB,IAAIE,EAAM,CAAC,EACXrO,EAAiBA,GAAkB,CAAC,KAAMC,EAAS,CAAC,GAAIA,EAAS,IAAKA,EAASA,IAC/E,IAAI,IAAIqO,EAAiB,EAAPL,GAAYpM,EAAyB,iBAAXyM,KAAyBtO,EAAeiF,QAAQqJ,GAAUA,EAAUrO,EAASqO,GACxHrC,OAAOsC,oBAAoBD,GAASE,SAAQ,SAAS3K,GAAOwK,EAAIxK,GAAO,WAAa,OAAOhC,EAAMgC,EAAM,CAAG,IAI3G,OAFAwK,EAAa,QAAI,WAAa,OAAOxM,CAAO,EAC5CqL,EAAoBU,EAAEO,EAAIE,GACnBF,CACR,EUxBAjB,EAAoBU,EAAI,SAASN,EAASmB,GACzC,IAAI,IAAI5K,KAAO4K,EACXvB,EAAoBwB,EAAED,EAAY5K,KAASqJ,EAAoBwB,EAAEpB,EAASzJ,IAC5EoI,OAAO0C,eAAerB,EAASzJ,EAAK,CAAE+K,YAAY,EAAMjI,IAAK8H,EAAW5K,IAG3E,ECPAqJ,EAAoBjL,EAAI,CAAC,EAGzBiL,EAAoBlL,EAAI,SAAS6M,GAChC,OAAOC,QAAQC,IAAI9C,OAAO+C,KAAK9B,EAAoBjL,GAAGgN,QAAO,SAASC,EAAUrL,GAE/E,OADAqJ,EAAoBjL,EAAE4B,GAAKgL,EAASK,GAC7BA,CACR,GAAG,IACJ,ECPAhC,EAAoBiC,EAAI,SAASN,GAEhC,MAAO,MAAQ,CAAC,IAAM,gBAAgB,IAAM,kBAAkB,IAAM,WAAW,IAAM,gBAAgBA,GAAW,KACjH,ECHA3B,EAAoBkC,SAAW,SAASP,GAGxC,ECJA3B,EAAoB/B,EAAI,WACvB,GAA0B,iBAAflE,WAAyB,OAAOA,WAC3C,IACC,OAAO0E,MAAQ,IAAI0D,SAAS,cAAb,EAChB,CAAE,MAAOrN,GACR,GAAsB,iBAAXwE,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB0G,EAAoBwB,EAAI,SAASZ,EAAKwB,GAAQ,OAAOrD,OAAOrH,UAAU2K,eAAe1K,KAAKiJ,EAAKwB,EAAO,EdAlGpP,EAAa,CAAC,EACdC,EAAoB,YAExB+M,EAAoBsC,EAAI,SAASC,EAAK9N,EAAMkC,EAAKgL,GAChD,GAAG3O,EAAWuP,GAAQvP,EAAWuP,GAAKC,KAAK/N,OAA3C,CACA,IAAIgO,EAAQC,EACZ,QAAWvC,IAARxJ,EAEF,IADA,IAAIgM,EAAUpP,SAASqP,qBAAqB,UACpCC,EAAI,EAAGA,EAAIF,EAAQ1O,OAAQ4O,IAAK,CACvC,IAAItO,EAAIoO,EAAQE,GAChB,GAAGtO,EAAEb,aAAa,QAAU6O,GAAOhO,EAAEb,aAAa,iBAAmBT,EAAoB0D,EAAK,CAAE8L,EAASlO,EAAG,KAAO,CACpH,CAEGkO,IACHC,GAAa,GACbD,EAASlP,SAASuP,cAAc,WAEzBC,QAAU,QACjBN,EAAOO,QAAU,IACbhD,EAAoBiD,IACvBR,EAAOtM,aAAa,QAAS6J,EAAoBiD,IAElDR,EAAOtM,aAAa,eAAgBlD,EAAoB0D,GAExD8L,EAAOS,IAAMX,GAEdvP,EAAWuP,GAAO,CAAC9N,GACnB,IAAI0O,EAAmB,SAASC,EAAMlL,GAErCuK,EAAOY,QAAUZ,EAAOa,OAAS,KACjCC,aAAaP,GACb,IAAIQ,EAAUxQ,EAAWuP,GAIzB,UAHOvP,EAAWuP,GAClBE,EAAO5M,YAAc4M,EAAO5M,WAAW4N,YAAYhB,GACnDe,GAAWA,EAAQlC,SAAQ,SAASoC,GAAM,OAAOA,EAAGxL,EAAQ,IACzDkL,EAAM,OAAOA,EAAKlL,EACtB,EACI8K,EAAUnD,WAAWsD,EAAiBQ,KAAK,UAAMxD,EAAW,CAAE5B,KAAM,UAAWqF,OAAQnB,IAAW,MACtGA,EAAOY,QAAUF,EAAiBQ,KAAK,KAAMlB,EAAOY,SACpDZ,EAAOa,OAASH,EAAiBQ,KAAK,KAAMlB,EAAOa,QACnDZ,GAAcnP,SAASsQ,KAAKC,YAAYrB,EApCkB,CAqC3D,EexCAzC,EAAoBkB,EAAI,SAASd,GACX,oBAAX2D,QAA0BA,OAAOC,aAC1CjF,OAAO0C,eAAerB,EAAS2D,OAAOC,YAAa,CAAErP,MAAO,WAE7DoK,OAAO0C,eAAerB,EAAS,aAAc,CAAEzL,OAAO,GACvD,E,WCNA,IAAIsP,EACAjE,EAAoB/B,EAAEiG,gBAAeD,EAAYjE,EAAoB/B,EAAE1E,SAAW,IACtF,IAAIhG,EAAWyM,EAAoB/B,EAAE1K,SACrC,IAAK0Q,GAAa1Q,IACbA,EAAS4Q,eAAkE,WAAjD5Q,EAAS4Q,cAAcC,QAAQC,gBAC5DJ,EAAY1Q,EAAS4Q,cAAcjB,MAC/Be,GAAW,CACf,IAAItB,EAAUpP,EAASqP,qBAAqB,UAC5C,GAAGD,EAAQ1O,OAEV,IADA,IAAI4O,EAAIF,EAAQ1O,OAAS,EAClB4O,GAAK,KAAOoB,IAAc,aAAaK,KAAKL,KAAaA,EAAYtB,EAAQE,KAAKK,GAE3F,CAID,IAAKe,EAAW,MAAM,IAAIM,MAAM,yDAChCN,EAAYA,EAAUO,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFxE,EAAoByE,EAAIR,EAAY,K,eCbpC,IAAIS,EAAkB,CACrB,GAAI,GAGL1E,EAAoBjL,EAAE4P,EAAI,SAAShD,EAASK,GAE1C,IAAI4C,EAAqB5E,EAAoBwB,EAAEkD,EAAiB/C,GAAW+C,EAAgB/C,QAAWxB,EACtG,GAA0B,IAAvByE,EAGF,GAAGA,EACF5C,EAASQ,KAAKoC,EAAmB,QAC3B,CAGL,IAAIC,EAAU,IAAIjD,SAAQ,SAASkD,EAASC,GAAUH,EAAqBF,EAAgB/C,GAAW,CAACmD,EAASC,EAAS,IACzH/C,EAASQ,KAAKoC,EAAmB,GAAKC,GAGtC,IAAItC,EAAMvC,EAAoByE,EAAIzE,EAAoBiC,EAAEN,GAEpDvD,EAAQ,IAAImG,MAgBhBvE,EAAoBsC,EAAEC,GAfH,SAASrK,GAC3B,GAAG8H,EAAoBwB,EAAEkD,EAAiB/C,KAEf,KAD1BiD,EAAqBF,EAAgB/C,MACR+C,EAAgB/C,QAAWxB,GACrDyE,GAAoB,CACtB,IAAII,EAAY9M,IAAyB,SAAfA,EAAMqG,KAAkB,UAAYrG,EAAMqG,MAChE0G,EAAU/M,GAASA,EAAM0L,QAAU1L,EAAM0L,OAAOV,IACpD9E,EAAM8G,QAAU,iBAAmBvD,EAAU,cAAgBqD,EAAY,KAAOC,EAAU,IAC1F7G,EAAMhF,KAAO,iBACbgF,EAAMG,KAAOyG,EACb5G,EAAM+G,QAAUF,EAChBL,EAAmB,GAAGxG,EACvB,CAEF,GACyC,SAAWuD,EAASA,EAE/D,CAEH,EAaA,IAAIyD,EAAuB,SAASC,EAA4B9M,GAC/D,IAKI0H,EAAU0B,EALV2D,EAAW/M,EAAK,GAChBgN,EAAchN,EAAK,GACnBiN,EAAUjN,EAAK,GAGIsK,EAAI,EAC3B,GAAGyC,EAASG,MAAK,SAASC,GAAM,OAA+B,IAAxBhB,EAAgBgB,EAAW,IAAI,CACrE,IAAIzF,KAAYsF,EACZvF,EAAoBwB,EAAE+D,EAAatF,KACrCD,EAAoBO,EAAEN,GAAYsF,EAAYtF,IAG7CuF,GAAsBA,EAAQxF,EAClC,CAEA,IADGqF,GAA4BA,EAA2B9M,GACrDsK,EAAIyC,EAASrR,OAAQ4O,IACzBlB,EAAU2D,EAASzC,GAChB7C,EAAoBwB,EAAEkD,EAAiB/C,IAAY+C,EAAgB/C,IACrE+C,EAAgB/C,GAAS,KAE1B+C,EAAgB/C,GAAW,CAG7B,EAEIgE,EAAqB3H,KAA2B,qBAAIA,KAA2B,sBAAK,GACxF2H,EAAmBrE,QAAQ8D,EAAqBzB,KAAK,KAAM,IAC3DgC,EAAmBnD,KAAO4C,EAAqBzB,KAAK,KAAMgC,EAAmBnD,KAAKmB,KAAKgC,G,qICvF3E,SAAAC,EAAApE,GAAA,OAAAoE,EAAA,mBAAA7B,QAAA,iBAAAA,OAAA8B,SAAA,SAAArE,GAAA,cAAAA,CAAA,WAAAA,GAAA,OAAAA,GAAA,mBAAAuC,QAAAvC,EAAAsE,cAAA/B,QAAAvC,IAAAuC,OAAArM,UAAA,gBAAA8J,CAAA,EAAAoE,EAAApE,EAAA,UAAAuE,EAAAjR,EAAAoM,GAAA,IAAAJ,EAAA/B,OAAA+C,KAAAhN,GAAA,GAAAiK,OAAAiH,sBAAA,KAAAxE,EAAAzC,OAAAiH,sBAAAlR,GAAAoM,IAAAM,EAAAA,EAAAvK,QAAA,SAAAiK,GAAA,OAAAnC,OAAAkH,yBAAAnR,EAAAoM,GAAAQ,UAAA,KAAAZ,EAAA0B,KAAA0D,MAAApF,EAAAU,EAAA,QAAAV,CAAA,UAAAqF,EAAArR,GAAA,QAAAoM,EAAA,EAAAA,EAAAhC,UAAAjL,OAAAiN,IAAA,KAAAJ,EAAA,MAAA5B,UAAAgC,GAAAhC,UAAAgC,GAAA,GAAAA,EAAA,EAAA6E,EAAAhH,OAAA+B,IAAA,GAAAQ,SAAA,SAAAJ,GAAAkF,EAAAtR,EAAAoM,EAAAJ,EAAAI,GAAA,IAAAnC,OAAAsH,0BAAAtH,OAAAuH,iBAAAxR,EAAAiK,OAAAsH,0BAAAvF,IAAAiF,EAAAhH,OAAA+B,IAAAQ,SAAA,SAAAJ,GAAAnC,OAAA0C,eAAA3M,EAAAoM,EAAAnC,OAAAkH,yBAAAnF,EAAAI,GAAA,WAAApM,CAAA,UAAAyR,EAAAzR,EAAAoM,GAAA,QAAAJ,EAAA,EAAAA,EAAAI,EAAAjN,OAAA6M,IAAA,KAAAU,EAAAN,EAAAJ,GAAAU,EAAAE,WAAAF,EAAAE,aAAA,EAAAF,EAAAgF,cAAA,YAAAhF,IAAAA,EAAAiF,UAAA,GAAA1H,OAAA0C,eAAA3M,EAAA4R,EAAAlF,EAAA7K,KAAA6K,EAAA,WAAAmF,EAAA7F,EAAAhM,GAAA,GAAAA,IAAA,UAAA8Q,EAAA9Q,IAAA,mBAAAA,GAAA,OAAAA,EAAA,YAAAA,EAAA,UAAAqK,UAAA,4EAAArK,GAAA,YAAAA,EAAA,UAAA8R,eAAA,oEAAA9R,CAAA,CAAA+R,CAAA/F,EAAA,UAAAgG,EAAAhG,GAAA,IAAAI,EAAA,mBAAApC,IAAA,IAAAA,SAAA,SAAAgI,EAAA,SAAAhG,GAAA,UAAAA,IAAA,SAAAA,GAAA,eAAAqB,SAAA9C,SAAA1H,KAAAmJ,GAAA/I,QAAA,uBAAAvD,GAAA,yBAAAsM,CAAA,EAAAiG,CAAAjG,GAAA,OAAAA,EAAA,sBAAAA,EAAA,UAAA3B,UAAA,kEAAA+B,EAAA,IAAAA,EAAAvH,IAAAmH,GAAA,OAAAI,EAAAzH,IAAAqH,GAAAI,EAAA5B,IAAAwB,EAAAkG,EAAA,UAAAA,IAAA,gBAAAlG,EAAAhM,EAAAoM,GAAA,GAAA+F,IAAA,OAAAC,QAAAC,UAAAjB,MAAA,KAAAhH,WAAA,IAAAsC,EAAA,OAAAA,EAAAgB,KAAA0D,MAAA1E,EAAA1M,GAAA,IAAA2P,EAAA,IAAA3D,EAAA6C,KAAAuC,MAAApF,EAAAU,IAAA,OAAAN,GAAAkG,EAAA3C,EAAAvD,EAAAxJ,WAAA+M,CAAA,CAAA4C,CAAAvG,EAAA5B,UAAAoI,EAAA,MAAAxB,YAAA,QAAAkB,EAAAtP,UAAAqH,OAAAC,OAAA8B,EAAApJ,UAAA,CAAAoO,YAAA,CAAAnR,MAAAqS,EAAAtF,YAAA,EAAA+E,UAAA,EAAAD,cAAA,KAAAY,EAAAJ,EAAAlG,EAAA,EAAAgG,EAAAhG,EAAA,UAAAmG,IAAA,QAAAnG,GAAAyG,QAAA7P,UAAA8P,QAAA7P,KAAAuP,QAAAC,UAAAI,QAAA,0BAAAzG,GAAA,QAAAmG,EAAA,mBAAAnG,CAAA,cAAAsG,EAAAtG,EAAAhM,GAAA,OAAAsS,EAAArI,OAAA0I,eAAA1I,OAAA0I,eAAA9D,OAAA,SAAA7C,EAAAhM,GAAA,OAAAgM,EAAAD,UAAA/L,EAAAgM,CAAA,EAAAsG,EAAAtG,EAAAhM,EAAA,UAAAwS,EAAAxG,GAAA,OAAAwG,EAAAvI,OAAA0I,eAAA1I,OAAA4B,eAAAgD,OAAA,SAAA7C,GAAA,OAAAA,EAAAD,WAAA9B,OAAA4B,eAAAG,EAAA,EAAAwG,EAAAxG,EAAA,UAAAsF,EAAAtR,EAAAoM,EAAAJ,GAAA,OAAAI,EAAAwF,EAAAxF,MAAApM,EAAAiK,OAAA0C,eAAA3M,EAAAoM,EAAA,CAAAvM,MAAAmM,EAAAY,YAAA,EAAA8E,cAAA,EAAAC,UAAA,IAAA3R,EAAAoM,GAAAJ,EAAAhM,CAAA,UAAA4R,EAAA5F,GAAA,IAAA+B,EAAA,SAAA/B,GAAA,aAAA8E,EAAA9E,KAAAA,EAAA,OAAAA,EAAA,IAAAhM,EAAAgM,EAAAiD,OAAA2D,aAAA,YAAA5S,EAAA,KAAA+N,EAAA/N,EAAA6C,KAAAmJ,EAAAI,UAAA,aAAA0E,EAAA/C,GAAA,OAAAA,EAAA,UAAA1D,UAAA,uDAAAwI,OAAA7G,EAAA,CAAA8G,CAAA9G,GAAA,gBAAA8E,EAAA/C,GAAAA,EAAAA,EAAA,G,OAUZ,IAAAgF,EAA8BvO,OAAtBC,EAAQsO,EAARtO,SAAUuO,EAAOD,EAAPC,QACZC,EAAkB,qBAEXC,EAAQ,SAAAC,GAMnB,SAAAD,EAAatC,EAAIwC,GAAO,IAAAC,EAAAC,EAAAC,EAnBdvH,EAAAU,EAAA1M,EAyBR,GAzBQ,SAAA+D,EAAArE,GAAA,KAAAqE,aAAArE,GAAA,UAAA2K,UAAA,qCAmBcmJ,CAAA,KAAAN,GAnBdlH,EAoBR,KApBQU,EAAA8F,EAAA9F,EAoBRwG,GAAO5B,EAAPiC,EApBQ1B,EAAA7F,EAAAmG,IAAAC,QAAAC,UAAA3F,EAAA,GAAA8F,EAAAxG,GAAAgF,aAAAtE,EAAA0E,MAAApF,EAAAhM,IAoBD,kBAAAsR,EAAAiC,EAAA,gBAAAjC,EAAAiC,EAAA,oBAAAjC,EAAAiC,EAAA,gBACPA,EAAKrT,GAAKzB,SAASgV,eAAe7C,IAGd9L,EAAAA,GAAasO,SAAe,QAAVC,EAALD,EAAOM,gBAAQ,IAAAL,OAAA,EAAfA,EAAiB/O,OAAQ,WAAWa,cAGnE,OADAoO,EAAKI,oBAAoBP,EAAMQ,cAC/B/B,EAAA0B,GAIF,IAAMM,EAAOxC,EAAA,GAAQkC,EAAKrT,GAAG2T,SAC7B5J,OAAO+C,KAAK6G,GAASrH,SAAQ,SAAA3K,GAASgS,EAAQhS,IAAOiC,EAAAA,EAAAA,IAAe+P,EAAQhS,GAAM,IAClF,IAAMiS,EAASrV,SAASgV,eAAeI,EAAQ/E,QAAUsE,EAAMtE,QAAU8B,GACnElH,EAAO2H,EAAAA,EAAA,CAAKT,GAAAA,EAAIkD,OAAAA,EAAQ7U,MAAOR,SAASQ,OAAUmU,GAAUS,GAClEN,EAAKH,MAAQ1J,EACb6J,EAAK3C,GAAKA,EACV2C,EAAKtK,KAAO,KAGZ,IAAQQ,EAAoBC,EAApBD,KAAMsK,EAAcrK,EAAdqK,UACRC,EAAW,eAAHrV,OAAkBoV,GAAalN,EAAAA,GAASC,YAAYC,WAAU,KAuE1E,OAtEFwM,EAAKU,aAAe,IAAI1P,gBAAgB9F,SAASgG,SAASC,QAC1D6O,EAAKW,SAAiB,QAATZ,EAAG9O,cAAM,IAAA8O,OAAA,EAANA,EAAQa,WAAWH,GAAUI,QAC7Cb,EAAKc,UAAYd,EAAKU,aAAatP,IAAI,UAAYiM,GAAe,WAATnH,GAA+B,WAATA,IAAsB8J,EAAKW,SAGtGX,EAAKc,WAAad,EAAKe,mBAG3Bf,EAAKgB,oBAGLhB,EAAKH,MAAMoB,WAAajB,EAAKkB,YAAY5F,KAAI0E,GAG7C/O,OAAOlB,iBAAiB,WAAYiQ,EAAKmB,gBAAgB7F,KAAI0E,IAG7D/O,OAAO2P,WAAWH,GAAU1Q,iBAAiB,SAAUiQ,EAAKoB,gBAAgB9F,KAAI0E,IAGhF/O,OAAOlB,iBAAiB,SAAS,YAAQ/B,EAAAA,EAAAA,KAAkB,IAG3DiD,OAAOlB,iBAAiB,UAAWiQ,EAAKqB,eAAe/F,KAAI0E,IAAQ,GAGnE/O,OAAOlB,iBAAiB,cAAeiQ,EAAKsB,mBAAmBhG,KAAI0E,IACnE/O,OAAOlB,iBAAiB,QAASiQ,EAAKsB,mBAAmBhG,KAAI0E,IAS7D/O,OAAOlB,iBAAiB,WANF,WACfiQ,EAAKuB,YAGVrW,SAASqC,cAAchC,UAAUiW,IAAI9B,EACvC,IAKAzO,OAAOlB,iBAAiB,YADD,SAAAtD,GAAOA,EAAE8O,OAAOhQ,UAAU8E,OAAOqP,EAAiB,IAIzE/P,EAAAA,EAASC,GAAG2Q,EAAQpO,EAAAA,GAAOI,WAAW,SAAArC,GACpC8P,EAAKjM,IAAM7D,EAAK6D,IAChBiM,EAAKyB,QAAUvR,EAAKuR,QACpBzB,EAAK0B,SAAU,EACf/R,EAAAA,EAASM,SAAS+P,EAAKH,MAAMU,OAAQpO,EAAAA,GAAOW,gBAAiBkN,EAAKuB,aAAc,GAEhF5R,EAAAA,EAASM,SAAQ+P,EAAO7N,EAAAA,GAAOC,MAAK0L,EAAA,CAAI5H,KAAM,SAAYhG,IAEtD8P,EAAK2B,OACPhS,EAAAA,EAASM,SAAS+P,EAAKH,MAAMU,OAAQpO,EAAAA,GAAOQ,SAAUqN,EAAK2B,OAEzD3B,EAAK4B,WACPjS,EAAAA,EAASM,SAAS+P,EAAKH,MAAMU,OAAQpO,EAAAA,GAAOU,aAAcmN,EAAK4B,WAE7D5B,EAAK6B,OACPlS,EAAAA,EAASM,SAAS+P,EAAKH,MAAMU,OAAQpO,EAAAA,GAAOS,SAAUoN,EAAK6B,MAE/D,IAGAlS,EAAAA,EAASC,GAAG2Q,EAAQpO,EAAAA,GAAOK,YAAY,SAAAtC,GACrCP,EAAAA,EAASM,SAAQ+P,EAAO7N,EAAAA,GAAOE,OAAQnC,EACzC,IAGAP,EAAAA,EAASC,GAAG2Q,EAAQpO,EAAAA,GAAOM,WAAW,SAAAvC,GACpCP,EAAAA,EAASM,SAAQ+P,EAAO7N,EAAAA,GAAOG,MAAOpC,EACxC,IAAE8P,CACJ,CAAC,OAjHS,SAAAvH,EAAAhM,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAAqK,UAAA,sDAAA2B,EAAApJ,UAAAqH,OAAAC,OAAAlK,GAAAA,EAAA4C,UAAA,CAAAoO,YAAA,CAAAnR,MAAAmM,EAAA2F,UAAA,EAAAD,cAAA,KAAAzH,OAAA0C,eAAAX,EAAA,aAAA2F,UAAA,IAAA3R,GAAAsS,EAAAtG,EAAAhM,EAAA,CAiHTqV,CAAAnC,EAAAC,GAjHSnT,EAiHTkT,EAjHS9G,EAiHT,EAAAvK,IAAA,sBAAAhC,MAED,SAAqB+T,GACnBxO,QAAQC,IAAI,wBACZsE,KAAKzJ,GAAGoV,mBAAmB,cAAe1B,GAAgB,8LAK5D,GAAC,CAAA/R,IAAA,oBAAAhC,MAED,WACE,IAAA0V,EAAmC5L,KAAKyJ,MAAhCoC,EAAUD,EAAVC,WAAYC,EAAUF,EAAVE,WACpB9L,KAAKzJ,GAAGoV,mBAAmB,cAAe,oBAAF3W,OAC3B8F,EAASiR,SAAQ,UAAA/W,OAASgL,KAAKiH,GAAE,aAAAjS,OAA4B,WAAf8W,EAA0B,2BAA6B,oBAAmB,mBAAA9W,OAAmBgL,KAAK0K,UAAY,uBAAyB,GAAE,iVAAA1V,OACoH6W,GAAc,WAAU,iGAIhV,IAAMG,EAAShM,KAAKzJ,GAAG0V,uBACvBD,EAAOrS,iBAAiB,QAASqG,KAAKkM,aAAahH,KAAKlF,OACxDA,KAAKgM,OAASA,CAChB,GAAC,CAAA9T,IAAA,cAAAhC,MAED,WAAe,IAAAiW,EAAAC,EAAA,KACb,GAAiB,QAAjBD,EAAI9C,EAAQgD,aAAK,IAAAF,GAAbA,EAAeG,OACjBjD,EAAQkD,WADV,CAIAvM,KAAKwM,mBACLlM,OAAO+C,KAAKnG,EAAAA,GAASgB,QAAQ2E,SAAQ,SAAA4J,GAAC,OAAIL,EAAK9B,aAAatJ,OAAO9D,EAAAA,GAASgB,OAAOuO,GAAG,IACtF,IAAM3I,EAAMhJ,EAASiR,SAAW/L,KAAKsK,aAAa1J,WAClDyI,EAAQqD,aAAa,CAAEJ,QAAQ,GAAS,GAAIxI,EAJ5C,CAKF,GAAC,CAAA5L,IAAA,eAAAhC,MAED,SAAcG,GACZA,EAAEwC,iBACFwQ,EAAQsD,UAAU,CAAEL,QAAQ,GAAQ,GAAI,GAAFtX,OAAKqB,EAAE8O,OAAOlQ,aAAa,UACjE+K,KAAKgM,OAAOtU,aAAa,eAAgB,IACzCsI,KAAK2K,kBACP,GAAC,CAAAzS,IAAA,kBAAAhC,MAED,SAAiBG,GACf2J,KAAKuK,SAAWlU,EAAEoU,QAClB,IAAQ3K,EAASE,KAAKyJ,MAAd3J,KACF8M,EAAgB,IAAIhS,gBAAgB9F,SAASgG,SAASC,QAASC,IAAI,UAAYgF,KAAKiH,GAC1FjH,KAAK0K,UAAakC,GAAyB,WAAT9M,GAA+B,WAATA,IAAsBE,KAAKuK,SAC/EvK,KAAK0K,UACP1K,KAAK2K,mBAEL3K,KAAKwM,kBAET,GAAC,CAAAtU,IAAA,kBAAAhC,MAED,WAAmB,IAAA2W,EACT/M,EAASE,KAAKyJ,MAAd3J,KACS,QAAjB+M,EAAIxD,EAAQgD,aAAK,IAAAQ,GAAbA,EAAeP,OACjBtM,KAAK2K,oBACa,gBAAT7K,GAAoC,WAATA,GAAqBE,KAAKuK,WAC9DvK,KAAKwM,kBAIT,GAAC,CAAAtU,IAAA,iBAAAhC,MAED,SAAgBG,GACA,QAAVA,EAAE6B,MAGN8H,KAAKmL,YAAa,EAClB5R,EAAAA,EAASM,SAASmG,KAAKyJ,MAAMU,OAAQpO,EAAAA,GAAOW,iBAAiB,GAC/D,GAAC,CAAAxE,IAAA,qBAAAhC,MAED,WACEqD,EAAAA,EAASM,SAASmG,KAAKyJ,MAAMU,OAAQpO,EAAAA,GAAOW,iBAAiB,GAC7D5H,SAASqC,cAAchC,UAAU8E,OAAOqP,GACxCtJ,KAAKmL,YAAa,CACpB,GAAC,CAAAjT,IAAA,mBAAAhC,MAED,WAAoB,IAAA4W,EAAA,KAClB,6BAA2DvK,MAAK,SAAAX,GAC9DkL,EAAKC,cAAcnL,EACrB,GACF,GAAC,CAAA1J,IAAA,gBAAAhC,MAED,SAAe0L,GACT5B,KAAKV,OAGTU,KAAKgM,OAAOtU,aAAa,QAAS,iBAClCsI,KAAKV,KAAOsC,EAAOxG,QAAQ4E,KAAKzJ,GAAEmR,EAAAA,EAAA,GAAO1H,KAAKyJ,OAAK,IAAE0B,WAAYnL,KAAKmL,cACxE,GAAC,CAAAjT,IAAA,mBAAAhC,MAED,WAAoB,IAAA8W,EAClBhN,KAAKgM,OAAO7V,gBAAgB,SAC5B6J,KAAKgM,OAAO7V,gBAAgB,aAC5B6J,KAAKgM,OAAOhU,QACH,QAATgV,EAAAhN,KAAKV,YAAI,IAAA0N,GAATA,EAAWC,UACXjN,KAAKV,KAAO,KACZU,KAAKwL,UAAY,KACjBxL,KAAKuL,MAAQ,MACb5W,EAAAA,EAAAA,OACAc,EAAAA,EAAAA,KACF,GAAC,CAAAyC,IAAA,OAAA8C,IAED,WACE,OAAOgF,KAAKuL,KACd,EAAC1K,IAED,SAAU3K,GACR8J,KAAKuL,MAAQrV,EACR8J,KAAKsL,SAGV/R,EAAAA,EAASM,SAASmG,KAAKyJ,MAAMU,OAAQpO,EAAAA,GAAOQ,SAAUyD,KAAKuL,MAC7D,GAAC,CAAArT,IAAA,SAAA8C,IAED,WACE,OAAOgF,KAAKwL,SACd,EAAC3K,IAED,SAAY3K,GACV8J,KAAKwL,UAAYtV,EACZ8J,KAAKsL,SAGV/R,EAAAA,EAASM,SAASmG,KAAKyJ,MAAMU,OAAQpO,EAAAA,GAAOU,aAAcuD,KAAKwL,UACjE,GAAC,CAAAtT,IAAA,OAAA8C,IAED,WACE,OAAOgF,KAAKyL,KACd,EAAC5K,IAED,SAAU3K,GACR8J,KAAKyL,MAAQvV,EACR8J,KAAKsL,SAGV/R,EAAAA,EAASM,SAASmG,KAAKyJ,MAAMU,OAAQpO,EAAAA,GAAOS,SAAUwD,KAAKyL,MAC7D,IA5PUhJ,GAAAqF,EAAAzR,EAAA4C,UAAAwJ,GAAAnC,OAAA0C,eAAA3M,EAAA,aAAA2R,UAAA,IAAA3R,EAAA,IAAAA,EAAAoM,CA4PT,CA/OkB,CA+OlB4F,EA/O2BxI,a","sources":["webpack://defraMap/webpack/runtime/create fake namespace object","webpack://defraMap/webpack/runtime/load script","webpack://defraMap/./src/js/lib/dom.js","webpack://defraMap/./src/js/lib/eventbus.js","webpack://defraMap/./src/js/lib/utils.js","webpack://defraMap/./src/js/store/capabilities.js","webpack://defraMap/./src/js/store/constants.js","webpack://defraMap/./node_modules/event-target-polyfill/index.js","webpack://defraMap/webpack/bootstrap","webpack://defraMap/webpack/runtime/compat get default export","webpack://defraMap/webpack/runtime/define property getters","webpack://defraMap/webpack/runtime/ensure chunk","webpack://defraMap/webpack/runtime/get javascript chunk filename","webpack://defraMap/webpack/runtime/get mini-css chunk filename","webpack://defraMap/webpack/runtime/global","webpack://defraMap/webpack/runtime/hasOwnProperty shorthand","webpack://defraMap/webpack/runtime/make namespace object","webpack://defraMap/webpack/runtime/publicPath","webpack://defraMap/webpack/runtime/jsonp chunk loading","webpack://defraMap/./src/flood-map.js"],"sourcesContent":["var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"defraMap:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","const ATTR_PAGE = 'data-fm-page'\nconst ARIA_HIDDEN = 'aria-hidden'\n\nconst getContainer = (el) => {\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  let container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = (isPage || isWithinContainer) && isWithinModal && modal\n  container = isPage && container\n\n  return modal || container\n}\n\nexport const updateTitle = () => {\n  const page = document.querySelector(`[${ATTR_PAGE}]`)?.getAttribute(ATTR_PAGE)\n  document.documentElement.classList.toggle('fm-page', !!page)\n  const parts = document.title.split(' - ')\n  const title = parts[parts.length - 1]\n  document.title = page ? `${page} - ${title}` : title\n}\n\nexport const toggleInert = () => {\n  const inertEls = document.querySelectorAll('[data-fm-inert]')\n  for (const inertEl of inertEls) {\n    inertEl.removeAttribute(ARIA_HIDDEN)\n    inertEl.removeAttribute('data-fm-inert')\n  }\n\n  let el = getContainer(document.activeElement)\n\n  if (!el) {\n    return\n  }\n\n  while (el.parentNode && el !== document.body) {\n    let sibling = el.parentNode.firstChild\n    while (sibling) {\n      if (sibling.nodeType === 1 && sibling !== el && !sibling.hasAttribute(ARIA_HIDDEN)) {\n        sibling.setAttribute(ARIA_HIDDEN, true)\n        sibling.setAttribute('data-fm-inert', '')\n      }\n      sibling = sibling.nextSibling\n    }\n    el = el.parentNode\n  }\n}\n\nexport const setInitialFocus = () => {\n  let el = document.activeElement\n\n  const isPage = !!document.querySelector(`[${ATTR_PAGE}]`)\n  const container = document.querySelector(`[${ATTR_PAGE}]`) || el?.closest('[data-fm-container]')\n  let modal = container?.querySelector('[aria-modal=\"true\"][open]')\n  const isWithinModal = modal?.contains(el)\n  const isWithinContainer = container?.contains(el)\n  modal = ((isPage || isWithinContainer) && modal && !isWithinModal) && modal\n  const viewport = isPage && !isWithinContainer && container.querySelector('[data-fm-viewport]')\n  el = modal || viewport\n\n  if (!el) {\n    return\n  }\n\n  el.focus()\n}\n\nexport const constrainFocus = e => {\n  if (e.key !== 'Tab') {\n    return\n  }\n\n  const el = document.activeElement.closest(`[aria-modal=\"true\"][open], [${ATTR_PAGE}]`)\n\n  if (!el) {\n    return\n  }\n\n  const selectors = [\n    'a[href]:not([disabled])',\n    'button:not([disabled])',\n    'textarea:not([disabled])',\n    'input:not([disabled])',\n    'select:not([disabled])',\n    '*[tabindex=\"0\"]:not([disabled])'\n  ]\n  let focusableEls = Array.from(el.querySelectorAll(selectors.join(',')))\n  focusableEls = focusableEls.filter(focusableEl => !!focusableEl.offsetParent)\n  const firstFocusableEl = focusableEls[0]\n  const lastFocusableEl = focusableEls[focusableEls.length - 1]\n\n  if (e.shiftKey && (document.activeElement === el || document.activeElement === firstFocusableEl)) {\n    lastFocusableEl.focus()\n    e.preventDefault()\n  }\n  if (!e.shiftKey && (document.activeElement === lastFocusableEl)) {\n    firstFocusableEl.focus()\n    e.preventDefault()\n  }\n}\n\nexport const findTabStop = (el, direction) => {\n  const focusableEls = document.querySelectorAll('input, button, select, textarea, a[href]')\n  const list = Array.prototype.filter.call(focusableEls, item => { return item.tabIndex >= '0' })\n  const index = list.indexOf(el)\n  return list[direction === 'next' ? index + 1 : index - 1] || list[0]\n}\n","const eventBus = {\n  on (el, event, callback) {\n    el.addEventListener(event, e => callback(e.detail))\n  },\n  dispatch (el, event, data) {\n    el.dispatchEvent(new CustomEvent(event, { detail: data }))\n  },\n  remove (el, event, callback) {\n    el.removeEventListener(event, callback)\n  }\n}\n\nexport default eventBus\n","export const parseAttribute = a => {\n  try {\n    return JSON.parse(a)\n  } catch (e) {\n    return a\n  }\n}\n\nexport const isSame = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b)\n}\n\nexport const getQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.get(name)\n}\n\nexport const hasQueryParam = (name) => {\n  const urlParams = new URLSearchParams(window.location.search)\n  return urlParams.has(name)\n}\n","export const capabilities = {\n  default: {\n    hasSize: !!window.globalThis,\n    isLatest: !!window.globalThis,\n    isSupported: () => {\n      try {\n        console.log(!document.documentMode)\n        return !document.documentMode\n      } catch (_) {\n        return false\n      }\n    }\n  },\n  esri: {\n    hasSize: false,\n    isSupported: () => {\n      return !!Array.prototype.findLast\n    }\n  }\n}\n","export const events = {\n  READY: 'ready',\n  CHANGE: 'change',\n  QUERY: 'query',\n  APP_READY: 'appready',\n  APP_CHANGE: 'appchange',\n  APP_QUERY: 'appquery',\n  SET_SEARCH: 'setsearch',\n  SET_INFO: 'setinfo',\n  SET_DRAW: 'setdraw',\n  SET_SELECTED: 'setselected',\n  SET_IS_KEYBOARD: 'setiskeyboard',\n  MAP_QUERY: 'mapquery',\n  MAP_CLICK: 'mapclick',\n  MAP_LOAD: 'load',\n  MAP_STYLE: 'style'\n}\n\nexport const defaults = {\n  CONTAINER_TYPE: 'buttonFirst',\n  PANEL_POSITION: 'overlayRight'\n}\n\nexport const settings = {\n  breakpoints: {\n    MAX_MOBILE: '640px',\n    MIN_DESKTOP: '835px'\n  },\n  container: {\n    buttonFirst: {\n      CLASS: 'fm-button-first'\n    },\n    hybrid: {\n      CLASS: 'fm-hybrid',\n      HEIGHT: '600px'\n    },\n    inline: {\n      CLASS: 'fm-inline',\n      HEIGHT: '400px'\n    }\n  },\n  map: {\n    BBOX: [\n      -5.719993,\n      49.955638,\n      1.794689,\n      55.825973\n    ],\n    MAX_BBOX: [\n      -5.719993,\n      49.955638,\n      1.794689,\n      55.825973\n    ],\n    CENTRE: [\n      -1.4758,\n      52.9219\n    ],\n    ZOOM: 12,\n    MIN_ZOOM: 6,\n    MAX_ZOOM: 16\n  },\n  params: {\n    view: 'view',\n    centreZoom: 'cz',\n    segments: 'seg',\n    layers: 'lyr',\n    featureId: 'id',\n    targetMarker: 'qxy'\n  }\n}\n\nexport const offsets = {\n  drag: 2,\n  pan: {\n    ARROWLEFT: [-100, 0],\n    ARROWRIGHT: [100, 0],\n    ARROWUP: [0, -100],\n    ARROWDOWN: [0, 100]\n  },\n  shiftPan: {\n    ARROWLEFT: [-5, 0],\n    ARROWRIGHT: [5, 0],\n    ARROWUP: [0, -5],\n    ARROWDOWN: [0, 5]\n  }\n}\n\nexport const margin = {\n  TOP: 90,\n  BOTTOM: 15,\n  LEFT: 70\n}\n\nexport const search = {\n  MIN_CHARS: 3\n}\n","const root =\n  (typeof globalThis !== \"undefined\" && globalThis) ||\n  (typeof self !== \"undefined\" && self) ||\n  (typeof global !== \"undefined\" && global);\n\nconst shouldPolyfillEvent = (function() {\n  try {\n    new root.Event(\"\");\n  } catch (error) {\n    return true;\n  }\n  return false;\n})();\n\nconst shouldPolyfillEventTarget = (function() {\n  try {\n    new root.EventTarget();\n  } catch (error) {\n    return true;\n  }\n  return false;\n})();\n\nif (shouldPolyfillEvent) {\n  root.Event = (function () {\n    function Event(type, options) {\n        this.bubbles = !!options && !!options.bubbles;\n        this.cancelable = !!options && !!options.cancelable;\n        this.composed = !!options && !!options.composed;\n      this.type = type;\n    }\n\n    return Event;\n  })();\n}\n\nif (shouldPolyfillEventTarget) {\n  root.EventTarget = (function () {\n    function EventTarget() {\n      this.__listeners = new Map();\n    }\n\n    EventTarget.prototype = Object.create(Object.prototype);\n\n    EventTarget.prototype.addEventListener = function (\n      type,\n      listener,\n      options\n    ) {\n      if (arguments.length < 2) {\n        throw new TypeError(\n          \"TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only \" + arguments.length + \" present.\"\n        );\n      }\n      const __listeners = this.__listeners;\n      const actualType = type.toString();\n      if (!__listeners.has(actualType)) {\n        __listeners.set(actualType, new Map());\n      }\n      const listenersForType = __listeners.get(actualType);\n      if (!listenersForType.has(listener)) {\n        // Any given listener is only registered once\n        listenersForType.set(listener, options);\n      }\n    };\n\n    EventTarget.prototype.removeEventListener = function (\n      type,\n      listener,\n      _options\n    ) {\n      if (arguments.length < 2) {\n        throw new TypeError(\n          \"TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only \" + arguments.length + \" present.\"\n        );\n      }\n      const __listeners = this.__listeners;\n      const actualType = type.toString();\n      if (__listeners.has(actualType)) {\n        const listenersForType = __listeners.get(actualType);\n        if (listenersForType.has(listener)) {\n          listenersForType.delete(listener);\n        }\n      }\n    };\n\n    EventTarget.prototype.dispatchEvent = function (event) {\n      if (!(event instanceof Event)) {\n        throw new TypeError(\n          \"Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.\"\n        );\n      }\n      const type = event.type;\n      const __listeners = this.__listeners;\n      const listenersForType = __listeners.get(type);\n      if (listenersForType) {\n        for (var listnerEntry of listenersForType.entries()) {\n          const listener = listnerEntry[0];\n          const options = listnerEntry[1];\n\n          try {\n            if (typeof listener === \"function\") {\n              // Listener functions must be executed with the EventTarget as the `this` context.\n              listener.call(this, event);\n            } else if (listener && typeof listener.handleEvent === \"function\") {\n              // Listener objects have their handleEvent method called, if they have one\n              listener.handleEvent(event);\n            }\n          } catch (err) {\n            // We need to report the error to the global error handling event,\n            // but we do not want to break the loop that is executing the events.\n            // Unfortunately, this is the best we can do, which isn't great, because the\n            // native EventTarget will actually do this synchronously before moving to the next\n            // event in the loop.\n            setTimeout(() => {\n              throw err;\n            });\n          }\n          if (options && options.once) {\n            // If this was registered with { once: true }, we need\n            // to remove it now.\n            listenersForType.delete(listener);\n          }\n        }\n      }\n      // Since there are no cancellable events on a base EventTarget,\n      // this should always return true.\n      return true;\n    };\n\n    return EventTarget;\n  })();\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + {\"194\":\"maplibre-draw\",\"689\":\"maplibre-legacy\",\"803\":\"maplibre\",\"835\":\"flood-map-ui\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl + \"../\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t68: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdefraMap\"] = self[\"webpackChunkdefraMap\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","'use strict'\nimport { events, settings } from './js/store/constants.js'\nimport { capabilities } from './js/store/capabilities.js'\nimport { parseAttribute } from './js/lib/utils.js'\nimport { setInitialFocus, updateTitle, toggleInert } from './js/lib/dom.js'\nimport eventBus from './js/lib/eventbus.js'\n\n// Polyfills\nimport 'event-target-polyfill'\n\nconst { location, history } = window\nconst cssFocusVisible = 'fm-u-focus-visible'\n\nexport class FloodMap extends EventTarget {\n  _search\n  _info\n  _selected\n  _draw\n\n  constructor (id, props) {\n    super()\n    this.el = document.getElementById(id)\n\n    // Check capabilities\n    const isSupported = capabilities[props?.provider?.name || 'default'].isSupported()\n    if (!isSupported) {\n      this._insertNotSupported(props.fallBackHTML)\n      return\n    }\n\n    // Merge props\n    const dataset = { ...this.el.dataset }\n    Object.keys(dataset).forEach(key => { dataset[key] = parseAttribute(dataset[key]) })\n    const parent = document.getElementById(dataset.target || props.target || id)\n    const options = { id, parent, title: document.title, ...props, ...dataset }\n    this.props = options\n    this.id = id\n    this.root = null\n\n    // Get visibility\n    const { type, maxMobile } = options\n    const mobileMQ = `(max-width: ${maxMobile || settings.breakpoints.MAX_MOBILE})`\n    this.searchParams = new URLSearchParams(document.location.search)\n    this.isMobile = window?.matchMedia(mobileMQ).matches\n    this.isVisible = this.searchParams.get('view') === id || type === 'inline' || (type === 'hybrid' && !this.isMobile)\n\n    // Add app\n    if (this.isVisible) { this._importComponent() }\n\n    // Add button\n    this._insertButtonHTML()\n\n    // Exit map\n    this.props.handleExit = this._handleExit.bind(this)\n\n    // History change add/remove app\n    window.addEventListener('popstate', this._handlePopstate.bind(this))\n\n    // Responsive add/remove app\n    window.matchMedia(mobileMQ).addEventListener('change', this._handleMobileMQ.bind(this))\n\n    // Set initial focus\n    window.addEventListener('focus', () => { setInitialFocus() })\n\n    // Set isKeyboard\n    window.addEventListener('keydown', this._handleKeydown.bind(this), true)\n\n    // Unset isKeyboard\n    window.addEventListener('pointerdown', this._handlePointerdown.bind(this))\n    window.addEventListener('wheel', this._handlePointerdown.bind(this))\n\n    // Polyfil :focus-visible set\n    const handleFocusIn = () => {\n      if (!this.isKeyboard) {\n        return\n      }\n      document.activeElement.classList.add(cssFocusVisible)\n    }\n    window.addEventListener('focusin', handleFocusIn)\n\n    // Polyfil :focus-visible remove\n    const handleFocusOut = e => { e.target.classList.remove(cssFocusVisible) }\n    window.addEventListener('focusout', handleFocusOut)\n\n    // Component ready\n    eventBus.on(parent, events.APP_READY, data => {\n      this.map = data.map\n      this.modules = data.modules\n      this.isReady = true\n      eventBus.dispatch(this.props.parent, events.SET_IS_KEYBOARD, this.isKeyboard || false)\n      // We now have a reference to the map\n      eventBus.dispatch(this, events.READY, { type: 'ready', ...data })\n      // Need to call these after the component is ready\n      if (this._info) {\n        eventBus.dispatch(this.props.parent, events.SET_INFO, this._info)\n      }\n      if (this._selected) {\n        eventBus.dispatch(this.props.parent, events.SET_SELECTED, this._selected)\n      }\n      if (this._draw) {\n        eventBus.dispatch(this.props.parent, events.SET_DRAW, this._draw)\n      }\n    })\n\n    // Change, eg segment, layer or style\n    eventBus.on(parent, events.APP_CHANGE, data => {\n      eventBus.dispatch(this, events.CHANGE, data)\n    })\n\n    // Query, eg Click or keyboard\n    eventBus.on(parent, events.APP_QUERY, data => {\n      eventBus.dispatch(this, events.QUERY, data)\n    })\n  }\n\n  _insertNotSupported (fallBackHTML) {\n    console.log('Device not supported')\n    this.el.insertAdjacentHTML('beforebegin', fallBackHTML || `\n      <div class=\"fm-error\" role=\"alert\">\n        <p class=\"govuk-body\">Your device is not supporterd. A map would be a available with a more up-to-date device.</p>\n      </div>\n    `)\n  }\n\n  _insertButtonHTML () {\n    const { buttonText, buttonType } = this.props\n    this.el.insertAdjacentHTML('beforebegin', `\n      <a href=\"${location.pathname}?view=${this.id}\" class=\"${(buttonType === 'anchor' ? 'fm-c-btn-open-map-anchor' : 'fm-c-btn-open-map')} govuk-body-s\" ${this.isVisible ? 'style=\"display:none\"' : ''} role=\"button\">\n          <svg focusable='false' aria-hidden='true' width='16' height='20' viewBox='0 0 16 20' fillRule='evenodd'><path d='M15 7.5c.009 3.778-4.229 9.665-7.5 12.5C4.229 17.165-.009 11.278 0 7.5a7.5 7.5 0 1 1 15 0z'/><path d='M7.5 12.961a5.46 5.46 0 1 0 0-10.922 5.46 5.46 0 1 0 0 10.922z' fill='#fff'/></svg><span>${buttonText || 'Map view'}</span>\n          <span class='fm-u-visually-hidden'>(Visual only)</span>\n      </a>\n    `)\n    const button = this.el.previousElementSibling\n    button.addEventListener('click', this._handleClick.bind(this))\n    this.button = button\n  }\n\n  _handleExit () {\n    if (history.state?.isBack) {\n      history.back()\n      return\n    }\n    this._removeComponent()\n    Object.keys(settings.params).forEach(k => this.searchParams.delete(settings.params[k]))\n    const url = location.pathname + this.searchParams.toString()\n    history.replaceState({ isBack: false }, '', url)\n  }\n\n  _handleClick (e) {\n    e.preventDefault()\n    history.pushState({ isBack: true }, '', `${e.target.getAttribute('href')}`)\n    this.button.setAttribute('data-fm-open', '')\n    this._importComponent()\n  }\n\n  _handleMobileMQ (e) {\n    this.isMobile = e.matches\n    const { type } = this.props\n    const hasViewParam = (new URLSearchParams(document.location.search)).get('view') === this.id\n    this.isVisible = (hasViewParam || type === 'inline' || (type === 'hybrid' && !this.isMobile))\n    if (this.isVisible) {\n      this._importComponent()\n    } else {\n      this._removeComponent()\n    }\n  }\n\n  _handlePopstate () {\n    const { type } = this.props\n    if (history.state?.isBack) {\n      this._importComponent()\n    } else if (type === 'buttonFirst' || (type === 'hybrid' && this.isMobile)) {\n      this._removeComponent()\n    } else {\n      // No action\n    }\n  }\n\n  _handleKeydown (e) {\n    if (e.key !== 'Tab') {\n      return\n    }\n    this.isKeyboard = true\n    eventBus.dispatch(this.props.parent, events.SET_IS_KEYBOARD, true)\n  }\n\n  _handlePointerdown () {\n    eventBus.dispatch(this.props.parent, events.SET_IS_KEYBOARD, false)\n    document.activeElement.classList.remove(cssFocusVisible)\n    this.isKeyboard = false\n  }\n\n  _importComponent () {\n    import(/* webpackChunkName: \"flood-map-ui\" */ './root.js').then(module => {\n      this._addComponent(module)\n    })\n  }\n\n  _addComponent (module) {\n    if (this.root) {\n      return\n    }\n    this.button.setAttribute('style', 'display: none')\n    this.root = module.default(this.el, { ...this.props, isKeyboard: this.isKeyboard })\n  }\n\n  _removeComponent () {\n    this.button.removeAttribute('style')\n    this.button.removeAttribute('data-open')\n    this.button.focus()\n    this.root?.unmount()\n    this.root = null\n    this._selected = null\n    this._info = null\n    updateTitle()\n    toggleInert()\n  }\n\n  get info () {\n    return this._info\n  }\n\n  set info (value) {\n    this._info = value\n    if (!this.isReady) {\n      return\n    }\n    eventBus.dispatch(this.props.parent, events.SET_INFO, this._info)\n  }\n\n  get select () {\n    return this._selected\n  }\n\n  set select (value) {\n    this._selected = value\n    if (!this.isReady) {\n      return\n    }\n    eventBus.dispatch(this.props.parent, events.SET_SELECTED, this._selected)\n  }\n\n  get draw () {\n    return this._draw\n  }\n\n  set draw (value) {\n    this._draw = value\n    if (!this.isReady) {\n      return\n    }\n    eventBus.dispatch(this.props.parent, events.SET_DRAW, this._draw)\n  }\n}\n"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","ATTR_PAGE","ARIA_HIDDEN","updateTitle","_document$querySelect","page","document","querySelector","concat","getAttribute","documentElement","classList","toggle","parts","title","split","length","toggleInert","_step","_iterator","_createForOfIteratorHelper","querySelectorAll","s","n","done","inertEl","value","removeAttribute","err","e","f","el","_container","_modal","_container2","isPage","container","closest","modal","isWithinModal","contains","isWithinContainer","getContainer","activeElement","parentNode","body","sibling","firstChild","nodeType","hasAttribute","setAttribute","nextSibling","setInitialFocus","_el","_modal2","viewport","focus","constrainFocus","key","focusableEls","Array","from","join","firstFocusableEl","filter","focusableEl","offsetParent","lastFocusableEl","shiftKey","preventDefault","findTabStop","direction","list","prototype","call","item","tabIndex","index","indexOf","eventBus","on","event","callback","addEventListener","detail","dispatch","data","dispatchEvent","CustomEvent","remove","removeEventListener","parseAttribute","a","JSON","parse","isSame","b","stringify","getQueryParam","name","URLSearchParams","window","location","search","get","hasQueryParam","has","capabilities","default","hasSize","globalThis","isLatest","isSupported","console","log","documentMode","_","esri","findLast","events","READY","CHANGE","QUERY","APP_READY","APP_CHANGE","APP_QUERY","SET_SEARCH","SET_INFO","SET_DRAW","SET_SELECTED","SET_IS_KEYBOARD","MAP_QUERY","MAP_CLICK","MAP_LOAD","MAP_STYLE","defaults","CONTAINER_TYPE","PANEL_POSITION","settings","breakpoints","MAX_MOBILE","MIN_DESKTOP","buttonFirst","CLASS","hybrid","HEIGHT","inline","map","BBOX","MAX_BBOX","CENTRE","ZOOM","MIN_ZOOM","MAX_ZOOM","params","view","centreZoom","segments","layers","featureId","targetMarker","offsets","drag","pan","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","shiftPan","margin","TOP","BOTTOM","LEFT","MIN_CHARS","root","self","g","shouldPolyfillEvent","Event","error","shouldPolyfillEventTarget","EventTarget","type","options","this","bubbles","cancelable","composed","__listeners","Map","Object","create","listener","arguments","TypeError","actualType","toString","set","listenersForType","_options","delete","listnerEntry","entries","handleEvent","setTimeout","once","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","getter","__esModule","d","getPrototypeOf","obj","__proto__","t","mode","then","ns","r","def","current","getOwnPropertyNames","forEach","definition","o","defineProperty","enumerable","chunkId","Promise","all","keys","reduce","promises","u","miniCssF","Function","prop","hasOwnProperty","l","url","push","script","needAttach","scripts","getElementsByTagName","i","createElement","charset","timeout","nc","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","removeChild","fn","bind","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","currentScript","tagName","toUpperCase","test","Error","replace","p","installedChunks","j","installedChunkData","promise","resolve","reject","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","id","chunkLoadingGlobal","_typeof","iterator","constructor","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","apply","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_defineProperties","configurable","writable","_toPropertyKey","_possibleConstructorReturn","ReferenceError","_assertThisInitialized","_wrapNativeSuper","_isNativeFunction","Wrapper","_isNativeReflectConstruct","Reflect","construct","_setPrototypeOf","_construct","_getPrototypeOf","Boolean","valueOf","setPrototypeOf","toPrimitive","String","_toPrimitive","_window","history","cssFocusVisible","FloodMap","_EventTarget","props","_props$provider","_window2","_this","_classCallCheck","getElementById","provider","_insertNotSupported","fallBackHTML","dataset","parent","maxMobile","mobileMQ","searchParams","isMobile","matchMedia","matches","isVisible","_importComponent","_insertButtonHTML","handleExit","_handleExit","_handlePopstate","_handleMobileMQ","_handleKeydown","_handlePointerdown","isKeyboard","add","modules","isReady","_info","_selected","_draw","_inherits","insertAdjacentHTML","_this$props","buttonText","buttonType","pathname","button","previousElementSibling","_handleClick","_history$state","_this2","state","isBack","back","_removeComponent","k","replaceState","pushState","hasViewParam","_history$state2","_this3","_addComponent","_this$root","unmount"],"sourceRoot":""}