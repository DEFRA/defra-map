/*! For license information please see flood-map.js.LICENSE.txt */
!function(){var t,e,r,n,o={121:function(t,e,r){const n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,o=function(){try{new n.Event("")}catch(t){return!0}return!1}(),i=function(){try{new n.EventTarget}catch(t){return!0}return!1}();o&&(n.Event=function(t,e){this.bubbles=!!e&&!!e.bubbles,this.cancelable=!!e&&!!e.cancelable,this.composed=!!e&&!!e.composed,this.type=t}),i&&(n.EventTarget=function(){function t(){this.__listeners=new Map}return t.prototype=Object.create(Object.prototype),t.prototype.addEventListener=function(t,e,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const n=this.__listeners,o=t.toString();n.has(o)||n.set(o,new Map);const i=n.get(o);i.has(e)||i.set(e,r)},t.prototype.removeEventListener=function(t,e,r){if(arguments.length<2)throw new TypeError("TypeError: Failed to execute 'addEventListener' on 'EventTarget': 2 arguments required, but only "+arguments.length+" present.");const n=this.__listeners,o=t.toString();if(n.has(o)){const t=n.get(o);t.has(e)&&t.delete(e)}},t.prototype.dispatchEvent=function(t){if(!(t instanceof Event))throw new TypeError("Failed to execute 'dispatchEvent' on 'EventTarget': parameter 1 is not of type 'Event'.");const e=t.type,r=this.__listeners.get(e);if(r)for(var n of r.entries()){const e=n[0],o=n[1];try{"function"==typeof e?e.call(this,t):e&&"function"==typeof e.handleEvent&&e.handleEvent(t)}catch(t){setTimeout((()=>{throw t}))}o&&o.once&&r.delete(e)}return!0},t}())},325:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{Pt:function(){return s},SD:function(){return l},ar:function(){return a},hL:function(){return c},z_:function(){return u}});var o="data-fm-page",i="aria-hidden",a=function(){var t,e=null===(t=document.querySelector("[".concat(o,"]")))||void 0===t?void 0:t.getAttribute(o);document.documentElement.classList.toggle("fm-page",!!e);var r=document.title.split(": "),n=r[r.length-1];document.title=e?"".concat(e,": ").concat(n):n},c=function(t){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}(document.querySelectorAll("[data-fm-inert]"));try{for(r.s();!(e=r.n()).done;){var a=e.value;a.removeAttribute(i),a.removeAttribute("data-fm-inert")}}catch(t){r.e(t)}finally{r.f()}var c=function(t){var e,r,n,i=!!document.querySelector("[".concat(o,"]")),a=document.querySelector("[".concat(o,"]"))||(null==t?void 0:t.closest("[data-fm-container]")),c=null===(e=a)||void 0===e?void 0:e.querySelector('[aria-modal="true"][open]'),u=null===(r=c)||void 0===r?void 0:r.contains(t),l=null===(n=a)||void 0===n?void 0:n.contains(t);return a=i&&a,(c=(i||l)&&u&&c)||a}(t||document.activeElement);if(c)for(;c.parentNode&&c!==document.body;){for(var u=c.parentNode.firstChild;u;)1!==u.nodeType||u===c||u.hasAttribute(i)||(u.setAttribute(i,!0),u.setAttribute("data-fm-inert","")),u=u.nextSibling;c=c.parentNode}},u=function(){var t,e,r=document.activeElement,n=!!document.querySelector("[".concat(o,"]")),i=document.querySelector("[".concat(o,"]"))||(null===(t=r)||void 0===t?void 0:t.closest("[data-fm-container]")),a=null==i?void 0:i.querySelector('[aria-modal="true"][open]'),c=null===(e=a)||void 0===e?void 0:e.contains(r),u=null==i?void 0:i.contains(r);a=(n||u)&&a&&!c&&a;var l=n&&!u&&i.querySelector("[data-fm-viewport]");(r=a||l)&&r.focus()},l=function(t){if("Tab"===t.key){var e=document.activeElement.closest('[aria-modal="true"][open], ['.concat(o,"]"));if(e){var r=Array.from(e.querySelectorAll(["a[href]:not([disabled])","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])",'*[tabindex="0"]:not([disabled])'].join(","))),n=(r=r.filter((function(t){return!!t.offsetParent})))[0],i=r[r.length-1];!t.shiftKey||document.activeElement!==e&&document.activeElement!==n||(i.focus(),t.preventDefault()),t.shiftKey||document.activeElement!==i||(n.focus(),t.preventDefault())}}},s=function(t,e){var r=document.querySelectorAll("input, button, select, textarea, a[href]"),n=Array.prototype.filter.call(r,(function(t){return t.tabIndex>="0"})),o=n.indexOf(t);return n["next"===e?o+1:o-1]||n[0]}},384:function(t,e,r){"use strict";r.d(e,{Ft:function(){return o},UM:function(){return a},oU:function(){return c},oz:function(){return n},qn:function(){return i}});var n=function(t){try{return JSON.parse(t)}catch(e){return t}},o=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},i=function(t){return new URLSearchParams(window.location.search).get(t)},a=function(t){return{default:"0 0",dark:"0 -120px",aerial:"0 -240px",deuteranopia:"0 -360px",tritanopia:"0 -480px"}[t]},c=function(t,e){var r=null==t?void 0:t.replace(/\s/g,"").split(",").map((function(t){return t.includes(":")?t:"default:".concat(t)}));return null!=r&&r.length?(r.find((function(t){return t.includes(e)}))||r[0]).split(":")[1]:null}},566:function(t,e,r){"use strict";r.d(e,{AZ:function(){return n},FB:function(){return c},Lc:function(){return u},NT:function(){return o},W0:function(){return a},WD:function(){return i},Yl:function(){return l},yX:function(){return s}});var n={READY:"ready",CHANGE:"change",QUERY:"query",ACTION:"action",APP_READY:"appready",APP_CHANGE:"appchange",APP_QUERY:"appquery",APP_ACTION:"appaction",SET_SEARCH:"setsearch",SET_INFO:"setinfo",SET_SELECTED:"setselected",SET_BANNER:"setbanner",SET_INTERFACE_TYPE:"setinterfacetype",MAP_QUERY:"mapquery",MAP_CLICK:"mapclick",MAP_LOAD:"load",MAP_STYLE:"style"},o={CONTAINER_TYPE:"buttonFirst",PANEL_POSITION:"overlayRight",MIN_SEARCH_LENGTH:3,ZOOM:12,STYLES:["default","dark","aerial","deuteranopia","tritanopia"],MAX_BOUNDS_4326:[-7.57216793459,49.959999905,1.68153079591,58.6350001085],MAX_BOUNDS_27700:[167161,13123,670003,663805]},i={legend:{TITLE:"Legend",SVG:'<path d="M9.125 5V3h9v2h-9zm0 6V9h9v2h-9zm0 6v-2h9v2h-9zm-3-9v4h-4V8h4zm0-6v4h-4V2h4zm0 12v4h-4v-4h4z" fill="currentColor" />'},layers:{TITLE:"Layers",SVG:'<path d="M10 1l10 7-10 7L0 8l10-7zm0 2.441L3.488 8 10 12.559 16.512 8 10 3.441zm8.256 7.338L20 12l-10 7-10-7 1.744-1.221L10 16.559l8.256-5.78z" fill="currentColor"/>'},menu:{TITLE:"Menu",SVG:'<circle cx="10" cy="10" r="8.5" stroke-width="1.5" fill="none" stroke="currentColor"/><path d="M5.976 8.494l4.013 4.012 4.035-4.035" stroke-width="2" stroke-linejoin="miter" stroke-miterlimit="10" fill="none" stroke="currentColor"/>'}},a={breakpoints:{MAX_MOBILE:"640px",MIN_DESKTOP:"835px"},container:{buttonFirst:{CLASS:"fm-button-first"},hybrid:{CLASS:"fm-hybrid",HEIGHT:"600px"},inline:{CLASS:"fm-inline",HEIGHT:"600px"}},params:{view:"view",centerZoom:"cz",segments:"seg",layers:"lyr"}},c={drag:2,pan:{ARROWLEFT:[-100,0],ARROWRIGHT:[100,0],ARROWUP:[0,-100],ARROWDOWN:[0,100]},shiftPan:{ARROWLEFT:[-5,0],ARROWRIGHT:[5,0],ARROWUP:[0,-5],ARROWDOWN:[0,5]}},u={TOP:90,BOTTOM:15,LEFT:70},l=[{id:"edit",name:"Edit",svg:'<path d="M11.298 4.666l3.536 3.536-7.071 7.071-3.536-3.536 7.071-7.071zm2.475-2.475a1.5 1.5 0 0 1 2.121 0l1.415 1.415a1.5 1.5 0 0 1 0 2.121l-1.768 1.768-3.536-3.536 1.768-1.768zM3.52 12.444l3.536 3.536-5.304 1.768 1.768-5.304z"/>'},{id:"delete",name:"Delete",svg:'<path d="M3 5.963H2V3.989h4V2h8v1.989h4v1.974h-.956V18H3V5.963zm12 0H5.044v10.063H15V5.963zm-8.547 1.04l1-.006.047 8-1 .006-.047-8zm3.024 0l1-.006.046 8-1 .006-.046-8zm3 0l1-.006.046 8-1 .006-.046-8z"/>'}],s=[{id:"square",name:"Square",drawMode:"frame",svg:'<path d="M18.002 18H2.001V2h16.001v16zM16.001 4H4.002v12h11.999V4z"/>'},{id:"circle",name:"Circle",drawMode:"frame",svg:'<circle cx="10" cy="10" r="8" stroke-width="2" fill="none" stroke="currentColor"/>'},{id:"line",name:"Line",drawMode:"vertex",svg:'<path d="M5.979 15.455V18H2.06v-4h2.546l9.414-9.415V2h3.919v4h-2.505l-9.455 9.455z"/>'},{id:"polygon",name:"Polygon",drawMode:"vertex",svg:'<path d="M2.98 6h-.919V2H5.98v1h8.041V2h3.919v4h-.96v7.996h.96v4h-3.919V17H5.98v1H2.061v-4h.919V6zm3-1v1h-1v8h1v1h8.041v-1.004h.959V6h-.959V5H5.98z"/>'},{id:"point",name:"Point",drawMode:"frame",svg:'<path d="M11.322 4.762l.323-2.282 1.306-1.305 5.874 5.874-1.305 1.306-2.282.323-2.611 2.611.977 3.593-1.306 1.305-8.485-8.485 1.305-1.306 3.593.977 2.611-2.611zm-2.91 8.953L.277 19.723l6.014-8.129 2.121 2.121z"/>'}]},899:function(t,e){"use strict";var r={on:function(t,e,r){t.addEventListener(e,(function(t){return r(t.detail)}))},dispatch:function(t,e,r){t.dispatchEvent(new CustomEvent(e,{detail:r}))},remove:function(t,e,r){t.removeEventListener(e,r)}};e.A=r}},i={};function a(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return o[t].call(r.exports,r,r.exports,a),r.exports}a.m=o,a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,{a:e}),e},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);a.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var c=2&n&&r;"object"==typeof c&&!~t.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(t){i[t]=function(){return r[t]}}));return i.default=function(){return r},a.d(o,i),o},a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},a.f={},a.e=function(t){return Promise.all(Object.keys(a.f).reduce((function(e,r){return a.f[r](t,e),e}),[]))},a.u=function(t){return{194:"maplibre-draw",225:"flood-map-maplibre-provider",280:"flood-map-reverse-geocode-provider",539:"flood-map-geocode-provider",689:"maplibre-legacy",803:"maplibre",835:"flood-map-ui"}[t]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r={},n="defra:",a.l=function(t,e,o,i){if(r[t])r[t].push(e);else{var c,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var f=l[s];if(f.getAttribute("src")==t||f.getAttribute("data-webpack")==n+o){c=f;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.setAttribute("data-webpack",n+o),c.src=t),r[t]=[e];var h=function(e,n){c.onerror=c.onload=null,clearTimeout(p);var o=r[t];if(delete r[t],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),u&&document.head.appendChild(c)}},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;a.g.importScripts&&(t=a.g.location+"");var e=a.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!t||!/^http(s?):/.test(t));)t=r[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=t}(),function(){var t={68:0};a.f.j=function(e,r){var n=a.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(r,o){n=t[e]=[r,o]}));r.push(n[2]=o);var i=a.p+a.u(e),c=new Error;a.l(i,(function(r){if(a.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,n[1](c)}}),"chunk-"+e,e)}};var e=function(e,r){var n,o,i=r[0],c=r[1],u=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);u&&u(a)}for(e&&e(r);l<i.length;l++)o=i[l],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkdefra=self.webpackChunkdefra||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var c={};!function(){"use strict";a.r(c),a.d(c,{FloodMap:function(){return F}});var t=a(566);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){r=function(){return n};var t,n={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),c=new N(n||[]);return a(i,"_invoke",{value:T(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var d="suspendedStart",v="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function E(){}var _={};f(_,u,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(M([])));x&&x!==o&&i.call(x,u)&&(_=x);var O=E.prototype=b.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,r){function n(o,a,c,u){var l=p(t[o],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==e(f)&&i.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,c,u)}),(function(t){n("throw",t,c,u)})):r.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,r,n){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?m:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function e(){for(;++o<r.length;)if(i.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return w.prototype=E,a(O,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:w,configurable:!0}),w.displayName=f(E,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,s,"GeneratorFunction")),t.prototype=Object.create(O),t},n.awrap=function(t){return{__await:t}},S(A.prototype),f(A.prototype,l,(function(){return this})),n.AsyncIterator=A,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new A(h(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),f(O,s,"Generator"),f(O,u,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},n}function n(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var i,u,l={capabilities:{isLatest:!!window.globalThis,hasDraw:!0,hasSize:!!window.globalThis},checkSupport:function(){var t=function(){if(!window.WebGLRenderingContext)return{isEnabled:!1,error:"WebGL is not supported"};var t,e=document.createElement("canvas"),r=!1,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw a}}}}(["webgl2","webgl1"]);try{for(n.s();!(t=n.n()).done;){var i=t.value;try{if((r=e.getContext(i))&&"function"==typeof r.getParameter)return{isEnabled:!0}}catch(t){}}}catch(t){n.e(t)}finally{n.f()}return{isEnabled:!1,error:"WebGL is supported, but disabled"}}(),e=document.documentMode;return{isSupported:t.isEnabled,error:e?"Internet Explorer is not supported":t.error}},load:(i=r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.e(225).then(a.bind(a,938));case 2:return e=t.sent,t.abrupt("return",e.default);case 4:case"end":return t.stop()}}),t)})),u=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=i.apply(t,e);function c(t){n(a,r,o,c,u,"next",t)}function u(t){n(a,r,o,c,u,"throw",t)}c(void 0)}))},function(){return u.apply(this,arguments)})};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new N(n||[]);return o(a,"_invoke",{value:T(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",v="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function E(){}var _={};l(_,a,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(M([])));x&&x!==r&&n.call(x,a)&&(_=x);var O=E.prototype=b.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?m:v,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),l(O,u,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function h(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var p={load:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))}}(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.e(539).then(a.bind(a,287));case 2:return e=t.sent,t.abrupt("return",e.default);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(){v=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new N(n||[]);return o(a,"_invoke",{value:T(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function E(){}var _={};l(_,a,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(M([])));x&&x!==r&&n.call(x,a)&&(_=x);var O=E.prototype=b.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==d(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:p,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(d(e)+" is not iterable")}return w.prototype=E,o(O,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:w,configurable:!0}),w.displayName=l(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),l(O,u,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function y(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var m={load:function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){y(i,n,o,a,c,"next",t)}function c(t){y(i,n,o,a,c,"throw",t)}a(void 0)}))}}(v().mark((function t(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.e(280).then(a.bind(a,910));case 2:return e=t.sent,t.abrupt("return",e.default);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},g=a(384),b=a(325),w=a(899);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function _(){_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new N(n||[]);return o(a,"_invoke",{value:T(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",d="executing",v="completed",y={};function m(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var L=Object.getPrototypeOf,x=L&&L(L(M([])));x&&x!==r&&n.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==E(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=h;return function(i,a){if(o===d)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?v:p,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function M(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(E(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(A.prototype),l(A.prototype,c,(function(){return this})),e.AsyncIterator=A,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new A(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),l(O,u,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=M,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function L(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function A(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){var e="function"==typeof Map?new Map:void 0;return T=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(P())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&j(o,r.prototype),o}(t,arguments,k(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),j(r,t)},T(t)}function P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(P=function(){return!!t})()}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function N(t,e,r){return(e=M(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M(t){var e=function(t){if("object"!=E(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==E(e)?e:e+""}a(121);var C=window,I=C.location,R=C.history,G="fm-u-focus-visible",F=function(e){function r(e,n,o){var i,a,c,u,s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),c=this,u=k(u=r),N(a=A(c,P()?Reflect.construct(u,[],k(c).constructor):u.apply(c,s)),"_search",void 0),N(a,"_info",void 0),N(a,"_selected",void 0),N(a,"_banner",void 0);var f=document.getElementById(e);a.el=f;var h=n.mapProvider||l,d=O(O({},h.checkSupport()),n.checkMapSupport?{isSupported:n.checkMapSupport()}:{});if(a.mapProvider=h,!d.isSupported)return a._renderError("Your device is not supported. A map is available with a more up-to-date browser or device."),document.body.classList.remove("fm-js-hidden"),document.body.setAttribute("data-fm-error",""),d.error&&console.log(d.error),A(a);a.geocodeProvider=n.geocodeProvider||p,a.reverseGeocodeProvider=n.reverseGeocodeProvider||m;var v=O({},null===(i=a.el)||void 0===i?void 0:i.dataset);Object.keys(v).forEach((function(t){v[t]=(0,g.oz)(v[t])}));var y=document.getElementById((null==v?void 0:v.container)||(null==n?void 0:n.container)||e),E=O(O({id:e,parent:y,title:document.title},n),v);a.props=E,a.callBack=o,a.id=e,a.root=null;var _=E.maxMobile,L=window.matchMedia("(max-width: ".concat(_||t.W0.breakpoints.MAX_MOBILE,")"));return a.searchParams=new URLSearchParams(document.location.search),a._handleMobileMQ(L),a.isVisible&&a._importComponent(),a.handleFocusIn=function(t){"keyboard"===a.interfaceType&&t.target.classList.add(G)},f.addEventListener("focusin",a.handleFocusIn),a.handleFocusOut=function(t){t.target.classList.remove(G)},f.addEventListener("focusout",a.handleFocusOut),["buttonFirst","hybrid"].includes(n.behaviour)&&(a._insertButtonHTML(),a.isVisible||document.body.classList.remove("fm-js-hidden")),a.props.handleExit=a._handleExit.bind(a),L.addEventListener("change",(function(){a._handleMobileMQ(L),a.isVisible?a._importComponent():a._removeComponent()})),window.addEventListener("popstate",a._handlePopstate.bind(a)),window.addEventListener("focus",(function(){(0,b.z_)()})),window.addEventListener("keydown",a._handleKeyboard.bind(a),!0),window.addEventListener("keyup",a._handleKeyboard.bind(a),!0),window.addEventListener("touchstart",a._handleTouchstart.bind(a),!0),window.addEventListener("pointerdown",a._handlePointerdown.bind(a)),window.addEventListener("wheel",a._handlePointerdown.bind(a)),w.A.on(y,t.AZ.APP_READY,(function(e){Object.assign(a,e.framework),a.modules=e.modules,a.isReady=!0,w.A.dispatch(a.props.parent,t.AZ.SET_INTERFACE_TYPE,a.interfaceType),w.A.dispatch(a,t.AZ.READY,O({type:"ready"},e)),a._info&&w.A.dispatch(a.props.parent,t.AZ.SET_INFO,a._info),a._selected&&w.A.dispatch(a.props.parent,t.AZ.SET_SELECTED,a._selected),a._banner&&w.A.dispatch(a.props.parent,t.AZ.SET_BANNER,a._banner)})),w.A.on(y,t.AZ.APP_CHANGE,(function(e){w.A.dispatch(a,t.AZ.CHANGE,e)})),w.A.on(y,t.AZ.APP_QUERY,(function(e){w.A.dispatch(a,t.AZ.QUERY,e)})),w.A.on(y,t.AZ.APP_ACTION,(function(e){w.A.dispatch(a,t.AZ.ACTION,e)})),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(r,e),n=r,o=[{key:"_renderError",value:function(t){this.el.insertAdjacentHTML("beforebegin",'\n      <div class="fm-error">\n        <p class="fm-error__body">'.concat(t,"</p>\n      </div>\n    "))}},{key:"_insertButtonHTML",value:function(){var t=this.props,e=t.buttonText,r=t.buttonType;this.el.insertAdjacentHTML("beforebegin",'\n      <a href="'.concat(I.pathname,"?view=").concat(this.id,'" class="').concat("anchor"===r?"fm-c-btn-hyperlink":"fm-c-btn-tertiary",'" ').concat(this.isVisible?'style="display:none"':""," role=\"button\">\n          <svg focusable='false' aria-hidden='true' width='16' height='20' viewBox='0 0 16 20' fillRule='evenodd'><path d='M15 7.5c.009 3.778-4.229 9.665-7.5 12.5C4.229 17.165-.009 11.278 0 7.5a7.5 7.5 0 1 1 15 0z'/><path d='M7.5 12.961a5.46 5.46 0 1 0 0-10.922 5.46 5.46 0 1 0 0 10.922z' fill='#fff'/></svg><span>").concat(e||"Map view","</span>\n          <span class='fm-u-visually-hidden'>(Visual only)</span>\n      </a>\n    "));var n=this.el.previousElementSibling;n.addEventListener("click",this._handleClick.bind(this)),n.addEventListener("focusin",this.handleFocusIn),n.addEventListener("focusout",this.handleFocusOut),this.button=n}},{key:"_handleExit",value:function(){var e,r=this;if(null!==(e=R.state)&&void 0!==e&&e.isBack)R.back();else{this._removeComponent(),Object.keys(t.W0.params).forEach((function(e){return r.searchParams.delete(t.W0.params[e])}));var n=I.pathname+this.searchParams.toString();R.replaceState({isBack:!1},"",n)}}},{key:"_handleClick",value:function(t){t.preventDefault(),R.pushState({isBack:!0},"","".concat(t.target.getAttribute("href"))),this.button.setAttribute("data-fm-open",""),this._importComponent()}},{key:"_handleMobileMQ",value:function(t){var e=this.props.behaviour,r=new URLSearchParams(document.location.search).get("view")===this.id;this.isMobile=t.matches,this.isVisible=r||"inline"===e||"hybrid"===e&&!t.matches}},{key:"_handlePopstate",value:function(){var t,e=this.props,r=e.id,n=e.behaviour,o="buttonFirst"===n||"hybrid"===n&&this.isMobile;null!==(t=R.state)&&void 0!==t&&t.isBack&&r===(0,g.qn)("view")?this._importComponent():o&&this.el.children.length&&(this._removeComponent(),this.button.focus())}},{key:"_handleKeyboard",value:function(e){"Tab"===e.key&&(this.interfaceType="keyboard",w.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,"keyboard"))}},{key:"_handleTouchstart",value:function(){this.interfaceType="touch",w.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,"touch")}},{key:"_handlePointerdown",value:function(e){"touch"!==e.pointerType&&(w.A.dispatch(this.props.parent,t.AZ.SET_INTERFACE_TYPE,null),document.activeElement.classList.remove(G),this.interfaceType=null)}},{key:"_importComponent",value:(i=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){L(i,n,o,a,c,"next",t)}function c(t){L(i,n,o,a,c,"throw",t)}a(void 0)}))}}(_().mark((function t(){var e,r=this;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this.button)||void 0===e||e.setAttribute("style","display: none"),this.isLoaded){t.next=12;break}return t.next=5,this.mapProvider.load();case 5:return this.props.mapProvider=t.sent,t.next=8,this.geocodeProvider.load();case 8:return this.props.geocodeProvider=t.sent,t.next=11,this.reverseGeocodeProvider.load();case 11:this.props.reverseGeocodeProvider=t.sent;case 12:this.isLoaded=!0,a.e(835).then(a.bind(a,8)).then((function(t){var e=t.default;r._addComponent(e)})).catch((function(t){r._renderError("There was a problem loading the map. Please try again later"),console.log(t)}));case 14:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"_addComponent",value:function(t){if(!this.root){var e=this.mapProvider.capabilities;this.root=t(this.el,O(O({},this.props),{},{capabilities:e,callBack:this.callBack,interfaceType:this.interfaceType}))}}},{key:"_removeComponent",value:function(){var t;this.button&&(this.button.removeAttribute("style"),this.button.removeAttribute("data-open"),this.button.focus(),null===(t=this.root)||void 0===t||t.unmount(),this.root=null,this._info=null,this._selected=null,this._banner=null,(0,b.ar)(),(0,b.hL)())}},{key:"setInfo",value:function(e){this._info=e,this.isReady&&w.A.dispatch(this.props.parent,t.AZ.SET_INFO,this._info)}},{key:"setSelected",value:function(e){this._selected=e,this.isReady&&w.A.dispatch(this.props.parent,t.AZ.SET_SELECTED,this._selected)}},{key:"setBanner",value:function(e){this._banner=e,this.isReady&&w.A.dispatch(this.props.parent,t.AZ.SET_BANNER,this._banner)}}],o&&S(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}(T(EventTarget))}(),window.defra=c}();
//# sourceMappingURL=flood-map.js.map