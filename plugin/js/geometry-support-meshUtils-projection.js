"use strict";(self.webpackChunkdefraMap=self.webpackChunkdefraMap||[]).push([[7210],{32003:function(e,t,r){r.d(t,{a:function(){return s},b:function(){return i},n:function(){return u},s:function(){return y},t:function(){return n}}),r(58941);var f=r(40633);function s(e,t,r){n(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function n(e,t,r,f=4,s=f){if(e.length/f!=t.length/s)return;const n=e.length/f,u=r[0],i=r[1],y=r[2],c=r[3],o=r[4],d=r[5],p=r[6],h=r[7],l=r[8];let a=0,B=0;for(let r=0;r<n;r++){const r=t[a],n=t[a+1],T=t[a+2],b=t[a+3];e[B]=u*r+c*n+p*T,e[B+1]=i*r+o*n+h*T,e[B+2]=y*r+d*n+l*T,e[B+3]=b,a+=s,B+=f}}function u(e,t){const r=Math.min(e.count,t.count),f=e.typedBuffer,s=e.typedBufferStride,n=t.typedBuffer,u=t.typedBufferStride;for(let e=0;e<r;e++){const t=e*s,r=e*u,i=n[r],y=n[r+1],c=n[r+2],o=i*i+y*y+c*c;if(o>0){const e=1/Math.sqrt(o);f[t]=e*i,f[t+1]=e*y,f[t+2]=e*c}}}function i(e,t,r){y(e.typedBuffer,t,r,e.typedBufferStride)}function y(e,t,r,f=4){const s=Math.min(e.length/f,t.count),n=t.typedBuffer,u=t.typedBufferStride;let i=0,y=0;for(let t=0;t<s;t++)e[y]=r*n[i],e[y+1]=r*n[i+1],e[y+2]=r*n[i+2],e[y+3]=r*n[i+3],i+=u,y+=f}Object.freeze(Object.defineProperty({__proto__:null,normalize:u,scale:y,scaleView:i,transformMat3:n,transformMat3View:s,transformMat4:function(e,t,r,s=4,n=s){if(e.length/s!=t.length/n)return void f.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const u=e.length/s,i=r[0],y=r[1],c=r[2],o=r[3],d=r[4],p=r[5],h=r[6],l=r[7],a=r[8],B=r[9],T=r[10],b=r[11],E=r[12],m=r[13],A=r[14],O=r[15];let g=0,S=0;for(let r=0;r<u;r++){const r=t[g],f=t[g+1],u=t[g+2],L=t[g+3];e[S]=i*r+d*f+a*u+E*L,e[S+1]=y*r+p*f+B*u+m*L,e[S+2]=c*r+h*f+T*u+A*L,e[S+3]=o*r+l*f+b*u+O*L,g+=n,S+=s}},transformMat4View:function(e,t,r){if(e.count!==t.count)return;const f=e.count,s=r[0],n=r[1],u=r[2],i=r[3],y=r[4],c=r[5],o=r[6],d=r[7],p=r[8],h=r[9],l=r[10],a=r[11],B=r[12],T=r[13],b=r[14],E=r[15],m=e.typedBuffer,A=e.typedBufferStride,O=t.typedBuffer,g=t.typedBufferStride;for(let e=0;e<f;e++){const t=e*A,r=e*g,f=O[r],S=O[r+1],L=O[r+2],M=O[r+3];m[t]=s*f+y*S+p*L+B*M,m[t+1]=n*f+c*S+h*L+T*M,m[t+2]=u*f+o*S+l*L+b*M,m[t+3]=i*f+d*S+a*L+E*M}}},Symbol.toStringTag,{value:"Module"}))},92754:function(e,t,r){r.d(t,{Y$:function(){return p},qB:function(){return m},Qt:function(){return I},My:function(){return k},bf:function(){return v},jZ:function(){return B},j0:function(){return T},Sx:function(){return b},E$:function(){return E},h:function(){return _},P:function(){return C},SL:function(){return S},gH:function(){return h},si:function(){return A},mJ:function(){return X},UL:function(){return $},D6:function(){return V},Yi:function(){return P},An:function(){return R},LC:function(){return L},xs:function(){return l},Xm:function(){return O},Vp:function(){return z},zD:function(){return K},m8:function(){return j},nS:function(){return x},H$:function(){return F},eI:function(){return M},Eq:function(){return a},Aj:function(){return g},E7:function(){return G},Y4:function(){return q},TX:function(){return U},Uz:function(){return N},ml:function(){return Y},XP:function(){return w}});class f{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.elementCount=9;const n=this.TypedArrayConstructor;void 0===f&&(f=9*n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const f=this.typedBuffer,s=t.typedBuffer;let n=e*this.typedBufferStride,u=r*t.typedBufferStride;for(let e=0;e<9;++e)f[n++]=s[u++]}get buffer(){return this.typedBuffer.buffer}}f.ElementCount=9;class s{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.elementCount=16;const n=this.TypedArrayConstructor;void 0===f&&(f=16*n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const f=this.typedBuffer,s=t.typedBuffer;let n=e*this.typedBufferStride,u=r*t.typedBufferStride;for(let e=0;e<16;++e)f[n++]=s[u++]}get buffer(){return this.typedBuffer.buffer}}s.ElementCount=16;class n{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.elementCount=1;const n=this.TypedArrayConstructor;void 0===f&&(f=n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.stride=f,this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=1;var u=r(13786);class i{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.elementCount=2;const n=this.TypedArrayConstructor;void 0===f&&(f=2*n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,u.hZ)(t,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e]=t[1]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e]=r}copyFrom(e,t,r){const f=this.typedBuffer,s=t.typedBuffer;let n=e*this.typedBufferStride,u=r*t.typedBufferStride;f[n++]=s[u++],f[n]=s[u]}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=2;var y=r(20551);class c{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.elementCount=3;const n=this.TypedArrayConstructor;void 0===f&&(f=3*n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,y.s)(t,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e]=t[2]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,f){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e]=f}copyFrom(e,t,r){const f=this.typedBuffer,s=t.typedBuffer;let n=e*this.typedBufferStride,u=r*t.typedBufferStride;f[n++]=s[u++],f[n++]=s[u++],f[n]=s[u]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;var o=r(33400);class d{constructor(e,t,r=0,f,s){this.TypedArrayConstructor=e,this.start=r,this.elementCount=4;const n=this.TypedArrayConstructor;void 0===f&&(f=4*n.BYTES_PER_ELEMENT);const u=0===t.byteLength?0:r;this.typedBuffer=null==s?new n(t,u):new n(t,u,(s-r)/n.BYTES_PER_ELEMENT),this.typedBufferStride=f/n.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const f=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,o.s)(t,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e++]=t[2],this.typedBuffer[e]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,f,s){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e++]=f,this.typedBuffer[e]=s}copyFrom(e,t,r){const f=this.typedBuffer,s=t.typedBuffer;let n=e*this.typedBufferStride,u=r*t.typedBufferStride;f[n++]=s[u++],f[n++]=s[u++],f[n++]=s[u++],f[n]=s[u]}get buffer(){return this.typedBuffer.buffer}}d.ElementCount=4;class p extends n{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}static fromTypedArray(e,t){return new p(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}p.ElementType="f32";class h extends i{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}slice(e,t){return this.sliceBuffer(h,e,t)}static fromTypedArray(e,t){return new h(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}h.ElementType="f32";class l extends c{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}slice(e,t){return this.sliceBuffer(l,e,t)}static fromTypedArray(e,t){return new l(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}l.ElementType="f32";class a extends d{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}slice(e,t){return this.sliceBuffer(a,e,t)}static fromTypedArray(e,t){return new a(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}a.ElementType="f32";class B extends f{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}slice(e,t){return this.sliceBuffer(B,e,t)}static fromTypedArray(e,t){return new B(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}B.ElementType="f32";class T extends f{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(T,e,t)}static fromTypedArray(e,t){return new T(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}T.ElementType="f64";class b extends s{constructor(e,t=0,r,f){super(Float32Array,e,t,r,f),this.elementType="f32"}slice(e,t){return this.sliceBuffer(b,e,t)}static fromTypedArray(e,t){return new b(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}b.ElementType="f32";class E extends s{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(E,e,t)}static fromTypedArray(e,t){return new E(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}E.ElementType="f64";class m extends n{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(m,e,t)}static fromTypedArray(e,t){return new m(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}m.ElementType="f64";class A extends i{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(A,e,t)}static fromTypedArray(e,t){return new A(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}A.ElementType="f64";class O extends c{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(O,e,t)}static fromTypedArray(e,t){return new O(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}O.ElementType="f64";class g extends d{constructor(e,t=0,r,f){super(Float64Array,e,t,r,f),this.elementType="f64"}slice(e,t){return this.sliceBuffer(g,e,t)}static fromTypedArray(e,t){return new g(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}g.ElementType="f64";class S extends n{constructor(e,t=0,r,f){super(Uint8Array,e,t,r,f),this.elementType="u8"}slice(e,t){return this.sliceBuffer(S,e,t)}static fromTypedArray(e,t){return new S(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}S.ElementType="u8";class L extends i{constructor(e,t=0,r,f){super(Uint8Array,e,t,r,f),this.elementType="u8"}slice(e,t){return this.sliceBuffer(L,e,t)}static fromTypedArray(e,t){return new L(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}L.ElementType="u8";class M extends c{constructor(e,t=0,r,f){super(Uint8Array,e,t,r,f),this.elementType="u8"}slice(e,t){return this.sliceBuffer(M,e,t)}static fromTypedArray(e,t){return new M(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}M.ElementType="u8";class w extends d{constructor(e,t=0,r,f){super(Uint8Array,e,t,r,f),this.elementType="u8"}slice(e,t){return this.sliceBuffer(w,e,t)}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}w.ElementType="u8";class _ extends n{constructor(e,t=0,r,f){super(Uint16Array,e,t,r,f),this.elementType="u16"}slice(e,t){return this.sliceBuffer(_,e,t)}static fromTypedArray(e,t){return new _(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}_.ElementType="u16";class P extends i{constructor(e,t=0,r,f){super(Uint16Array,e,t,r,f),this.elementType="u16"}slice(e,t){return this.sliceBuffer(P,e,t)}static fromTypedArray(e,t){return new P(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}P.ElementType="u16";class x extends c{constructor(e,t=0,r,f){super(Uint16Array,e,t,r,f),this.elementType="u16"}slice(e,t){return this.sliceBuffer(x,e,t)}static fromTypedArray(e,t){return new x(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}x.ElementType="u16";class N extends d{constructor(e,t=0,r,f){super(Uint16Array,e,t,r,f),this.elementType="u16"}slice(e,t){return this.sliceBuffer(N,e,t)}static fromTypedArray(e,t){return new N(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}N.ElementType="u16";class C extends n{constructor(e,t=0,r,f){super(Uint32Array,e,t,r,f),this.elementType="u32"}slice(e,t){return this.sliceBuffer(C,e,t)}static fromTypedArray(e,t){return new C(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}C.ElementType="u32";class R extends i{constructor(e,t=0,r,f){super(Uint32Array,e,t,r,f),this.elementType="u32"}slice(e,t){return this.sliceBuffer(R,e,t)}static fromTypedArray(e,t){return new R(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}R.ElementType="u32";class F extends c{constructor(e,t=0,r,f){super(Uint32Array,e,t,r,f),this.elementType="u32"}slice(e,t){return this.sliceBuffer(F,e,t)}static fromTypedArray(e,t){return new F(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}F.ElementType="u32";class Y extends d{constructor(e,t=0,r,f){super(Uint32Array,e,t,r,f),this.elementType="u32"}slice(e,t){return this.sliceBuffer(Y,e,t)}static fromTypedArray(e,t){return new Y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Y.ElementType="u32";class v extends n{constructor(e,t=0,r,f){super(Int8Array,e,t,r,f),this.elementType="i8"}slice(e,t){return this.sliceBuffer(v,e,t)}static fromTypedArray(e,t){return new v(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}v.ElementType="i8";class V extends i{constructor(e,t=0,r,f){super(Int8Array,e,t,r,f),this.elementType="i8"}slice(e,t){return this.sliceBuffer(V,e,t)}static fromTypedArray(e,t){return new V(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}V.ElementType="i8";class j extends c{constructor(e,t=0,r,f){super(Int8Array,e,t,r,f),this.elementType="i8"}slice(e,t){return this.sliceBuffer(j,e,t)}static fromTypedArray(e,t){return new j(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}j.ElementType="i8";class U extends d{constructor(e,t=0,r,f){super(Int8Array,e,t,r,f),this.elementType="i8"}slice(e,t){return this.sliceBuffer(U,e,t)}static fromTypedArray(e,t){return new U(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}U.ElementType="i8";class I extends n{constructor(e,t=0,r,f){super(Int16Array,e,t,r,f),this.elementType="i16"}slice(e,t){return this.sliceBuffer(I,e,t)}static fromTypedArray(e,t){return new I(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}I.ElementType="i16";class X extends i{constructor(e,t=0,r,f){super(Int16Array,e,t,r,f),this.elementType="i16"}slice(e,t){return this.sliceBuffer(X,e,t)}static fromTypedArray(e,t){return new X(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}X.ElementType="i16";class z extends c{constructor(e,t=0,r,f){super(Int16Array,e,t,r,f),this.elementType="i16"}slice(e,t){return this.sliceBuffer(z,e,t)}static fromTypedArray(e,t){return new z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}z.ElementType="i16";class G extends d{constructor(e,t=0,r,f){super(Int16Array,e,t,r,f),this.elementType="i16"}slice(e,t){return this.sliceBuffer(G,e,t)}static fromTypedArray(e,t){return new G(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}G.ElementType="i16";class k extends n{constructor(e,t=0,r,f){super(Int32Array,e,t,r,f),this.elementType="i32"}slice(e,t){return this.sliceBuffer(k,e,t)}static fromTypedArray(e,t){return new k(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}k.ElementType="i32";class $ extends i{constructor(e,t=0,r,f){super(Int32Array,e,t,r,f),this.elementType="i32"}slice(e,t){return this.sliceBuffer($,e,t)}static fromTypedArray(e,t){return new $(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}$.ElementType="i32";class K extends c{constructor(e,t=0,r,f){super(Int32Array,e,t,r,f),this.elementType="i32"}slice(e,t){return this.sliceBuffer(K,e,t)}static fromTypedArray(e,t){return new K(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}K.ElementType="i32";class q extends d{constructor(e,t=0,r,f){super(Int32Array,e,t,r,f),this.elementType="i32"}slice(e,t){return this.sliceBuffer(q,e,t)}static fromTypedArray(e,t){return new q(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}q.ElementType="i32"},83614:function(e,t,r){r.d(t,{$5:function(){return M},CN:function(){return O},GN:function(){return x},JP:function(){return A},KM:function(){return _},Mv:function(){return R},OD:function(){return F},X4:function(){return g},gZ:function(){return P},gr:function(){return L},project:function(){return U},qs:function(){return w},si:function(){return S},xA:function(){return C}});var f=r(15774),s=r(44705),n=r(87725),u=r(73364),i=r(39714),y=r(20551),c=r(32501),o=r(46157),d=r(96611),p=r(7456),h=r(57617),l=r(50240),a=r(43587),B=r(57652),T=r(1644),b=r(92754),E=r(62693),m=r(32003);const A="Projection may be possible after calling projection.load().";function O(e,t,r,f){e.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${r.wkid}).${f?" ":""}${f}`)}function g(e,t,r,f,s){return j(Y.TO_PCPF,b.xs.fromTypedArray(e),F.NORMAL,b.Xm.fromTypedArray(t),b.Xm.fromTypedArray(r),f,b.xs.fromTypedArray(s))?s:null}function S(e,t,r,f,s){return j(Y.FROM_PCPF,b.xs.fromTypedArray(e),F.NORMAL,b.Xm.fromTypedArray(t),b.Xm.fromTypedArray(r),f,b.xs.fromTypedArray(s))?s:null}function L(e,t,r){return(0,h.projectBuffer)(e,t,0,r,(0,d.lO)(t),0,e.length/3)?r:null}function M(e,t,r){return(0,h.projectBuffer)(e,(0,d.lO)(r),0,t,r,0,e.length/3)?t:null}function w(e,t,r){return(0,s.Ge)(G,r),(0,E.t)(t,e,G),(0,f.or)(G)&&(0,E.n)(t,t),t}function _(e,t,r){return(0,s.z0)(G,r),(0,m.t)(t,e,G),(0,f.or)(G)&&(0,E.n)(t,t,4),t}function P(e,t,r,s){const n=t===F.NORMAL;return N(e,t,r,((e,t)=>{const r=Math.cos((0,f.kU)(e));t[0]=n?r:1/r,t[1]=1}),s)}function x(e,t,r,f){const s=t===F.NORMAL;return N(e,t,r,((e,t)=>{const r=Math.cosh(-e/a.$O.radius);t[0]=1,t[1]=s?r:1/r}),f)}function N(e,t,r,f,s){const n=t===F.NORMAL?3:4,u=[0,0];for(let t=0,i=1;t<e.length;t+=n,i+=3){f(r[i],u);const y=e[t]*u[0],c=e[t+1]*u[1],o=e[t+2],d=1/Math.sqrt(y*y+c*c+o*o);s[t]=y*d,s[t+1]=c*d,s[t+2]=o*d,4===n&&(s[t+3]=e[t+3])}return s}function C(e,t,r,f,s){if(!j(Y.TO_PCPF,b.xs.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),F.TANGENT,b.Xm.fromTypedArray(t),b.Xm.fromTypedArray(r),f,b.xs.fromTypedArray(s,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let t=3;t<e.length;t+=4)s[t]=e[t];return s}function R(e,t,r,f,s){if(!j(Y.FROM_PCPF,b.xs.fromTypedArray(e,16),F.TANGENT,b.Xm.fromTypedArray(t),b.Xm.fromTypedArray(r),f,b.xs.fromTypedArray(s,16)))return null;for(let t=3;t<e.length;t+=4)s[t]=e[t];return s}var F,Y,v;function V(e,t,r,f,n){switch((0,p.l)(f,r,z,f),e===Y.FROM_PCPF&&(0,u.B8)(z,z),t){case F.NORMAL:return(0,s.Ge)(n,z);case F.TANGENT:return(0,s.z0)(n,z)}}function j(e,t,r,f,s,n,u){if(!t)return;const i=f.count,c=(0,d.lO)(n);if(function(e){return e.isWGS84||(0,B.x1)(e)||(0,B.q8)(e)||(0,B.KQ)(e)}(n))for(let f=0;f<i;f++)s.getVec(f,I),t.getVec(f,X),(0,y.t)(X,X,V(e,r,I,c,G)),u.setVec(f,X);else for(let n=0;n<i;n++){s.getVec(n,I),t.getVec(n,X);const i=(0,T.jg)(f.get(n,1));let o=Math.cos(i);r===F.TANGENT!=(e===Y.TO_PCPF)&&(o=1/o),V(e,r,I,c,G),e===Y.TO_PCPF?(G[0]*=o,G[1]*=o,G[2]*=o,G[3]*=o,G[4]*=o,G[5]*=o):(G[0]*=o,G[3]*=o,G[6]*=o,G[1]*=o,G[4]*=o,G[7]*=o),(0,y.t)(X,X,G),(0,y.n)(X,X),u.setVec(n,X)}return u}function U(e){return"local"===e.vertexSpace.type?function({vertexSpace:e,transform:t,inSpatialReference:r,outSpatialReference:f,localMode:s,outPositions:n,positions:y}){const a=e.origin??c.uY,B=null!=e.origin?t?.localMatrix??i.zK:i.zK,T=(0,d.lO)(r),b=f.isWebMercator&&s||!(0,o.canProjectWithoutEngine)(r,T)?r:T;(0,p.l)(r,a,z,b),(0,u.lw)(z,z,B);const m=n??(0,l.jh)(y.length);return(0,E.a)(m,y,z),(0,h.projectBuffer)(m,b,0,m,f,0,m.length/3),m}(e):function({vertexSpace:e,transform:t,outPositions:r,positions:f,inSpatialReference:s,outSpatialReference:n}){const o=null!=e.origin?t?.localMatrix??i.zK:i.zK,d=r??(0,l.jh)(f.length);(0,u.aI)(o,i.zK)?(0,l.s)(d,f):(0,E.a)(d,f,o);const p=e.origin??c.uY;if(!(0,y.e)(p,c.uY)){const[e,t,r]=p;for(let f=0;f<d.length;f+=3)d[f]+=e,d[f+1]+=t,d[f+2]+=r}return(0,h.projectBuffer)(d,s,0,d,n,0,d.length/3)?d:null}(e)}(v=F||(F={}))[v.NORMAL=0]="NORMAL",v[v.TANGENT=1]="TANGENT",function(e){e[e.TO_PCPF=0]="TO_PCPF",e[e.FROM_PCPF=1]="FROM_PCPF"}(Y||(Y={}));const I=(0,c.vt)(),X=(0,c.vt)(),z=(0,i.vt)(),G=(0,n.vt)()}}]);
//# sourceMappingURL=geometry-support-meshUtils-projection.js.map