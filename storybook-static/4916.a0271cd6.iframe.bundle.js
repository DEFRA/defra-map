"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[4916],{"./node_modules/@arcgis/core/core/floatRGBA.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>r,U:()=>o});var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js");function o(o,r,e=0){const i=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__.qE)(o,0,f);for(let t=0;t<4;t++)r[e+t]=Math.floor(256*l(i*n[t]))}function r(t,o=0){let r=0;for(let n=0;n<4;n++)r+=t[o+n]*e[n];return r}const n=[1,256,65536,16777216],e=[1/256,1/65536,1/16777216,1/4294967296],f=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}},"./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f32.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function n(){return new Float32Array(3)}function t(n){const t=new Float32Array(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function r(n,t,r){const e=new Float32Array(3);return e[0]=n,e[1]=t,e[2]=r,e}function o(){return n()}function u(){return r(1,1,1)}function c(){return r(1,0,0)}function i(){return r(0,1,0)}function a(){return r(0,0,1)}__webpack_require__.d(__webpack_exports__,{fA:()=>r,o8:()=>t,vt:()=>n});const f=o(),l=u(),s=c(),_=i(),y=a();Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:s,UNIT_Y:_,UNIT_Z:y,ZEROS:f,clone:t,create:n,createView:function e(n,t){return new Float32Array(n,t,3)},fromValues:r,ones:u,unitX:c,unitY:i,unitZ:a,zeros:o},Symbol.toStringTag,{value:"Module"}))},"./node_modules/@arcgis/core/geometry/support/clipRay.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$e:()=>y,j1:()=>p,mO:()=>g,vt:()=>a});var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/ObjectStack.js"),_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),_ray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/ray.js");function a(r){return r?{ray:(0,_ray_js__WEBPACK_IMPORTED_MODULE_1__.vt)(r.ray),c0:r.c0,c1:r.c1}:{ray:(0,_ray_js__WEBPACK_IMPORTED_MODULE_1__.vt)(),c0:0,c1:Number.MAX_VALUE}}function y(r,c=a()){return(0,_ray_js__WEBPACK_IMPORTED_MODULE_1__.C)(r,c.ray),c.c0=0,c.c1=Number.MAX_VALUE,c}function p(r,c){return j(r,r.c0,c)}function g(r,c){return j(r,r.c1,c)}function j(r,c,o){return(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.g)(o,r.ray.origin,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_0__.h)(o,r.ray.direction,c))}new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_2__.I((()=>a()))},"./node_modules/@arcgis/core/geometry/support/frustum.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>N,FB:()=>j,ig:()=>m,m7:()=>s,ui:()=>L,vt:()=>H});var j,g,T,_core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/core/ObjectStack.js"),_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js"),_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec42.js"),_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js"),_clipRay_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/clipRay.js"),_plane_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/plane.js"),_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/vectorStacks.js");function H(T){return T?[(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[0]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[1]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[2]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[3]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[4]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(T[5])]:[(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.vt)()]}function N(T,_){for(let O=0;O<b;O++)(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.C)(T[O],_[O]);return T}function L(T,t,A,E=y){const F=(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.lw)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.Rc.get(),t,T);(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.B8)(F,F);for(let _=0;_<h;++_){const T=(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_3__.t)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__.Km.get(),k[_],F);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_1__.i)(E[_],T[0]/T[3],T[1]/T[3],T[2]/T[3])}!function P(T,_){(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.FAR_BOTTOM_LEFT],_[g.NEAR_BOTTOM_LEFT],_[g.NEAR_TOP_LEFT],T[j.LEFT]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.NEAR_BOTTOM_RIGHT],_[g.FAR_BOTTOM_RIGHT],_[g.FAR_TOP_RIGHT],T[j.RIGHT]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.FAR_BOTTOM_LEFT],_[g.FAR_BOTTOM_RIGHT],_[g.NEAR_BOTTOM_RIGHT],T[j.BOTTOM]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.NEAR_TOP_LEFT],_[g.NEAR_TOP_RIGHT],_[g.FAR_TOP_RIGHT],T[j.TOP]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.NEAR_BOTTOM_LEFT],_[g.NEAR_BOTTOM_RIGHT],_[g.NEAR_TOP_RIGHT],T[j.NEAR]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(_[g.FAR_BOTTOM_RIGHT],_[g.FAR_BOTTOM_LEFT],_[g.FAR_TOP_LEFT],T[j.FAR])}(A,E)}function s(T,_){for(let O=0;O<b;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function m(T,_){for(let O=0;O<b;O++){const R=T[O];if(!(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__.b6)(R,_))return!1}return!0}(T=j||(j={}))[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR",function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(g||(g={}));g.FAR_BOTTOM_RIGHT,g.NEAR_BOTTOM_RIGHT,g.NEAR_BOTTOM_LEFT,g.FAR_BOTTOM_LEFT,g.NEAR_BOTTOM_LEFT,g.NEAR_BOTTOM_RIGHT,g.NEAR_TOP_RIGHT,g.NEAR_TOP_LEFT,g.FAR_BOTTOM_RIGHT,g.FAR_BOTTOM_LEFT,g.FAR_TOP_LEFT,g.FAR_TOP_RIGHT,g.NEAR_BOTTOM_RIGHT,g.FAR_BOTTOM_RIGHT,g.FAR_TOP_RIGHT,g.NEAR_TOP_RIGHT,g.FAR_BOTTOM_LEFT,g.NEAR_BOTTOM_LEFT,g.NEAR_TOP_LEFT,g.FAR_TOP_LEFT,g.FAR_TOP_LEFT,g.NEAR_TOP_LEFT,g.NEAR_TOP_RIGHT,g.FAR_TOP_RIGHT;const b=6,h=8,k=[(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(-1,-1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(1,-1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(1,1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(-1,1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(-1,-1,1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(1,-1,1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(1,1,1,1),(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.fA)(-1,1,1,1)],y=(new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_8__.I(_clipRay_js__WEBPACK_IMPORTED_MODULE_5__.vt),function I(){return[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)(),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)()]}())},"./node_modules/@arcgis/core/layers/graphics/dehydratedFeatureUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function t(t){return"point"===t.type}__webpack_require__.d(__webpack_exports__,{v:()=>t})},"./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$2:()=>k,$C:()=>A,Hj:()=>U,Mh:()=>Z,W$:()=>b,pW:()=>D,t8:()=>S,vY:()=>E});var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/unitUtils.js"),_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js"),_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js"),_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec42.js"),_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js"),_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/geometry/projection.js"),_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js"),_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js"),_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/centroid.js"),_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/coordsUtils.js"),_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/meshVertexSpaceUtils.js"),_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js"),_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js");function b(t,e){if("point"===t.type)return P(t,e,!1);if((0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__.gr)(t))switch(t.type){case"extent":return P(t.center,e,!1);case"polygon":return P(t.centroid,e,!1);case"polyline":return P(w(t),e,!0);case"mesh":return P((0,_geometry_support_meshVertexSpaceUtils_js__WEBPACK_IMPORTED_MODULE_11__.MW)(t.vertexSpace,t.spatialReference)??t.extent.center,e,!1);case"multipoint":return}else switch(t.type){case"extent":return P(function M(t){return(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__.T)(.5*(t.xmax+t.xmin),.5*(t.ymax+t.ymin),null!=t.zmin&&null!=t.zmax&&isFinite(t.zmin)&&isFinite(t.zmax)?.5*(t.zmax+t.zmin):void 0,t.spatialReference)}(t),e,!0);case"polygon":return P(function R(t){const e=t.rings[0];if(!e||0===e.length)return null;const r=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__.S8)(t.rings,!!t.hasZ);return(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__.T)(r[0],r[1],r[2],t.spatialReference)}(t),e,!0);case"polyline":return P(w(t),e,!0);case"multipoint":return}}function w(t){const e=t.paths[0];if(!e||0===e.length)return null;const r=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__.$H)(e,(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__.Yl)(e)/2);return(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__.T)(r[0],r[1],r[2],t.spatialReference)}function P(t,e,r){const n=r?t:(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__.EL)(t);return e&&t?(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.projectPoint)(t,n,e)?n:null:n}function S(t,e,r,n=0){if(t){e||(e=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__.vt)());const i=t;let o=.5*i.width*(r-1),s=.5*i.height*(r-1);return i.width<1e-7*i.height?o+=s/20:i.height<1e-7*i.width&&(s+=o/20),(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_4__.s)(e,i.xmin-o-n,i.ymin-s-n,i.xmax+o+n,i.ymax+s+n),e}return null}function A(t,e,r=null){const n=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.o8)(_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.Un);return null!=t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),null!=e?n[3]=e:null!=t&&t.length>3&&(n[3]=t[3]),r&&(n[0]*=r,n[1]*=r,n[2]*=r,n[3]*=r),n}function D(t=_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Un,e,r,n=1){const i=new Array(3);if(null==e||null==r)i[0]=1,i[1]=1,i[2]=1;else{let n,o=0;for(let s=2;s>=0;s--){const l=t[s],u=null!=l,a=0===s&&!n&&!u,c=r[s];let m;"symbol-value"===l||a?m=0!==c?e[s]/c:1:u&&"proportional"!==l&&isFinite(l)&&(m=0!==c?l/c:1),null!=m&&(i[s]=m,n=m,o=Math.max(o,Math.abs(m)))}for(let t=2;t>=0;t--)null==i[t]?i[t]=n:0===i[t]&&(i[t]=.001*o)}for(let o=2;o>=0;o--)i[o]/=n;return(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.ci)(i)}function U(t){return Z(function I(t){return null!=t.isPrimitive}(t)?[t.width,t.depth,t.height]:t)?null:"Symbol sizes may not be negative values"}function Z(t){const e=t=>null==t||t>=0;return Array.isArray(t)?t.every(e):e(t)}function k(t,o,s,l=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.vt)()){return t&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.Qr)(l,l,-t/180*Math.PI),o&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.eL)(l,l,o/180*Math.PI),s&&(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_1__.Z8)(l,l,s/180*Math.PI),l}function E(e,r,n){if(null!=n.minDemResolution)return n.minDemResolution;const i=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__.GA)(r),o=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.VL)(e)*i,s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.yr)(e)*i,l=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__.uJ)(e)*(r.isGeographic?1:i);return 0===o&&0===s&&0===l?n.minDemResolutionForPoints:.01*Math.max(o,s,l)}},"./node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CN:()=>a,PY:()=>c,Q_:()=>o,ny:()=>s,sZ:()=>u});__webpack_require__("./node_modules/@arcgis/core/core/has.js");var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/floatRGBA.js"),_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js"),_webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js"),_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/enums.js");const o=128,a=.5,c=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.CN)(a/2,a/2,1-a/2,1-a/2);function s(t){return"cross"===t||"x"===t}function u(t,r=o,c=r*a,s=0){const u=function i(t,r=o,n=r*a,e=0){switch(t){case"circle":default:return function f(t,r){const n=t/2-.5;return g(t,x(n,n,r/2))}(r,n);case"square":return function h(t,r){return T(t,r,!1)}(r,n);case"cross":return function l(t,r,n=0){return w(t,r,!1,n)}(r,n,e);case"x":return function m(t,r,n=0){return w(t,r,!0,n)}(r,n,e);case"kite":return function M(t,r){return T(t,r,!0)}(r,n);case"triangle":return function p(t,r){return g(t,R(t/2,r,r/2))}(r,n);case"arrow":return function b(t,r){const n=r,e=r/2,o=t/2,a=.8*n,c=x(o,(t-r)/2-a,Math.sqrt(a*a+e*e)),s=R(o,n,e);return g(t,((t,r)=>Math.max(s(t,r),-c(t,r))))}(r,n)}}(t,r,c,s);return new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_3__.g(u,{mipmap:!1,wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.pF.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_4__.pF.CLAMP_TO_EDGE},width:r,height:r,components:4,noUnpackFlip:!0,reloadable:!0})}function T(t,r,n){return n&&(r/=Math.SQRT2),g(t,((e,o)=>{let a=e-.5*t+.25,c=.5*t-o-.75;if(n){const t=(a+c)/Math.SQRT2;c=(c-a)/Math.SQRT2,a=t}return Math.max(Math.abs(a),Math.abs(c))-.5*r}))}function w(t,r,n,e=0){r-=e,n&&(r*=Math.SQRT2);const o=.5*r;return g(t,((r,a)=>{let c,s=r-.5*t,u=.5*t-a-1;if(n){const t=(s+u)/Math.SQRT2;u=(u-s)/Math.SQRT2,s=t}return s=Math.abs(s),u=Math.abs(u),c=s>u?s>o?Math.sqrt((s-o)*(s-o)+u*u):u:u>o?Math.sqrt(s*s+(u-o)*(u-o)):s,c-=e/2,c}))}function x(t,r,n){return(e,o)=>{const a=e-t,c=o-r;return Math.sqrt(a*a+c*c)-n}}function R(t,r,n){const e=Math.sqrt(r*r+n*n);return(o,a)=>{const c=Math.abs(o-t)-n,s=a-t+r/2+.75,u=(r*c+n*s)/e,i=-s;return Math.max(u,i)}}function g(r,n){const e=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let a=0;a<r;a++){const c=a+r*o;let s=n(a,o);s=s/r+.5,(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__.U)(s,e,4*c)}return e}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>l});var _shaderModules_BooleanBindUniform_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanBindUniform.js"),_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");function l(l){l.uniforms.add(new _shaderModules_BooleanBindUniform_js__WEBPACK_IMPORTED_MODULE_0__.o("alignPixelEnabled",(e=>e.alignPixelEnabled))),l.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_1__.H`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`),l.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_1__.H`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>u,R:()=>d});var _attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js"),_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js"),_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"),_shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js"),_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js"),_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js"),_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js"),_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");const d=.5;function u(u,v){u.include(_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__.Y6),u.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.r.POSITION,"vec3"),u.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.r.NORMAL,"vec3"),u.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_7__.r.CENTEROFFSETANDDISTANCE,"vec4");const m=u.vertex;(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.NB)(m,v),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.yu)(m,v),m.uniforms.add(new _shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_3__.I("viewport",(e=>e.camera.fullViewport)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_5__.m("polygonOffset",(e=>e.shaderPolygonOffset)),new _shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_4__.U("cameraGroundRelative",(e=>e.camera.aboveGround?1:-1))),v.hasVerticalOffset&&(0,_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__.V)(m),m.constants.add("smallOffsetAngle","float",.984807753012208),m.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`struct ProjectHUDAux {
vec3 posModel;
vec3 posView;
vec3 vnormal;
float distanceToCamera;
float absCosAngle;
};`),m.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`
    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {
      float pointGroundSign = ${v.terrainDepthTest?_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H.float(0):_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`sign(pointGroundDistance)`};
      if (pointGroundSign == 0.0) {
        pointGroundSign = cameraGroundRelative;
      }

      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground
      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise
      float groundRelative = cameraGroundRelative * pointGroundSign;

      // view angle dependent part of polygon offset emulation: we take the absolute value because the sign that is
      // dropped is instead introduced using the ground-relative position of the symbol and the camera
      if (polygonOffset > .0) {
        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);
        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;
        float factor = (1.0 - tanAlpha / viewport[2]);

        // same side of the terrain
        if (groundRelative > 0.0) {
          posView *= factor;
        }
        // opposite sides of the terrain
        else {
          posView /= factor;
        }
      }

      return groundRelative;
    }
  `),v.draped&&!v.hasVerticalOffset||(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.S7)(m),v.draped||(m.uniforms.add(new _shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_4__.U("perDistancePixelRatio",(e=>Math.tan(e.camera.fovY/2)/(e.camera.fullViewport[2]/2)))),m.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`
    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {
      float distanceToCamera = length(posView);

      // Compute offset in world units for a half pixel shift
      float pixelOffset = distanceToCamera * perDistancePixelRatio * ${_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H.float(d)};

      // Apply offset along normal in the direction away from the ground surface
      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;

      // Apply the same offset also on the view space position
      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;

      posModel += modelOffset;
      posView += viewOffset;
    }
  `)),v.screenCenterOffsetUnitsEnabled&&(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__.Nz)(m),v.hasScreenSizePerspective&&(0,_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__.OH)(m),m.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`
    vec4 projectPositionHUD(out ProjectHUDAux aux) {
      vec3 centerOffset = centerOffsetAndDistance.xyz;
      float pointGroundDistance = centerOffsetAndDistance.w;

      aux.posModel = position;
      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;
      aux.vnormal = normal;
      ${v.draped?"":"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);"}

      // Screen sized offset in world space, used for example for line callouts
      // Note: keep this implementation in sync with the CPU implementation, see
      //   - MaterialUtil.verticalOffsetAtDistance
      //   - HUDMaterial.applyVerticalOffsetTransformation

      aux.distanceToCamera = length(aux.posView);

      vec3 viewDirObjSpace = normalize(cameraPosition - aux.posModel);
      float cosAngle = dot(aux.vnormal, viewDirObjSpace);

      aux.absCosAngle = abs(cosAngle);

      ${v.hasScreenSizePerspective&&(v.hasVerticalOffset||v.screenCenterOffsetUnitsEnabled)?"vec3 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);":""}

      ${v.hasVerticalOffset?v.hasScreenSizePerspective?"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);":"float verticalOffsetScreenHeight = verticalOffset.x;":""}

      ${v.hasVerticalOffset?_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`
            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);
            vec3 modelOffset = aux.vnormal * worldOffset;
            aux.posModel += modelOffset;
            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;
            aux.posView += viewOffset;
            // Since we elevate the object, we need to take that into account
            // in the distance to ground
            pointGroundDistance += worldOffset;`:""}

      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);

      ${v.screenCenterOffsetUnitsEnabled?"":_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_6__.H`
            // Apply x/y in view space, but z in screen space (i.e. along posView direction)
            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);

            // Same material all have same z != 0.0 condition so should not lead to
            // branch fragmentation and will save a normalization if it's not needed
            if (centerOffset.z != 0.0) {
              aux.posView -= normalize(aux.posView) * centerOffset.z;
            }
          `}

      vec4 posProj = proj * vec4(aux.posView, 1.0);

      ${v.screenCenterOffsetUnitsEnabled?v.hasScreenSizePerspective?"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);":"float centerOffsetY = centerOffset.y;":""}

      ${v.screenCenterOffsetUnitsEnabled?"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;":""}

      // constant part of polygon offset emulation
      posProj.z -= groundRelative * polygonOffset * posProj.w;
      return posProj;
    }
  `)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var c;__webpack_require__.d(__webpack_exports__,{D:()=>c}),function(c){c[c.Occluded=0]="Occluded",c[c.NotOccluded=1]="NotOccluded",c[c.Both=2]="Both",c[c.COUNT=3]="COUNT"}(c||(c={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>n});var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js"),_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js"),_shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js"),_shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js"),_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js"),_shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js");function n(n){n.vertex.uniforms.add(new _shaderModules_FloatBindUniform_js__WEBPACK_IMPORTED_MODULE_3__.U("renderTransparentlyOccludedHUD",(e=>e.hudRenderStyle===_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__.D.Occluded?1:e.hudRenderStyle===_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__.D.NotOccluded?0:.75)),new _shaderModules_Float4BindUniform_js__WEBPACK_IMPORTED_MODULE_2__.I("viewport",(e=>e.camera.fullViewport)),new _shaderModules_Texture2DBindUniform_js__WEBPACK_IMPORTED_MODULE_5__.x("hudVisibilityTexture",(e=>e.hudVisibility?.getTexture()))),n.vertex.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__.K),n.vertex.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_4__.H`bool testHUDVisibility(vec4 posProj) {
vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);
vec4 occlusionPixel = texture(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);
if (renderTransparentlyOccludedHUD > 0.5) {
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * renderTransparentlyOccludedHUD < 1.0;
}
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>t});var _shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/glsl.js");function t(t){t.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_0__.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}`),t.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_0__.H`const vec4 RGBA_TO_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgbaTofloat(vec4 rgba) {
return dot(rgba, RGBA_TO_FLOAT_FACTORS);
}`),t.code.add(_shaderModules_glsl_js__WEBPACK_IMPORTED_MODULE_0__.H`const vec4 uninterpolatedRGBAToFloatFactors = vec4(
1.0 / 256.0,
1.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0 / 256.0
);
float uninterpolatedRGBAToFloat(vec4 rgba) {
return (dot(round(rgba * 255.0), uninterpolatedRGBAToFloatFactors) - 0.5) * 2.0;
}`)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>o});var _webgl_BindType_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/BindType.js"),_webgl_Uniform_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/Uniform.js");class o extends _webgl_Uniform_js__WEBPACK_IMPORTED_MODULE_1__.n{constructor(e,o){super(e,"vec4",_webgl_BindType_js__WEBPACK_IMPORTED_MODULE_0__.c.Draw,((r,s,t)=>r.setUniform4fv(e,o(s,t))))}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{zC:()=>mt,C1:()=>F,EE:()=>at,YG:()=>ct,nW:()=>ft,td:()=>B,_B:()=>gt,Nq:()=>it,DJ:()=>lt,uX:()=>st,Z8:()=>wt,CM:()=>ot,Gj:()=>ut,Ho:()=>et,Nb:()=>pt,Xl:()=>Mt,xh:()=>Ot});var n,vec32=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),vec3f32=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f32.js"),vec3f64=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),DoubleArray=__webpack_require__("./node_modules/@arcgis/core/geometry/support/DoubleArray.js"),FloatArray=__webpack_require__("./node_modules/@arcgis/core/geometry/support/FloatArray.js"),Indices=__webpack_require__("./node_modules/@arcgis/core/geometry/support/Indices.js"),plane=__webpack_require__("./node_modules/@arcgis/core/geometry/support/plane.js"),ray=__webpack_require__("./node_modules/@arcgis/core/geometry/support/ray.js"),Attribute=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js");!function(n){n.length=function t(n,t){const c=n[t],o=n[t+1],r=n[t+2];return Math.sqrt(c*c+o*o+r*r)},n.normalize=function c(n,t){const c=n[t],o=n[t+1],r=n[t+2],u=1/Math.sqrt(c*c+o*o+r*r);n[t]*=u,n[t+1]*=u,n[t+2]*=u},n.scale=function o(n,t,c){n[t]*=c,n[t+1]*=c,n[t+2]*=c},n.add=function r(n,t,c,o,r,u=t){(r=r||n)[u]=n[t]+c[o],r[u+1]=n[t+1]+c[o+1],r[u+2]=n[t+2]+c[o+2]},n.subtract=function u(n,t,c,o,r,u=t){(r=r||n)[u]=n[t]-c[o],r[u+1]=n[t+1]-c[o+1],r[u+2]=n[t+2]-c[o+2]}}(n||(n={}));var ContentObjectType=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js"),Geometry=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js"),Util=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js"),VertexAttribute=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js");const j=n,E=[[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5],[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5]],U=[0,0,1,-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1],V=[0,0,1,0,1,1,0,1],v=[0,1,2,2,3,0,4,0,3,3,7,4,1,5,6,6,2,1,1,0,4,4,5,1,3,2,6,6,7,3,5,4,7,7,6,5],x=new Array(36);for(let Nt=0;Nt<6;Nt++)for(let t=0;t<6;t++)x[6*Nt+t]=Nt;const C=new Array(36);for(let Nt=0;Nt<6;Nt++)C[6*Nt]=0,C[6*Nt+1]=1,C[6*Nt+2]=2,C[6*Nt+3]=2,C[6*Nt+4]=3,C[6*Nt+5]=0;function F(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(24);for(let o=0;o<8;o++)e[3*o]=E[o][0]*n[0],e[3*o+1]=E[o][1]*n[1],e[3*o+2]=E[o][2]*n[2];return new Geometry.V(t,[[VertexAttribute.r.POSITION,new Attribute.n(e,v,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(U,x,3)],[VertexAttribute.r.UV0,new Attribute.n(V,C,2)]])}const G=[[-.5,0,-.5],[.5,0,-.5],[.5,0,.5],[-.5,0,.5],[0,-.5,0],[0,.5,0]],D=[0,1,-1,1,1,0,0,1,1,-1,1,0,0,-1,-1,1,-1,0,0,-1,1,-1,-1,0],q=[5,1,0,5,2,1,5,3,2,5,0,3,4,0,1,4,1,2,4,2,3,4,3,0],z=[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7];function B(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(18);for(let o=0;o<6;o++)e[3*o]=G[o][0]*n[0],e[3*o+1]=G[o][1]*n[1],e[3*o+2]=G[o][2]*n[2];return new Geometry.V(t,[[VertexAttribute.r.POSITION,new Attribute.n(e,q,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(D,z,3)]])}const k=(0,vec3f32.fA)(-.5,0,-.5),Z=(0,vec3f32.fA)(.5,0,-.5),H=(0,vec3f32.fA)(0,0,.5),J=(0,vec3f32.fA)(0,.5,0),K=(0,vec3f32.vt)(),Q=(0,vec3f32.vt)(),W=(0,vec3f32.vt)(),X=(0,vec3f32.vt)(),Y=(0,vec3f32.vt)();(0,vec32.d)(K,k,J),(0,vec32.d)(Q,k,Z),(0,vec32.e)(W,K,Q),(0,vec32.n)(W,W),(0,vec32.d)(K,Z,J),(0,vec32.d)(Q,Z,H),(0,vec32.e)(X,K,Q),(0,vec32.n)(X,X),(0,vec32.d)(K,H,J),(0,vec32.d)(Q,H,k),(0,vec32.e)(Y,K,Q),(0,vec32.n)(Y,Y);const $=[k,Z,H,J],_=[0,-1,0,W[0],W[1],W[2],X[0],X[1],X[2],Y[0],Y[1],Y[2]],tt=[0,1,2,3,1,0,3,2,1,3,0,2],nt=[0,0,0,1,1,1,2,2,2,3,3,3];function et(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(12);for(let o=0;o<4;o++)e[3*o]=$[o][0]*n[0],e[3*o+1]=$[o][1]*n[1],e[3*o+2]=$[o][2]*n[2];return new Geometry.V(t,[[VertexAttribute.r.POSITION,new Attribute.n(e,tt,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(_,nt,3)]])}function ot(t,n,e,o,s={uv:!0}){const r=-Math.PI,l=2*Math.PI,h=-Math.PI/2,u=Math.PI,c=Math.max(3,Math.floor(e)),a=Math.max(2,Math.floor(o)),f=(c+1)*(a+1),p=(0,FloatArray.oe)(3*f),i=(0,FloatArray.oe)(3*f),w=(0,FloatArray.oe)(2*f),g=[];let m=0;for(let O=0;O<=a;O++){const t=[],e=O/a,o=h+e*u,s=Math.cos(o);for(let h=0;h<=c;h++){const u=h/c,a=r+u*l,f=Math.cos(a)*s,g=Math.sin(o),O=-Math.sin(a)*s;p[3*m]=f*n,p[3*m+1]=g*n,p[3*m+2]=O*n,i[3*m]=f,i[3*m+1]=g,i[3*m+2]=O,w[2*m]=u,w[2*m+1]=e,t.push(m),++m}g.push(t)}const M=new Array;for(let O=0;O<a;O++)for(let t=0;t<c;t++){const n=g[O][t],e=g[O][t+1],o=g[O+1][t+1],s=g[O+1][t];0===O?(M.push(n),M.push(o),M.push(s)):O===a-1?(M.push(n),M.push(e),M.push(o)):(M.push(n),M.push(e),M.push(o),M.push(o),M.push(s),M.push(n))}const I=[[VertexAttribute.r.POSITION,new Attribute.n(p,M,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(i,M,3,!0)]];return s.uv&&I.push([VertexAttribute.r.UV0,new Attribute.n(w,M,2,!0)]),s.offset&&(I[0][0]=VertexAttribute.r.OFFSET,I.push([VertexAttribute.r.POSITION,new Attribute.n(Float64Array.from(s.offset),(0,Indices.EH)(M.length),3,!0)])),new Geometry.V(t,I)}function st(t,n,e,o){const s=function rt(t,n,e){const o=t;let s,r;if(e)s=[0,-1,0,1,0,0,0,0,1,-1,0,0,0,0,-1,0,1,0],r=[0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1];else{const t=o*(1+Math.sqrt(5))/2;s=[-o,t,0,o,t,0,-o,-t,0,o,-t,0,0,-o,t,0,o,t,0,-o,-t,0,o,-t,t,0,-o,t,0,o,-t,0,-o,-t,0,o],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]}for(let c=0;c<s.length;c+=3)j.scale(s,c,t/j.length(s,c));let l={};function h(n,e){n>e&&([n,e]=[e,n]);const o=n.toString()+"."+e.toString();if(l[o])return l[o];let r=s.length;return s.length+=3,j.add(s,3*n,s,3*e,s,r),j.scale(s,r,t/j.length(s,r)),r/=3,l[o]=r,r}for(let c=0;c<n;c++){const t=r.length,n=new Array(4*t);for(let e=0;e<t;e+=3){const t=r[e],o=r[e+1],s=r[e+2],l=h(t,o),u=h(o,s),c=h(s,t),a=4*e;n[a]=t,n[a+1]=l,n[a+2]=c,n[a+3]=o,n[a+4]=u,n[a+5]=l,n[a+6]=s,n[a+7]=c,n[a+8]=u,n[a+9]=l,n[a+10]=u,n[a+11]=c}r=n,l={}}const u=(0,FloatArray.Wz)(s);for(let c=0;c<u.length;c+=3)j.normalize(u,c);return[[VertexAttribute.r.POSITION,new Attribute.n((0,FloatArray.Wz)(s),r,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(u,r,3,!0)]]}(n,e,o);return new Geometry.V(t,s)}function lt(t,n={}){const{normal:e,position:o,color:s,rotation:r,size:l,centerOffsetAndDistance:h,uvs:u,featureAttribute:c,objectAndLayerIdColor:a=null}=n,f=o?(0,vec3f64.o8)(o):(0,vec3f64.vt)(),g=e?(0,vec3f64.o8)(e):(0,vec3f64.fA)(0,0,1),O=s?[255*s[0],255*s[1],255*s[2],s.length>3?255*s[3]:255]:[255,255,255,255],m=null!=l&&2===l.length?l:[1,1],M=null!=r?[r]:[0],I=(0,Indices.EH)(1),y=[[VertexAttribute.r.POSITION,new Attribute.n(f,I,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(g,I,3,!0)],[VertexAttribute.r.COLOR,new Attribute.n(O,I,4,!0)],[VertexAttribute.r.SIZE,new Attribute.n(m,I,2)],[VertexAttribute.r.ROTATION,new Attribute.n(M,I,1,!0)]];if(u&&y.push([VertexAttribute.r.UV0,new Attribute.n(u,I,u.length)]),null!=h){const t=[h[0],h[1],h[2],h[3]];y.push([VertexAttribute.r.CENTEROFFSETANDDISTANCE,new Attribute.n(t,I,4)])}if(c){const t=[c[0],c[1],c[2],c[3]];y.push([VertexAttribute.r.FEATUREATTRIBUTE,new Attribute.n(t,I,4)])}return new Geometry.V(t,y,null,ContentObjectType.X.Point,a)}const ht=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]];function ut(t,n=ht){const e=new Array(12);for(let c=0;c<4;c++)for(let t=0;t<3;t++)e[3*c+t]=n[c][t];const o=[0,1,2,2,3,0],r=[0,0,0,0,0,0],u=[[VertexAttribute.r.POSITION,new Attribute.n(e,o,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n([0,0,1],r,3,!0)],[VertexAttribute.r.UV0,new Attribute.n([0,0,1,0,1,1,0,1],o,2,!0)],[VertexAttribute.r.COLOR,new Attribute.n([255,255,255,255],r,4,!0)]];return new Geometry.V(t,u)}function ct(t,n,e,o,s=!0,r=!0){let l=0;const h=n,u=t;let a=(0,vec3f32.fA)(0,l,0),f=(0,vec3f32.fA)(0,l+u,0),p=(0,vec3f32.fA)(0,-1,0),i=(0,vec3f32.fA)(0,1,0);o&&(l=u,f=(0,vec3f32.fA)(0,0,0),a=(0,vec3f32.fA)(0,l,0),p=(0,vec3f32.fA)(0,1,0),i=(0,vec3f32.fA)(0,-1,0));const w=[f,a],g=[p,i],m=e+2,A=Math.sqrt(u*u+h*h);if(o)for(let O=e-1;O>=0;O--){const t=O*(2*Math.PI/e),n=(0,vec3f32.fA)(Math.cos(t)*h,l,Math.sin(t)*h);w.push(n);const o=(0,vec3f32.fA)(u*Math.cos(t)/A,-h/A,u*Math.sin(t)/A);g.push(o)}else for(let O=0;O<e;O++){const t=O*(2*Math.PI/e),n=(0,vec3f32.fA)(Math.cos(t)*h,l,Math.sin(t)*h);w.push(n);const o=(0,vec3f32.fA)(u*Math.cos(t)/A,h/A,u*Math.sin(t)/A);g.push(o)}const M=new Array,I=new Array;if(s){for(let t=3;t<w.length;t++)M.push(1),M.push(t-1),M.push(t),I.push(0),I.push(0),I.push(0);M.push(w.length-1),M.push(2),M.push(1),I.push(0),I.push(0),I.push(0)}if(r){for(let t=3;t<w.length;t++)M.push(t),M.push(t-1),M.push(0),I.push(t),I.push(t-1),I.push(1);M.push(0),M.push(2),M.push(w.length-1),I.push(1),I.push(2),I.push(g.length-1)}const y=(0,FloatArray.oe)(3*m);for(let c=0;c<m;c++)y[3*c]=w[c][0],y[3*c+1]=w[c][1],y[3*c+2]=w[c][2];const N=(0,FloatArray.oe)(3*m);for(let c=0;c<m;c++)N[3*c]=g[c][0],N[3*c+1]=g[c][1],N[3*c+2]=g[c][2];return[[VertexAttribute.r.POSITION,new Attribute.n(y,M,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(N,I,3,!0)]]}function at(t,n,e,o,s,r=!0,l=!0){return new Geometry.V(t,ct(n,e,o,s,r,l))}function ft(t,h,u,p,i,w,g){const m=i?(0,vec3f32.o8)(i):(0,vec3f32.fA)(1,0,0),A=w?(0,vec3f32.o8)(w):(0,vec3f32.fA)(0,0,0);g??=!0;const M=(0,vec3f32.vt)();(0,vec32.n)(M,m);const I=(0,vec3f32.vt)();(0,vec32.h)(I,M,Math.abs(h));const y=(0,vec3f32.vt)();(0,vec32.h)(y,I,-.5),(0,vec32.g)(y,y,A);const N=(0,vec3f32.fA)(0,1,0);Math.abs(1-(0,vec32.f)(M,N))<.2&&(0,vec32.i)(N,0,0,1);const P=(0,vec3f32.vt)();(0,vec32.e)(P,M,N),(0,vec32.n)(P,P),(0,vec32.e)(N,P,M);const S=2*p+(g?2:0),R=p+(g?2:0),L=(0,FloatArray.oe)(3*S),j=(0,FloatArray.oe)(3*R),E=(0,FloatArray.oe)(2*S),U=new Array(3*p*(g?4:2)),V=new Array(3*p*(g?4:2));g&&(L[3*(S-2)]=y[0],L[3*(S-2)+1]=y[1],L[3*(S-2)+2]=y[2],E[2*(S-2)]=0,E[2*(S-2)+1]=0,L[3*(S-1)]=L[3*(S-2)]+I[0],L[3*(S-1)+1]=L[3*(S-2)+1]+I[1],L[3*(S-1)+2]=L[3*(S-2)+2]+I[2],E[2*(S-1)]=1,E[2*(S-1)+1]=1,j[3*(R-2)]=-M[0],j[3*(R-2)+1]=-M[1],j[3*(R-2)+2]=-M[2],j[3*(R-1)]=M[0],j[3*(R-1)+1]=M[1],j[3*(R-1)+2]=M[2]);const v=(t,n,e)=>{U[t]=n,V[t]=e};let x=0;const C=(0,vec3f32.vt)(),F=(0,vec3f32.vt)();for(let n=0;n<p;n++){const t=n*(2*Math.PI/p);(0,vec32.h)(C,N,Math.sin(t)),(0,vec32.h)(F,P,Math.cos(t)),(0,vec32.g)(C,C,F),j[3*n]=C[0],j[3*n+1]=C[1],j[3*n+2]=C[2],(0,vec32.h)(C,C,u),(0,vec32.g)(C,C,y),L[3*n]=C[0],L[3*n+1]=C[1],L[3*n+2]=C[2],E[2*n]=n/p,E[2*n+1]=0,L[3*(n+p)]=L[3*n]+I[0],L[3*(n+p)+1]=L[3*n+1]+I[1],L[3*(n+p)+2]=L[3*n+2]+I[2],E[2*(n+p)]=n/p,E[2*n+1]=1;const e=(n+1)%p;v(x++,n,n),v(x++,n+p,n),v(x++,e,e),v(x++,e,e),v(x++,n+p,n),v(x++,e+p,e)}if(g){for(let t=0;t<p;t++){const n=(t+1)%p;v(x++,S-2,R-2),v(x++,t,R-2),v(x++,n,R-2)}for(let t=0;t<p;t++){const n=(t+1)%p;v(x++,t+p,R-1),v(x++,S-1,R-1),v(x++,n+p,R-1)}}const G=[[VertexAttribute.r.POSITION,new Attribute.n(L,U,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(j,V,3,!0)],[VertexAttribute.r.UV0,new Attribute.n(E,U,2,!0)]];return new Geometry.V(t,G)}function pt(t,n,e,o,s,r){o=o||10,s=null==s||s,(0,Util.vA)(n.length>1);const h=[],u=[];for(let c=0;c<o;c++){h.push([0,-c-1,-(c+1)%o-1]);const t=c/o*2*Math.PI;u.push([Math.cos(t)*e,Math.sin(t)*e])}return it(t,u,n,[[0,0,0]],h,s,r)}function it(r,u,a,f,p,w,g=(0,vec3f32.fA)(0,0,0)){const m=u.length,A=(0,FloatArray.oe)(a.length*m*3+(6*f.length||0)),M=(0,FloatArray.oe)(a.length*m*3+(f?6:0)),S=new Array,R=new Array;let L=0,j=0;const E=(0,vec3f64.vt)(),U=(0,vec3f64.vt)(),V=(0,vec3f64.vt)(),v=(0,vec3f64.vt)(),x=(0,vec3f64.vt)(),C=(0,vec3f64.vt)(),F=(0,vec3f64.vt)(),G=(0,vec3f64.vt)(),D=(0,vec3f64.vt)(),q=(0,vec3f64.vt)(),z=(0,vec3f64.vt)(),B=(0,vec3f64.vt)(),k=(0,vec3f64.vt)(),Z=(0,plane.vt)();(0,vec32.i)(D,0,1,0),(0,vec32.d)(U,a[1],a[0]),(0,vec32.n)(U,U),w?((0,vec32.g)(G,a[0],g),(0,vec32.n)(V,G)):(0,vec32.i)(V,0,0,1),Mt(U,V,D,D,x,V,It),(0,vec32.c)(v,V),(0,vec32.c)(B,x);for(let t=0;t<f.length;t++)(0,vec32.h)(C,x,f[t][0]),(0,vec32.h)(G,V,f[t][2]),(0,vec32.g)(C,C,G),(0,vec32.g)(C,C,a[0]),A[L++]=C[0],A[L++]=C[1],A[L++]=C[2];M[j++]=-U[0],M[j++]=-U[1],M[j++]=-U[2];for(let t=0;t<p.length;t++)S.push(p[t][0]>0?p[t][0]:-p[t][0]-1+f.length),S.push(p[t][1]>0?p[t][1]:-p[t][1]-1+f.length),S.push(p[t][2]>0?p[t][2]:-p[t][2]-1+f.length),R.push(0),R.push(0),R.push(0);let H=f.length;const J=f.length-1;for(let l=0;l<a.length;l++){let r=!1;l>0&&((0,vec32.c)(E,U),l<a.length-1?((0,vec32.d)(U,a[l+1],a[l]),(0,vec32.n)(U,U)):r=!0,(0,vec32.g)(q,E,U),(0,vec32.n)(q,q),(0,vec32.g)(z,a[l-1],v),(0,plane.O_)(a[l],q,Z),(0,plane.Ui)(Z,(0,ray.LV)(z,E),G)?((0,vec32.d)(G,G,a[l]),(0,vec32.n)(V,G),(0,vec32.e)(x,q,V),(0,vec32.n)(x,x)):Mt(q,v,B,D,x,V,It),(0,vec32.c)(v,V),(0,vec32.c)(B,x)),w&&((0,vec32.g)(G,a[l],g),(0,vec32.n)(k,G));for(let t=0;t<m;t++)if((0,vec32.h)(C,x,u[t][0]),(0,vec32.h)(G,V,u[t][1]),(0,vec32.g)(C,C,G),(0,vec32.n)(F,C),M[j++]=F[0],M[j++]=F[1],M[j++]=F[2],(0,vec32.g)(C,C,a[l]),A[L++]=C[0],A[L++]=C[1],A[L++]=C[2],!r){const n=(t+1)%m;S.push(H+t),S.push(H+m+t),S.push(H+n),S.push(H+n),S.push(H+m+t),S.push(H+m+n);for(let t=0;t<6;t++){const n=S.length-6;R.push(S[n+t]-J)}}H+=m}const K=a[a.length-1];for(let t=0;t<f.length;t++)(0,vec32.h)(C,x,f[t][0]),(0,vec32.h)(G,V,f[t][1]),(0,vec32.g)(C,C,G),(0,vec32.g)(C,C,K),A[L++]=C[0],A[L++]=C[1],A[L++]=C[2];const Q=j/3;M[j++]=U[0],M[j++]=U[1],M[j++]=U[2];const W=H-m;for(let t=0;t<p.length;t++)S.push(p[t][0]>=0?H+p[t][0]:-p[t][0]-1+W),S.push(p[t][2]>=0?H+p[t][2]:-p[t][2]-1+W),S.push(p[t][1]>=0?H+p[t][1]:-p[t][1]-1+W),R.push(Q),R.push(Q),R.push(Q);const X=[[VertexAttribute.r.POSITION,new Attribute.n(A,S,3,!0)],[VertexAttribute.r.NORMAL,new Attribute.n(M,R,3,!0)]];return new Geometry.V(r,X)}function wt(t,n,e,o){(0,Util.vA)(n.length>1,"createPolylineGeometry(): polyline needs at least 2 points"),(0,Util.vA)(3===n[0].length,"createPolylineGeometry(): malformed vertex"),(0,Util.vA)(null==e||e.length===n.length,"createPolylineGeometry: need same number of points and normals"),(0,Util.vA)(null==e||3===e[0].length,"createPolylineGeometry(): malformed normal");const s=(0,DoubleArray.jh)(3*n.length),r=new Array(2*(n.length-1));let l=0,h=0;for(let c=0;c<n.length;c++){for(let t=0;t<3;t++)s[l++]=n[c][t];c>0&&(r[h++]=c-1,r[h++]=c)}const u=[[VertexAttribute.r.POSITION,new Attribute.n(s,r,3,!0)]];if(e){const t=(0,FloatArray.oe)(3*e.length);let o=0;for(let s=0;s<n.length;s++)for(let n=0;n<3;n++)t[o++]=e[s][n];u.push([VertexAttribute.r.NORMAL,new Attribute.n(t,r,3,!0)])}return o&&u.push([VertexAttribute.r.COLOR,new Attribute.n(o,(0,Indices.tM)(o.length/4),4)]),new Geometry.V(t,u,null,ContentObjectType.X.Line)}function gt(t,n,e,o,s,r=0){const l=new Array(18),h=[[-e,r,s/2],[o,r,s/2],[0,n+r,s/2],[-e,r,-s/2],[o,r,-s/2],[0,n+r,-s/2]];for(let c=0;c<6;c++)l[3*c]=h[c][0],l[3*c+1]=h[c][1],l[3*c+2]=h[c][2];return new Geometry.V(t,[[VertexAttribute.r.POSITION,new Attribute.n(l,[0,1,2,3,0,2,2,5,3,1,4,5,5,2,1,1,0,3,3,4,1,4,3,5],3,!0)]])}function Ot(t,n){const e=t.getMutableAttribute(VertexAttribute.r.POSITION).data;for(let o=0;o<e.length;o+=3){const t=e[o],s=e[o+1],r=e[o+2];(0,vec32.i)(yt,t,s,r),(0,vec32.t)(yt,yt,n),e[o]=yt[0],e[o+1]=yt[1],e[o+2]=yt[2]}}function mt(t,n=t){const e=t.attributes,o=e.get(VertexAttribute.r.POSITION).data,s=e.get(VertexAttribute.r.NORMAL).data;if(s){const t=n.getMutableAttribute(VertexAttribute.r.NORMAL).data;for(let n=0;n<s.length;n+=3){const e=s[n+1];t[n+1]=-s[n+2],t[n+2]=e}}if(o){const t=n.getMutableAttribute(VertexAttribute.r.POSITION).data;for(let n=0;n<o.length;n+=3){const e=o[n+1];t[n+1]=-o[n+2],t[n+2]=e}}}function At(t,o,s,l,h){return!(Math.abs((0,vec32.f)(o,t))>h||((0,vec32.e)(s,t,o),(0,vec32.n)(s,s),(0,vec32.e)(l,s,t),(0,vec32.n)(l,l),0))}function Mt(t,n,e,o,s,r,l){return At(t,n,s,r,l)||At(t,e,s,r,l)||At(t,o,s,r,l)}const It=.99619469809,yt=(0,vec3f64.vt)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G7:()=>R,hz:()=>T});var _core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/math/mat4.js"),_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/mat4f64.js"),_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec42.js"),_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec4f64.js"),_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/ray.js"),_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/ViewingMode.js"),_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js"),_IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js"),_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js"),_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js");const E=1e-5;class b{constructor(t){this.options=new _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.H6,this._results=new A,this.transform=new _verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.dg,this.tolerance=E,this.verticalOffset=null,this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),this._rayEnd=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),this._rayBeginTransformed=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),this._rayEndTransformed=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),this.viewingMode=t??_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__.RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,r,i){this.resetWithRay((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.Cr)(t,r,this._ray),i)}resetWithRay(t,r){this.camera=r,t!==this._ray&&(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__.RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(t=null,r,i,s,e){this.point=r,this.filterPredicate=s,this.tolerance=i??E;const a=(0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.ou)(this.verticalOffset);if(t&&t.length>0){const r=e?t=>{e(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const i of t){const t=i.getSpatialQueryAccelerator?.();null!=t?(null!=a?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,r,a):t.forEachAlongRay(this._ray.origin,this._ray.direction,r),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(r)):i.objects.forAll((t=>r(t)))}}this.sortResults()}intersectObject(t){const r=t.geometries;if(!r)return;const s=t.effectiveTransformation,a=(0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__.ou)(this.verticalOffset);for(const n of r){if(!n.visible)continue;const{material:r,id:o}=n;if(!r.visible)continue;this.transform.setAndInvalidateLazyTransforms(s,n.transformation),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.t)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.t)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const h=this.transform.transform;null!=a&&(a.objectTransform=this.transform),r.intersect(n,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((r,s,e,a,n,d)=>{if(r>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,r))return;const c=a?this._results.hud:this._results,l=a?a=>{const h=new _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__.B$(t,o,e,d);a.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.dz.HUD,h,r,s,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.zK,n)}:i=>i.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.dz.OBJECT,{object:t,geometryId:o,triangleNr:e},r,s,h,n);if((null==c.min.drapedLayerOrder||n>=c.min.drapedLayerOrder)&&(null==c.min.dist||r<c.min.dist)&&l(c.min),this.options.store!==_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.oH.MIN&&(null==c.max.drapedLayerOrder||n<c.max.drapedLayerOrder)&&(null==c.max.dist||r>c.max.dist)&&l(c.max),this.options.store===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.oH.ALL)if(a){const t=new B(this._ray);l(t),this._results.hud.all.push(t)}else{const t=new I(this._ray);l(t),this._results.all.push(t)}}}))}}sortResults(t=this._results.all){t.sort(((t,r)=>t.dist!==r.dist?(t.dist??0)-(r.dist??0):t.drapedLayerOrder!==r.drapedLayerOrder?x(t.drapedLayerOrder,r.drapedLayerOrder):x(t.drapedLayerGraphicOrder,r.drapedLayerGraphicOrder)))}}function x(t,r){return(r??-Number.MAX_VALUE)-(t??-Number.MAX_VALUE)}function T(t){return new b(t)}class A{constructor(){this.min=new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)()),this.max=new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)()),this.hud={min:new B((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)()),max:new B((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)()),all:new Array},this.ground=new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class I{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(G,this.ray.direction,this.dist),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.l)(G)):null}withinDistance(t){return!!(0,_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__.i3)(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!(0,_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__.i3)(this)&&((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(G,this.ray.direction,this.dist),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(t,this.ray.origin,G),!0)}getTransformedNormal(t){return(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(M,this.normal),M[3]=0,(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_4__.t)(M,M,this.transformation),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(t,M),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.n)(t,t)}constructor(t){this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.dz.OBJECT,this.normal=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),this.transformation=(0,_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.vt)(),this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.dz.OBJECT,(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.C)(t,this._ray)}set(r,s,e,a,n,h,d){this.intersector=r,this.dist=e,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal,a??_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Cb),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.C)(this.transformation,n??_core_libs_gl_matrix_2_factories_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.zK),this.target=s,this.drapedLayerOrder=h,this.drapedLayerGraphicOrder=d}copy(r){(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__.C)(r.ray,this._ray),this.intersector=r.intersector,this.dist=r.dist,this.target=r.target,this.drapedLayerOrder=r.drapedLayerOrder,this.drapedLayerGraphicOrder=r.drapedLayerGraphicOrder,(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal,r.normal),(0,_core_libs_gl_matrix_2_math_mat4_js__WEBPACK_IMPORTED_MODULE_0__.C)(this.transformation,r.transformation)}}class B extends I{constructor(){super(...arguments),this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__.dz.HUD}}function R(t){return new I(t)}const G=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),M=(0,_core_libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.vt)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var i,e;__webpack_require__.d(__webpack_exports__,{H6:()=>s,dz:()=>i,oH:()=>e}),function(i){i[i.OBJECT=0]="OBJECT",i[i.HUD=1]="HUD",i[i.TERRAIN=2]="TERRAIN",i[i.OVERLAY=3]="OVERLAY",i[i.I3S=4]="I3S",i[i.PCL=5]="PCL",i[i.LOD=6]="LOD",i[i.VOXEL=7]="VOXEL",i[i.TILES3D=8]="TILES3D"}(i||(i={}));class s{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=e.ALL,this.normalRequired=!0,this.excludeLabels=!1}}!function(i){i[i.MIN=0]="MIN",i[i.MINMAX=1]="MINMAX",i[i.ALL=2]="ALL"}(e||(e={}))},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B$:()=>r,HE:()=>e,R6:()=>o});var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");class t{constructor(s,t,r){this.object=s,this.geometryId=t,this.triangleNr=r}}class r extends t{constructor(t,r,c,e){super(t,r,c),this.center=null!=e?(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.o8)(e):null}}class e{constructor(s){this.layerUid=s}}class o extends e{constructor(s,t){super(s),this.graphicUid=t}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>b});var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/ObjectPool.js"),_core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/PooledArray.js"),_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js"),_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/frustum.js"),_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/geometry/support/ray.js"),_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/sphere.js"),_Util_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js");class b{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,e){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new g,this._objectCount=0,e&&(void 0!==e.maximumObjectsPerNode&&(this._maximumObjectsPerNode=e.maximumObjectsPerNode),void 0!==e.maximumDepth&&(this._maximumDepth=e.maximumDepth))}destroy(){this._degenerateObjects.clear(),g.clearPool(),q[0]=null,K.prune(),Q.prune()}add(t,e=t.length){this._objectCount+=e,this._grow(t,e);const n=g.acquire();for(let o=0;o<e;o++){const e=t[o];this._isDegenerate(e)?this._degenerateObjects.add(e):(n.init(this._root),this._add(e,n))}g.release(n)}remove(t,e=null){this._objectCount-=t.length;const n=g.acquire();for(const o of t){const t=e??(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.e)(this.objectToBoundingSphere(o),J);C(t[3])?(n.init(this._root),O(o,t,n)):this._degenerateObjects.delete(o)}g.release(n),this._shrink()}update(t,e){if(!C(e[3])&&this._isDegenerate(t))return;const n=function y(t){return q[0]=t,q}(t);this.remove(n,e),this.add(n)}forEachAlongRay(t,e,n){const o=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__.LV)(t,e);S(this._root,(t=>{if(!function T(t,e){return B((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds),2*-e.halfSize,L),B((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds),2*e.halfSize,H),(0,_Util_js__WEBPACK_IMPORTED_MODULE_7__.O_)(t.origin,t.direction,L,H)}(o,t))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObject(o,t)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObject(o,t)&&n(t)})),!0}))}forEachAlongRayWithVerticalOffset(t,e,n,o){const i=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__.LV)(t,e);S(this._root,(t=>{if(!function z(t,e,n){return B((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds),2*-e.halfSize,L),B((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds),2*e.halfSize,H),n.applyToMinMax(L,H),(0,_Util_js__WEBPACK_IMPORTED_MODULE_7__.O_)(t.origin,t.direction,L,H)}(i,t,o))return!1;const e=t.node;return e.terminals.forAll((t=>{this._intersectsObjectWithOffset(i,t,o)&&n(t)})),null!==e.residents&&e.residents.forAll((t=>{this._intersectsObjectWithOffset(i,t,o)&&n(t)})),!0}))}forEach(t){S(this._root,(e=>{const n=e.node;return n.terminals.forAll(t),null!==n.residents&&n.residents.forAll(t),!0})),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,e,n,o=()=>!0,s=1/0){let h=1/0,a=1/0,d=null;const u=F(t,e),c=i=>{if(--s,!o(i))return;const r=this.objectToBoundingSphere(i);if(!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__.m7)(n,r))return;const u=v(t,e,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(r)),c=u-r[3],f=u+r[3];c<h&&(h=c,a=f,d=i)};return j(this._root,(o=>{if(s<=0||!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__.m7)(n,o.bounds))return!1;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(I,u,o.halfSize),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(I,I,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(o.bounds)),v(t,e,I)>a)return!1;const h=o.node;return h.terminals.forAll((t=>c(t))),null!==h.residents&&h.residents.forAll((t=>c(t))),!0}),t,e),d}forEachInDepthRange(t,e,n,o,s,h,a){let d=-1/0,u=1/0;const c={setRange:t=>{n===b.DepthOrder.FRONT_TO_BACK?(d=Math.max(d,t.near),u=Math.min(u,t.far)):(d=Math.max(d,-t.far),u=Math.min(u,-t.near))}};c.setRange(o);const f=v(e,n,t),_=F(e,n),p=F(e,-n),g=t=>{if(!a(t))return;const o=this.objectToBoundingSphere(t),i=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(o),r=v(e,n,i)-f,_=r-o[3],p=r+o[3];_>u||p<d||!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__.m7)(h,o)||s(t,c)};j(this._root,(t=>{if(!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__.m7)(h,t.bounds))return!1;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(I,_,t.halfSize),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(I,I,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(t.bounds)),v(e,n,I)-f>u)return!1;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.h)(I,p,t.halfSize),(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.g)(I,I,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(t.bounds)),v(e,n,I)-f<d)return!1;const o=t.node;return o.terminals.forAll((t=>g(t))),null!==o.residents&&o.residents.forAll((t=>g(t))),!0}),e,n)}forEachNode(t){S(this._root,(e=>t(e.node,e.bounds,e.halfSize,e.depth)))}forEachNeighbor(t,e){const n=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(e),o=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e),i=e=>{const i=this.objectToBoundingSphere(e),r=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(i),h=n+r;return!((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.s)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(i),o)-h*h<=0)||t(e)};let r=!0;const h=t=>{r&&(r=i(t))};S(this._root,(t=>{const e=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(t.bounds),i=n+e;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.s)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(t.bounds),o)-i*i>0)return!1;const a=t.node;return a.terminals.forAll(h),r&&null!==a.residents&&a.residents.forAll(h),r})),r&&this.forEachDegenerateObject(h)}_intersectsObject(t,e){const n=this.objectToBoundingSphere(e);return!(n[3]>0)||(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.i)(n,t)}_intersectsObjectWithOffset(t,e,n){const o=this.objectToBoundingSphere(e);return!(o[3]>0)||(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.i)(n.applyToBoundingSphere(o),t)}_add(t,e){e.advanceTo(this.objectToBoundingSphere(t))?e.node.terminals.push(t):(e.node.residents.push(t),e.node.residents.length>this._maximumObjectsPerNode&&e.depth<this._maximumDepth&&this._split(e))}_split(t){const e=t.node.residents;t.node.residents=null;for(let n=0;n<e.length;n++){const o=g.acquire().init(t);this._add(e.at(n),o),g.release(o)}}_grow(t,e){if(0!==e&&(D(t,e,(t=>this.objectToBoundingSphere(t)),W),C(W[3])&&!this._fitsInsideTree(W)))if(N(this._root.node))(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.e)(W,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(W);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(W,t):this._growRootAsSubNode(t),g.release(t)}}_rebuildTree(t,e){(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(V),(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds)),V[3]=e.halfSize,D([t,V],2,(t=>t),G);const o=g.acquire().init(this._root);this._root.initFrom(null,G,G[3]),this._root.increaseHalfSize(1.25),S(o,(t=>(this.add(t.node.terminals.data,t.node.terminals.length),null!==t.node.residents&&this.add(t.node.residents.data,t.node.residents.length),!0))),g.release(o)}_placingRootViolatesMaxDepth(t){const e=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let n=0;return S(this._root,(t=>(n=Math.max(n,t.depth),n+e<=this._maximumDepth))),n+e>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const e=t[3],n=t;let o=-1/0;const i=this._root.bounds,r=this._root.halfSize;for(let h=0;h<3;h++){const t=i[h]-r-(n[h]-e),s=n[h]+e-(i[h]+r),a=Math.max(0,Math.ceil(t/(2*r))),l=Math.max(0,Math.ceil(s/(2*r)))+1,d=2**Math.ceil(Math.log(a+l)*Math.LOG2E);o=Math.max(o,d),U[h].min=a,U[h].max=l}for(let h=0;h<3;h++){let t=U[h].min,e=U[h].max;const n=(o-(t+e))/2;t+=Math.ceil(n),e+=Math.floor(n);const s=i[h]-r-t*r*2;k[h]=s+(e+t)*r}const s=o*r;return k[3]=s*w,g.acquire().initFrom(null,k,s,0)}_growRootAsSubNode(t){const e=this._root.node;(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.c)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(W),(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(this._root.bounds)),W[3]=this._root.halfSize,this._root.init(t),t.advanceTo(W,null,!0),t.node.children=e.children,t.node.residents=e.residents,t.node.terminals=e.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const e=this._root.node.children;let n=0,o=0;for(;o<e.length&&null==t;)n=o++,t=e[n];for(;o<e.length;)if(e[o++])return-1;return n}_isDegenerate(t){return!C(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const e=this._root.bounds,n=this._root.halfSize;return t[3]<=n&&t[0]>=e[0]-n&&t[0]<=e[0]+n&&t[1]>=e[1]-n&&t[1]<=e[1]+n&&t[2]>=e[2]-n&&t[2]<=e[2]+n}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:e,_objectCount:n}=this,o=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:e,objectCount:n,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:o}}}_nodeToJSON(t){const e=t.children.map((t=>t?this._nodeToJSON(t):null)),n=t.residents?.map((t=>this.objectToBoundingSphere(t))),o=t.terminals?.map((t=>this.objectToBoundingSphere(t)));return{children:e,residents:n,terminals:o}}static fromJSON(t){const e=new b((t=>t),{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return e._objectCount=t.objectCount,e._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),e}}class g{constructor(){this.bounds=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,e,n,o=this.depth){return this.node=null!=t?t:g.createEmptyNode(),e&&(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.e)(e,this.bounds),this.halfSize=n,this.depth=o,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*w}advance(t){let e=this.node.children[t];e||(e=g.createEmptyNode(),this.node.children[t]=e),this.node=e,this.halfSize/=2,this.depth++;const n=E[t];return this.bounds[0]+=n[0]*this.halfSize,this.bounds[1]+=n[1]*this.halfSize,this.bounds[2]+=n[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,e,n=!1){for(;;){if(this.isTerminalFor(t))return e&&e(this,-1),!0;if(this.isLeaf()){if(!n)return e&&e(this,-1),!1;this.node.residents=null}const o=this._childIndex(t);e&&e(this,o),this.advance(o)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const e=this.bounds;return(e[0]<t[0]?1:0)+(e[1]<t[1]?2:0)+(e[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__.A({shrink:!0}),residents:new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__.A({shrink:!0})}}static acquire(){return g._pool.acquire()}static release(t){g._pool.release(t)}static clearPool(){g._pool.prune()}}function S(t,e){let n=g.acquire().init(t);const o=[n];for(;0!==o.length;){if(n=o.pop(),e(n)&&!n.isLeaf())for(let t=0;t<n.node.children.length;t++)n.node.children[t]&&o.push(g.acquire().init(n).advance(t));g.release(n)}}function j(t,e,n,o=b.DepthOrder.FRONT_TO_BACK){let i=g.acquire().init(t);const r=[i];for(function R(t,e,n){if(!Q.length)for(let o=0;o<8;++o)Q.push({index:0,distance:0});for(let o=0;o<8;++o){const n=E[o];Q.data[o].index=o,Q.data[o].distance=v(t,e,n)}Q.sort(((t,e)=>t.distance-e.distance));for(let o=0;o<8;++o)n[o]=Q.data[o].index}(n,o,X);0!==r.length;){if(i=r.pop(),e(i)&&!i.isLeaf())for(let t=7;t>=0;--t){const e=X[t];i.node.children[e]&&r.push(g.acquire().init(i).advance(e))}g.release(i)}}function O(t,e,n){K.clear();const o=n.advanceTo(e,((t,e)=>{K.push(t.node),K.push(e)}))?n.node.terminals:n.node.residents;if(o.removeUnordered(t),0===o.length)for(let i=K.length-2;i>=0&&x(K.data[i],K.data[i+1]);i-=2);}function x(t,n){return n>=0&&(t.children[n]=null),!!N(t)&&(null===t.residents&&(t.residents=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__.A({shrink:!0})),!0)}function N(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let e=0;e<t.children.length;e++)if(t.children[e])return!1;return!0}function M(t,e){t[0]=Math.min(t[0],e[0]-e[3]),t[1]=Math.min(t[1],e[1]-e[3]),t[2]=Math.min(t[2],e[2]-e[3])}function A(t,e){t[0]=Math.max(t[0],e[0]+e[3]),t[1]=Math.max(t[1],e[1]+e[3]),t[2]=Math.max(t[2],e[2]+e[3])}function B(t,e,n){n[0]=t[0]+e,n[1]=t[1]+e,n[2]=t[2]+e}function D(t,e,n,i){if(1===e){const e=n(t[0]);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.e)(e,i)}else{L[0]=1/0,L[1]=1/0,L[2]=1/0,H[0]=-1/0,H[1]=-1/0,H[2]=-1/0;for(let o=0;o<e;o++){const e=n(t[o]);C(e[3])&&(M(L,e),A(H,e))}(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_2__.m)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(i),L,H,.5),i[3]=Math.max(H[0]-L[0],H[1]-L[1],H[2]-L[2])/2}}function F(t,e){let n,o=1/0;for(let i=0;i<8;++i){const r=v(t,e,P[i]);r<o&&(o=r,n=P[i])}return n}function v(t,e,n){return e*(t[0]*n[0]+t[1]*n[1]+t[2]*n[2])}function C(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}g._pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__.A(g),function(t){var e;(e=t.DepthOrder||(t.DepthOrder={}))[e.FRONT_TO_BACK=1]="FRONT_TO_BACK",e[e.BACK_TO_FRONT=-1]="BACK_TO_FRONT"}(b);const E=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,-1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,-1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,1,1)],P=[(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,-1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(-1,1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,-1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,-1,1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,1,-1),(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.fA)(1,1,1)],w=Math.sqrt(3),q=[null];const k=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),I=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),L=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),H=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.vt)(),K=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__.A,J=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),W=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),V=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),G=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),U=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],Q=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__.A,X=[0,0,0,0,0,0,0,0]},"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i3:()=>o});__webpack_require__("./node_modules/@arcgis/core/chunks/vec32.js");var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js");__webpack_require__("./node_modules/@arcgis/core/chunks/boundedPlane.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js");function o(t){return null!=t?.dist}(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.vt)()},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ci:()=>n,PC:()=>r,Vk:()=>l});var _core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js"),_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/webgl/doublePrecisionUtils.js");function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function l(t,n,r,l,i){o[0]=t.get(n,0),o[1]=t.get(n,1),o[2]=t.get(n,2),(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_1__.jS)(o,s,3),r.set(i,0,s[0]),l.set(i,0,s[1]),r.set(i,1,s[2]),l.set(i,1,s[3]),r.set(i,2,s[4]),l.set(i,2,s[5])}const o=(0,_core_libs_gl_matrix_2_factories_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.vt)(),s=new Float32Array(6)},"./node_modules/@arcgis/core/views/support/HighlightDefaults.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ps:()=>t,Tv:()=>c,Zs:()=>r,cD:()=>w,d2:()=>a,fT:()=>e,lH:()=>p,mA:()=>l,n4:()=>m,xc:()=>n});var _Color_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/Color.js");const e=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A("cyan"),r=1,l=.25,n=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A("black"),t=.4,a=.2,w=.25,c="default",m="temporary",p=new _Color_js__WEBPACK_IMPORTED_MODULE_0__.A("yellow")}}]);
//# sourceMappingURL=4916.a0271cd6.iframe.bundle.js.map