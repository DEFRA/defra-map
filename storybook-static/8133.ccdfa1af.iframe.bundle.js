"use strict";(self.webpackChunk_defra_flood_map=self.webpackChunk_defra_flood_map||[]).push([[2031,3286,8133],{"./node_modules/@arcgis/core/chunks/Distance2DCalculator-Coa0qAFt.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>b,m:()=>v,s:()=>M,w:()=>q});var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_Geometry_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/QuadraticBezier.js"),_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js"),_Point2D_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),_Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),_Envelope_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js");function v(){return{outPoint:new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,index:-1,t:Number.NaN}}function N(e,t,n){return{outPoint:e.clone(),index:t,t:n}}function f(e,t,n,i){e.outPoint.assign(t),e.index=n,e.t=i}function P(e,t){e.outPoint.assign(t.outPoint),e.index=t.index,e.t=t.t}function I(e,t,n,i){e.index=n,e.t=i,t.queryCoord2D(e.t,e.outPoint)}function d(e,t){const n=v();P(n,e),P(e,t),P(t,n)}function q(e,t,i,r,s,o){if(e.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const t=r.nextSegment();if(0!==(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__.i)(e,t.getEndXY(),0))return f(s,t.getEndXY(),-1,Number.NaN),f(o,t.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon){for(;i.nextPath();)if(i.hasNextSegment()){const e=i.nextSegment();if(0!==(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__.i)(t,e.getEndXY(),0))return f(s,e.getEndXY(),-1,Number.NaN),f(o,e.getEndXY(),-1,Number.NaN),!0}i.resetToFirstPath()}return!1}function M(e){const t=e.getPathCount(),n=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.d)(e.getSegmentCount(),0);let i=0;for(let r=0;r<t;++r){const t=i+e.getSegmentCountPath(r);for(let s=i,o=e.getPathStart(r);s<t;++s,++o)n[s]=o;i=t}return(0,_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__.s)(e.getPointCount(),n),n}function x(e,t){return!!Number.isNaN(t)||e<=t}function E(e){const t=new _QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__.a;return t.addEnvelope(e,!1),t}class b{constructor(e,t){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=t,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,t,n,i){if((e.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.P.type||t.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.P.type)&&(this.m_env2DgeometryA=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,this.m_env2DgeometryB=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!x(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const r=N(new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)(),Number.NaN),s=N(new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)(),Number.NaN),o=this._ExecuteBruteForce(e,t,r,s);return x(o,this.m_maxDistance)?(null!==n&&P(n,r),null!==i&&P(i,s),o):Number.POSITIVE_INFINITY}isNear(e,t){if(this.m_bIsNearCalc=!0,e.isEmpty()||t.isEmpty())return!1;if(e===t)return!0;let n=!0;if(e.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.P.type&&e.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.E.type||t.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.P.type&&t.getGeometryType()!==_Envelope_js__WEBPACK_IMPORTED_MODULE_6__.E.type||(n=!1),n){if(this.m_env2DgeometryA=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,this.m_env2DgeometryB=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const i=N(new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)(),Number.NaN),r=N(new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.j)(),Number.NaN);return this._ExecuteBruteForce(e,t,i,r)<=this.m_maxDistance}progress_(e=!1){}_ExecuteBruteForce(e,t,i,r){switch(e.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return this.distancePointGeometry(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.distanceMultipointGeometry(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.distanceEnvelopeGeometry(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.distanceMultipathGeometry(e,t,i,r);default:return Number.NaN}}distancePointGeometry(e,t,i,r){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return this.distancePointPoint(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.distancePointMultipoint(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.distancePointMultipath(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.distancePointEnvelope(e,t,i,r);default:return Number.NaN}}distancePointPoint(e,t,n,i){const r=e.getXY(),s=t.getXY();return f(n,r,0,0),f(i,s,0,0),Math.sqrt(_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(r,s))}distancePointMultipoint(e,t,n,i){const r=e.getXY();let s=this.m_maxSqrDistance,o=s,m=!1;const a=t.getPointCount(),c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let h=0;h<a;++h)if(t.queryXY(h,c),o=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(r,c),this.m_bIsNearCalc){if(o<=s)return 0}else if(!(o>s)&&(!m&&o===s||o<s)&&(s=o,f(n,r,0,0),f(i,c,h,0),m=!0,0===s))return 0;return m?Math.sqrt(s):Number.POSITIVE_INFINITY}distancePointMultipath(e,t,i,r){const s=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),o=e.getXY();if(!s&&t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon&&0!==(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__.i)(t,o,0))return f(i,o,0,0),f(r,o,-1,Number.NaN),0;t.getImpl().getAccelerators();let a=this.m_maxSqrDistance,c=a,h=-1;const l=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,g=t.querySegmentIterator();let y=!1;for(;g.nextPath();)for(;g.hasNextSegment();){const e=g.nextSegment();e.queryEnvelope(l);const t=l.sqrDistance(o);if(t>a)continue;if(!this.m_bIsNearCalc&&y&&t===a)continue;h=e.getClosestCoordinate(o,!1);const n=e.getCoord2D(h);if(c=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(o,n),this.m_bIsNearCalc){if(c<=a)return 0}else if(!(c>a)&&(!y||c<a)&&(a=c,f(i,o,0,0),f(r,n,g.getStartPointIndex(),h),y=!0,0===a))return 0}return y?Math.sqrt(a):Number.POSITIVE_INFINITY}distancePointEnvelope(e,t,n,i){const r=e.getXY();f(n,r,0,0),f(i,r,-1,Number.NaN);const s=t.asEnvelope2D();return s.contains(r)?0:Math.sqrt(s.sqrDistance(r,i.outPoint))}distanceMultipointGeometry(e,t,i,r){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:{this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const n=this.distancePointMultipoint(t,e,r,i);return this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),n}case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:return this.distanceMultipointMultipoint(e,t,i,r,1,1);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.distanceMultipointMultipath(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.distanceMultipointMultipath(e,E(t),i,r);default:return Number.NaN}}distanceMultipointMultipoint(n,i,r,s,o,m){const a={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===o&&1===m){const e=Math.trunc((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(Math.sqrt(n.getPointCount())+1,1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)())),t=Math.trunc((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(Math.sqrt(i.getPointCount())+1,1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()));if((e>=4||t>=4)&&this.distanceMultipointMultipoint(n,i,r,s,e,t)<=this.m_maxSqrDistance)return 0}let t=this.m_maxSqrDistance;const y=[n],_=[i],D=this.swapGeometriesIfBGtA(y,_);D&&(this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),m=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(o,o=m),d(r,s)),(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(a,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.h)((()=>{d(r,s),this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!D),!1);const p=y[0].getImpl(),v=_[0].getImpl(),N=p.getPointCount(),P=v.getPointCount(),I=P>1;let q=!1;const M=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P,x=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;for(let e=0;e<N;e+=o){if(p.queryXY(e,M),I){const e=this.m_env2DgeometryB.sqrDistance(M);if(this.m_bIsNearCalc){if(e>t)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(M)<=t)return 0}else if(e>=t)continue}for(let n=0;n<P;n+=m){v.queryXY(n,x);const i=_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P.sqrDistance(M,x);if(this.m_bIsNearCalc){if(i<=t)return 0}else if(!(i>t||q&&i===t)&&(!q||i<t)&&(f(r,M,e,0),f(s,x,n,0),q=!0,t=i,0===t))return q?Math.sqrt(t):Number.POSITIVE_INFINITY}}return q?Math.sqrt(t):Number.POSITIVE_INFINITY}catch(y){a.error=y,a.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(a)}}distanceMultipointMultipath(e,t,i,r){let s=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&t.getGeometryType()===_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon;const o=t.querySegmentIterator();o.stripAttributes();const a=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,c=new _Point2D_js__WEBPACK_IMPORTED_MODULE_4__.P;let h=this.m_maxSqrDistance;const l=e.getImpl(),g=l.getPointCount(),y=g>1;let D=!1;for(;o.nextPath();)for(;o.hasNextSegment();){const e=o.nextSegment();if(e.queryLooseEnvelope(a),y){const e=a.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(e>h)continue}else if(e>h||D&&e===h)continue}for(let n=0;n<g;n++){if(l.queryXY(n,c),s&&0!==(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_3__.i)(t,c,0))return f(i,c,-1,Number.NaN),f(r,c,n,0),0;{const e=a.sqrDistance(c);if(this.m_bIsNearCalc){if(e>h)continue}else if(e>h)continue}const u=e.getClosestCoordinate(c,!1),g=e.getCoord2D(u);c.subThis(g);const y=c.sqrLength();if(this.m_bIsNearCalc){if(y<=h)return 0}else if(!(y>h)&&(!D||y<h)&&(h=y,f(i,l.getXY(n),n,0),f(r,g,o.getStartPointIndex(),u),D=!0,0===h))return 0}s=!1}return D?Math.sqrt(h):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,t,i,r){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:return this.distancePointEnvelope(t,e,r,i);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:{this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const n=this.distanceMultipointMultipath(t,E(e),r,i);return this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),n}case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.distanceMultipathMultipath(E(e),t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.distanceEnvelopeEnvelope(e,t,i,r);default:return Number.NaN}}distanceEnvelopeEnvelope(e,t,n,i){n.t=Number.NaN,n.index=-1,i.t=Number.NaN,i.index=-1;const r=e.asEnvelope2D(),s=t.asEnvelope2D();return Math.sqrt(r.sqrDistanceEnvelope(s,n.outPoint,i.outPoint))}distanceMultipathGeometry(e,t,i,r){switch(t.getGeometryType()){case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPoint:{this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const n=this.distancePointMultipath(t,e,r,i);return this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),n}case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumMultiPoint:{this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const n=this.distanceMultipointMultipath(t,e,r,i);return this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),n}case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolyline:case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumPolygon:return this.distanceMultipathMultipath(e,t,i,r);case _Geometry_js__WEBPACK_IMPORTED_MODULE_1__.G.enumEnvelope:return this.distanceMultipathMultipath(e,E(t),i,r);default:return Number.NaN}}distanceMultipathMultipath(n,i,r,o){const m={stack:[],error:void 0,hasError:!1};try{const t=[n],a=[i],u=this.swapGeometriesIfAGtB(t,a);u&&(this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),d(r,o)),(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.b)(m,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.h)((()=>{d(r,o),this.m_env2DgeometryB=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!u),!1);const y=t[0],D=a[0],p=y.querySegmentIterator();p.stripAttributes();const N=D.querySegmentIterator();if(N.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const e=Math.trunc((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(Math.sqrt(y.getPointCount())+1,1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)())),t=Math.trunc((0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.c)(Math.sqrt(y.getPointCount())+1,1,(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.i)()));if(this.distanceMultipointMultipoint(y,D,r,o,e,t)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const e=v(),t=v();if(q(y,D,p,N,e,t))return P(r,e),P(o,t),0}const f=M(y),x=[],E=new _QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__.S,b=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,B=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J,S=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J;let A=this.m_maxSqrDistance,T=!0,C=!1;for(let e=0,n=f.length;e<n;++e){y.querySegment(f[e],E,!0);const t=E.get();if(t.queryEnvelope(b),!(b.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>A)){if(this.m_bIsNearCalc&&b.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=A)return 0;for(;N.nextPath();){if(this.progress_(),T)D.queryPathEnvelope(N.getPathIndex(),S),x[N.getPathIndex()]=S.clone();else if(b.sqrDistanceEnvelope(x[N.getPathIndex()],null,null)>A)continue;for(;N.hasNextSegment();){const n=N.nextSegment();if(n.queryEnvelope(B),b.sqrDistanceEnvelope(B,null,null)<=A){const i=!b.isIntersecting(B),s=[0],m=[0];let a=t.distance(n,i,s,m);if(a*=a,this.m_bIsNearCalc&&a<=this.m_maxSqrDistance)return 0;if(a<A||a===A&&f[e]<r.index){if(C=!0,I(r,t,f[e],s[0]),I(o,n,N.getStartPointIndex(),m[0]),0===a)return 0;A=a}}}}N.resetToFirstPath(),T=!1}}return C?Math.sqrt(A):Number.POSITIVE_INFINITY}catch(a){m.error=a,m.hasError=!0}finally{(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.c)(m)}}swapGeometriesIfAGtB(e,t){return(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(e[0])>(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.v)(t[0])&&(t[0]=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_4__.b)(e[0],e[0]=t[0]),!0)}swapGeometriesIfBGtA(e,t){return this.swapGeometriesIfAGtB(t,e)}}},"./node_modules/@arcgis/core/chunks/OperatorGeodeticArea.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OperatorGeodeticArea:()=>de});var Geometry=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),QuadraticBezier=__webpack_require__("./node_modules/@arcgis/core/chunks/QuadraticBezier.js"),OperatorDensify=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorDensify.js"),ProjectionTransformation=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js"),Point2D=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),Envelope2D=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),Envelope=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js"),OperatorClip=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorClip.js"),OperatorShapePreservingLength=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorShapePreservingLength.js"),tslib_es6=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),Transformation2D=__webpack_require__("./node_modules/@arcgis/core/chunks/Transformation2D.js");__webpack_require__("./node_modules/@arcgis/core/chunks/Distance2DCalculator-Coa0qAFt.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorGeodeticDensifyByLength.js");Symbol.dispose;class Q{constructor(t,e,i,s,n=0,o=4){this.m_ptDistFrom=new Point2D.P,this.m_segStartPt=new Point2D.P,this.m_segEndPt=new Point2D.P,this.m_geodeticLength=new ProjectionTransformation.E,this.m_az12=new ProjectionTransformation.E,this.m_minGeodeticDist=new ProjectionTransformation.E,this.m_segStartPt3d=new Envelope.h,this.m_segEndPt3d=new Envelope.h,this.m_sr=s,this.m_distCurveType=n,this.m_segCurveType=o,this.m_inputGCS=this.m_sr.getGCS(),this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_bIsPannablePcs=2===this.m_sr.getCoordinateSystemType()&&this.m_sr.isPannable();const a=(0,ProjectionTransformation.G)();this.m_inputGCS.querySpheroidData(a),this.m_a=a.majorSemiAxis,this.m_eSquared=a.e2,this.setPointDistFrom(t),this.setSegmentEndPoints(e,i)}setSegmentEndPoints(t,e){this.m_segStartPt.assign(t),this.m_segEndPt.assign(e),this.m_bIsPannablePcs||(this.m_segStartPt.mulThis(this.m_rpu),this.m_segEndPt.mulThis(this.m_rpu)),2===this.m_segCurveType&&(this.m_segStartPt3d.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,this.m_segStartPt)),this.m_segEndPt3d.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,this.m_segEndPt))),this.calculateAndUpdateSegmentLength()}setPointDistFrom(t){this.m_ptDistFrom.assign(t),this.m_ptDistFrom.scale(this.m_rpu)}setSegmentCurveType(t){this.m_segCurveType=t}setDistanceCurveType(t){this.m_distCurveType=t}makeFunctor(){return i=>{let s;switch(this.m_segCurveType){case 0:case 1:case 3:{const o={stack:[],error:void 0,hasError:!1};try{const e=(0,tslib_es6.b)(o,new ProjectionTransformation.E,!1),n=(0,tslib_es6.b)(o,new ProjectionTransformation.E,!1);ProjectionTransformation.F.geodeticCoordinate(this.m_a,this.m_eSquared,this.m_segStartPt.x,this.m_segStartPt.y,this.m_geodeticLength.val*i,this.m_az12.val,e,n,this.m_segCurveType),s=new Point2D.P(e.val,n.val);break}catch(n){o.error=n,o.hasError=!0}finally{(0,tslib_es6.c)(o)}}case 2:{const t=Envelope.h.lerp(this.m_segStartPt3d,this.m_segEndPt3d,i);s=(0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,t);break}case 4:s=Point2D.P.lerp(this.m_segStartPt,this.m_segEndPt,i),this.m_bIsPannablePcs&&((0,ProjectionTransformation.S)(this.m_sr,0,[s],1),s.mulThis(this.m_rpu));break;default:(0,Geometry.c)("Invalid curve type")}return ProjectionTransformation.F.geodeticDistance(this.m_a,this.m_eSquared,this.m_ptDistFrom.x,this.m_ptDistFrom.y,s.x,s.y,this.m_minGeodeticDist,null,null,this.m_distCurveType),this.m_minGeodeticDist.val}}calculateAndUpdateSegmentLength(){switch(this.m_segCurveType){case 0:case 2:case 1:case 3:ProjectionTransformation.F.geodeticDistance(this.m_a,this.m_eSquared,this.m_segStartPt.x,this.m_segStartPt.y,this.m_segEndPt.x,this.m_segEndPt.y,this.m_geodeticLength,this.m_az12,null,this.m_segCurveType);break;case 4:this.m_geodeticLength.val=Point2D.P.distance(this.m_segStartPt,this.m_segEndPt);break;default:(0,Geometry.c)("Invalid curve type")}}[Symbol.dispose](){this.m_geodeticLength[Symbol.dispose](),this.m_az12[Symbol.dispose](),this.m_minGeodeticDist[Symbol.dispose]()}}Symbol.dispose;class OperatorGeodeticArea_Q{constructor(e,t,i,s,n=100){this.m_startPt=e.clone(),this.m_endPt=t.clone(),this.m_cE2=s,this.m_cE=Math.sqrt(this.m_cE2),this.m_c1By2e=1/(2*this.m_cE),this.m_cRpu=i.getGCS().getUnit().getUnitToBaseFactor(),this.isPcs=2===i.getCoordinateSystemType(),this.PEProjcs=i.getPECoordSys(),this.m_points=(0,Point2D.d)(2*n,Number.NaN)}setSegmentEndPoints(e,t){this.m_startPt.assign(e),this.m_endPt.assign(t)}makeFunctor(){return e=>{const t=[0,0];t[0]=this.m_startPt.x*(1-e)+this.m_endPt.x*e,t[1]=this.m_startPt.y*(1-e)+this.m_endPt.y*e,this.isPcs&&ProjectionTransformation.Z.projToGeogCenter(this.PEProjcs,1,t,0);const i=Math.sin(t[1]*this.m_cRpu);return 0===this.m_cE2?i:-Math.log((1-this.m_cE*i)/(1+this.m_cE*i))*this.m_c1By2e+i/(1-this.m_cE2*i*i)}}}function Z(e,t,i,s,n){const a=function se(e,t,i){const s=e.calculateLength2D(),n=(new OperatorShapePreservingLength.O).execute(e,t,i)/25e3,a=s/e.getSegmentCount()*2;let _=Math.min(a,s/n);return 0===_&&(_=1),(0,Point2D.n)(_,s/_)}(e,t,n);let _=OperatorGeodeticArea_W(e,a.first,i,s,n),r=1,h=0,o=0;do{if(r++,a.first*=.5,a.first<50*t.getTolerance(0))return _;a.second*=2,o=OperatorGeodeticArea_W(e,a.first,i,s,n),h=Math.abs(o-_),_=o}while(Math.abs(_)>1&&h>1e-8*Math.abs(_)&&(a.second<65e3&&r<8||r<4));return o}function OperatorGeodeticArea_W(e,t,i,s,n){const a=(new OperatorDensify.O).execute(e,t,0,0,n);let _;_=s?(new ProjectionTransformation.v).execute(a,s,n):a;const r=1===i.getUnit().getUnitToBaseFactor()?Math.PI/180:1,o=new Envelope2D.J;_.queryEnvelope(o);const m=new Envelope2D.J,p=new Envelope2D.J,u=new Envelope2D.J;m.setCoords({xmin:o.xmin,ymin:75*r,xmax:o.xmax,ymax:90*r}),p.setCoords({xmin:o.xmin,ymin:-60*r,xmax:o.xmax,ymax:75*r}),u.setCoords({xmin:o.xmin,ymin:-90*r,xmax:o.xmax,ymax:-60*r}),m.inflateCoords(.01*m.width(),0),p.inflateCoords(.01*p.width(),0),u.inflateCoords(.01*u.width(),0);let c=0;return c+=K(_,m,i,n),c+=K(_,p,i,n),c+=K(_,u,i,n),c}function K(e,t,i,s){const n=(new OperatorClip.O).execute(e,t,i,s);if(null!==n&&!n.isEmpty()){const e=new Envelope2D.J;n.queryEnvelope(e);const{first:t,second:a}=function ie(e,t,i){const n=function te(e,t,i){const a=e.getUnit().getUnitToBaseFactor(),_=t.getCenter();_.scale(180*a/Math.PI);const r=new Point2D.P;r.x=0,r.y=0;let h=0;if(0===h){_.y>45?(r.y=Point2D.l,h=0):_.y<-45?(r.y=-Point2D.l,h=1):_.x>=45&&_.x<135?(r.x=Point2D.l,h=2):_.x>=135||_.x<-135?(r.x=Point2D.l,h=3):_.x<-45&&_.x>=-135?(r.x=-Point2D.l,h=4):(r.x=0,h=5);const e=a*Math.sqrt((0,Point2D.s)(t.xmin-t.xmax)+(0,Point2D.s)(t.ymin-t.ymax)),i=r.clone(),s=t.getCenter();if(s.scale(a),h<2&&(i.x=s.x),Point2D.P.distance(i,s)+.5*e>Point2D.l)return null}const o=ee[h];if(null!==o&&o.getGCS().equalHorizontal(e))return o;const m=e.getText(),l=r.x,g=r.y,d=0,E=0;let f=0,P=-1;6!==h?P=ProjectionTransformation.a4.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:((0,Geometry.g)(i),f=0,P=ProjectionTransformation.a4.PE_PRJ_CYLINDRICAL_EQAREA);const S=(0,ProjectionTransformation.aw)("EqualAreaPCS");let A;P===ProjectionTransformation.a4.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?A=`PROJCS["${S}",${m},PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",${d}],PARAMETER["False_Northing",${E}],PARAMETER["Central_Meridian",${l}],PARAMETER["Latitude_of_Origin",${g}],UNIT["Meter",1.0]]`:P===ProjectionTransformation.a4.PE_PRJ_CYLINDRICAL_EQAREA?A=`PROJCS["${S}",${m},PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting",${d}],PARAMETER["False_Northing",${E}],PARAMETER["Central_Meridian",${l}],PARAMETER["Standard_Parallel_1",${f}],PARAMETER["Latitude_of_Origin",${g}],UNIT["Meter",1.0]]`:(0,Geometry.c)("getEqualAreaPcsFixed");const x=(0,ProjectionTransformation.b)(A);return ee[h]&&ee[h].destroy(),ee[h]=x,x}(e,t,i);if(null!==n)return(0,Point2D.n)(n,!1);const a=e.getText(),_=e.getUnit().getUnitToBaseFactor(),r=(t.xmin+t.width()/2)*_,h=(t.ymin+t.height()/2)*_,o=0,m=0;let l=0,g=0,d=-1;t.ymin*_>=75*Math.PI/180||t.ymax*_<=-60*Math.PI/180?d=ProjectionTransformation.a4.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA:t.ymin>0||t.ymax<0?(l=(t.ymin+1/3*t.height())*_,g=(t.ymin+2/3*t.height())*_,d=ProjectionTransformation.a4.PE_PRJ_ALBERS):(l=(t.ymin+2/3*t.height())*_,d=ProjectionTransformation.a4.PE_PRJ_CYLINDRICAL_EQAREA);const E=(0,ProjectionTransformation.aw)("EqualAreaPCS");let f;return d===ProjectionTransformation.a4.PE_PRJ_LAMBERT_AZIMUTHAL_EQAREA?f=`PROJCS["${E}",${a},PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",${o}],PARAMETER["False_Northing",${m}],PARAMETER["Central_Meridian",${r}],PARAMETER["Latitude_of_Origin",${h}],UNIT["Meter",1.0]]`:d===ProjectionTransformation.a4.PE_PRJ_ALBERS?f=`PROJCS["${E}",${a},PROJECTION["Albers"],PARAMETER["False_Easting",${o}],PARAMETER["False_Northing",${m}],PARAMETER["Central_Meridian",${r}],PARAMETER["Standard_Parallel_1",${l}],PARAMETER["Standard_Parallel_2",${g}],PARAMETER["Latitude_of_Origin",${h}],UNIT["Meter",1.0]]`:d===ProjectionTransformation.a4.PE_PRJ_CYLINDRICAL_EQAREA?f=`PROJCS["${E}",${a},PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting",${o}],PARAMETER["False_Northing",${m}],PARAMETER["Central_Meridian",${r}],PARAMETER["Standard_Parallel_1",${l}],PARAMETER["Latitude_of_Origin",${h}],UNIT["Meter",1.0]]`:(0,Geometry.c)("getEqualAreaPCSInstance"),(0,Point2D.n)((0,ProjectionTransformation.b)(f),!0)}(i,e,!1),_=(0,ProjectionTransformation.p)(i,t,null),r=(new ProjectionTransformation.v).execute(n,_,s).calculateArea2D();return a&&t.destroy(),r}return 0}const ee=[null,null,null,null,null,null,null];class ne{getOperatorType(){return 10314}supportsCurves(){return!0}accelerateGeometry(e,t,i){return!1}canAccelerateGeometry(e){return!1}execute(s,n,_){if(0===n.getCoordinateSystemType()&&(0,Geometry.t)(""),s.isEmpty()||s.getDimension()<2)return 0;if((0,Geometry.d)(s),s.getGeometryType()===Geometry.G.enumEnvelope){const e=new QuadraticBezier.a;return e.addEnvelope(s,!1),this.execute(e,n,_)}let r=s;s.getDescription().getAttributeCount()>1&&(r=s.clone(),r.dropAllAttributes());const l=(new OperatorDensify.O).execute(r,0,n.getTolerance(0),0,_);let p=null;const u=n.getGCS();u!==n&&(p=(0,ProjectionTransformation.p)(n,u));let c=(new ProjectionTransformation.g).execute(l,n,!1,_);return c.isEmpty()?0:(c===s&&(c=s.clone()),n.isPannable()?function OperatorGeodeticArea_V(e,t,i){const s=new Envelope2D.J;e.queryEnvelope(s);const n=(0,Envelope.a)(t,s,!0).total(),a=t.getPannableExtent();a.xmin=s.xmin-10*n,a.xmax=s.xmax+10*n;const r=(new OperatorClip.O).execute(e,a,t,i).getImpl().querySegmentIterator();r.stripAttributes();const h=(0,ProjectionTransformation.G)();t.querySpheroidData(h);const o=h.e2,m=0===o?2:1,l=new Point2D.P(0,0),p=new Point2D.P(0,0),u=new Point2D.K(0),c=new OperatorGeodeticArea_Q(l,p,t,o,100);for(;r.nextPath();)for(;r.hasNextSegment();){const e=r.nextSegment();l.assign(e.getStartXY()),p.assign(e.getEndXY()),c.setSegmentEndPoints(l,p);const t=(0,QuadraticBezier.x)(6,0,1,1e-12,1e-15,c.makeFunctor());u.pe((p.x-l.x)*t)}const g=h.majorSemiAxis;return m*g*g*(1-o)*Math.PI*u.getResult()/t.getPannableExtent().width()}(c,n,_):Z(c,n,u,p,_))}}function ae(){return{m_p_PCS:new Point2D.P,m_factor:Number.NaN,setValues:_e,assign:re}}function _e(e,t){this.m_factor=e,this.m_p_PCS.assign(t)}function re(e){this.m_factor=e.m_factor,this.m_p_PCS.assign(e.m_p_PCS)}class he{constructor(e,t,i,s){this.m_ptStart=new Envelope.h,this.m_ptEnd=new Envelope.h,this.m_ptStart.assign(t),this.m_ptEnd.assign(i),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y,this.m_e=Math.sqrt(e),this.m_e2=e,this.m_c1MinusE2=1-e;const n=Math.sin(s);let a;a=0===this.m_e2?2*n:n*((0,Point2D.y)(this.m_e*n)+1/(1-this.m_e2*n*n)),this.m_baseA=a}setSegmentEndPoints(e,t){this.m_ptStart.assign(e),this.m_ptEnd.assign(t),this.m_deltaX=this.m_ptEnd.x-this.m_ptStart.x,this.m_deltaY=this.m_ptEnd.y-this.m_ptStart.y}makeFunctor(){return e=>{const t=1-e,i=t*this.m_ptStart.x+e*this.m_ptEnd.x,s=t*this.m_ptStart.y+e*this.m_ptEnd.y,n=t*this.m_ptStart.z+e*this.m_ptEnd.z,a=i*i+s*s,_=n/Math.sqrt(n*n+this.m_c1MinusE2*this.m_c1MinusE2*a);let r;return r=0===this.m_e2?2*_:_*((0,Point2D.y)(this.m_e*_)+1/(1-this.m_e2*_*_)),(this.m_deltaY*i-this.m_deltaX*s)/a*(r-this.m_baseA)}}}function me(){return{sin_phi:Number.NaN,one_p_sin_phi:Number.NaN,one_m_sin_phi:Number.NaN,one_m_e_2_sin_2_phi:Number.NaN,sin_half_phi_pf:Number.NaN,sin_half_phi_pz:Number.NaN,sin_half_asin_e_sin_phi_pf:Number.NaN,sin_half_asin_e_sin_phi_pz:Number.NaN,atanh_sin_phi:Number.NaN,atanh_esin_phi:Number.NaN,make_negative:!1,initialize:le,changeSign:pe,assign:ue,clone:ce}}function le(e,t,i,s){const n=.5*e;this.sin_phi=Math.sin(e);const a=t*this.sin_phi,_=.5*Math.asin(a);this.one_p_sin_phi=1+this.sin_phi,this.one_m_sin_phi=1-this.sin_phi,this.one_m_e_2_sin_2_phi=(1+a)*(1-a),this.sin_half_phi_pf=Math.sin(n+i),this.sin_half_phi_pz=Math.sin(n+s),this.sin_half_asin_e_sin_phi_pf=Math.sin(_+i),this.sin_half_asin_e_sin_phi_pz=Math.sin(_+s),this.atanh_sin_phi=Math.log(this.sin_half_phi_pf/this.sin_half_phi_pz),this.atanh_esin_phi=Math.log(this.sin_half_asin_e_sin_phi_pf/this.sin_half_asin_e_sin_phi_pz)}function pe(){this.sin_phi=-this.sin_phi;let e=this.one_p_sin_phi;this.one_p_sin_phi=this.one_m_sin_phi,this.one_m_sin_phi=e,e=this.sin_half_phi_pf,this.sin_half_phi_pf=this.sin_half_phi_pz,this.sin_half_phi_pz=e,e=this.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pf=this.sin_half_asin_e_sin_phi_pz,this.sin_half_asin_e_sin_phi_pz=e,this.atanh_sin_phi=-this.atanh_sin_phi,this.atanh_esin_phi=-this.atanh_esin_phi}function ue(e){this.sin_phi=e.sin_phi,this.one_p_sin_phi=e.one_p_sin_phi,this.one_m_sin_phi=e.one_m_sin_phi,this.one_m_e_2_sin_2_phi=e.one_m_e_2_sin_2_phi,this.sin_half_phi_pf=e.sin_half_phi_pf,this.sin_half_phi_pz=e.sin_half_phi_pz,this.sin_half_asin_e_sin_phi_pf=e.sin_half_asin_e_sin_phi_pf,this.sin_half_asin_e_sin_phi_pz=e.sin_half_asin_e_sin_phi_pz,this.atanh_sin_phi=e.atanh_sin_phi,this.atanh_esin_phi=e.atanh_esin_phi,this.make_negative=e.make_negative}function ce(){return{...this}}class ge{constructor(t,i,s){this.m_transformPCS2GCS=null,this.m_scaleToRadians=new Transformation2D.T,this.m_scaleToDegrees=new Transformation2D.T,this.m_progressTracker=s,(0,Geometry.g)(4!==i),this.m_curveType=i,this.m_inputSR=t,t&&0!==t.getCoordinateSystemType()||(0,Geometry.t)(""),this.m_inputGCS=t.getGCS(),this.m_a=0,this.m_eSquared=0,this.m_b=0,this.m_rpu=0}executePolygonGeodeticArea(e){let t,i=e.clone();if(i.dropAllAttributes(),e.hasNonLinearSegments()&&(i=(new OperatorDensify.O).execute(i,0,this.m_inputSR.getTolerance(0),0,this.m_progressTracker)),this.m_inputSR.isPannable()){const e=new Envelope2D.J;i.queryEnvelope(e);const t=this.m_inputSR.getPannableExtent();if(!t.containsEnvelope(e)){const s=t.getCenterX()-e.getCenterX(),n=new Transformation2D.T;n.setShiftCoords(s,0),i.applyTransformation(n),e.move(s,0);const a=new Point2D.E;t.queryIntervalX(a);const _=new Point2D.E;e.queryIntervalX(_),i=a.contains(_)?(0,ProjectionTransformation.w)(i,this.m_inputSR):(new ProjectionTransformation.v).foldInto360RangeGeodetic(i,this.m_inputSR,this.m_curveType)}}if(this.m_transformPCS2GCS?(i=(new ProjectionTransformation.g).execute(i,this.m_inputSR,!1,this.m_progressTracker),t=i.createInstance(),(0,ProjectionTransformation.$)(this.m_transformPCS2GCS,i,t,this.m_progressTracker)||(t=(new ProjectionTransformation.v).execute(i,this.m_transformPCS2GCS,this.m_progressTracker))):t=(new ProjectionTransformation.g).execute(i,this.m_inputGCS,!1,this.m_progressTracker),t.isEmpty())return 0;if(1===this.m_curveType){const e=(0,ProjectionTransformation.G)();return this.m_inputGCS.querySpheroidData(e),this.m_a=e.majorSemiAxis,this.m_eSquared=e.e2,this.loxodromeArea(t)}const s=t.getImpl();this.m_rpu=this.m_inputGCS.getUnit().getUnitToBaseFactor(),this.m_scaleToRadians.setScale(this.m_rpu),s.applyTransformation(this.m_scaleToRadians),this.m_scaleToDegrees=this.m_scaleToRadians,this.m_scaleToDegrees.invertThis();const n=(0,ProjectionTransformation.G)();if(this.m_inputGCS.querySpheroidData(n),this.m_a=n.majorSemiAxis,this.m_b=n.minorSemiAxis,this.m_eSquared=n.e2,2===this.m_curveType)return this.executeClippedPolygonGreatEllipticArea(t);{const e={stack:[],error:void 0,hasError:!1};try{const i=ProjectionTransformation.ax.unit(9101),s=this.m_inputGCS.getPECoordSys(),n=(0,tslib_es6.b)(e,s.cloneAlterUnits(i),!1);let a,_,r=this.executeClippedPolygonGeodeticArea(t,n,0),h=0;do{h++,a=this.executeClippedPolygonGeodeticArea(t,n,h),_=Math.abs(a-r),r=a}while(Math.abs(a)>1&&_>1e-8*Math.abs(a)&&h<7);return a}catch(a){e.error=a,e.hasError=!0}finally{(0,tslib_es6.c)(e)}}}executeClippedPolygonGeodeticArea(e,t,i){const s={stack:[],error:void 0,hasError:!1};try{const n=new Envelope2D.J;e.queryEnvelope(n);const a=(0,tslib_es6.b)(s,this.getEqualAreaPCSInstance(t,n),!1),_=e.clone();(0,ProjectionTransformation.ay)(a,_);const r=50,h=_.getImpl().getAttributeStreamRef(0),o=e.getImpl().getAttributeStreamRef(0),m=(0,tslib_es6.b)(s,new ProjectionTransformation.E,!1),l=(0,tslib_es6.b)(s,new ProjectionTransformation.E,!1),p=40,u=[0,0],c=(0,Point2D.p)(ae,p),d=(0,Point2D.d)(p,-1),E=ae(),f=ae();let P,y;const R=a;let M=_.calculateArea2D();const C=new Point2D.K(0),T=.5*Math.PI,b=1e-10*Math.abs(M)+1e-6,I=e.getPathCount();let v,D,G,O;const L=new Point2D.P,F=new Point2D.P,J=new Point2D.P,Y=new Point2D.P,U=new Point2D.P,j=new Point2D.P;let B,H;for(D=e.getPathStart(0),v=0;v<I;v++,D=G)for(G=e.getPathEnd(v),h.queryPoint2D(G-1<<1,J),o.queryPoint2D(G-1<<1,L),Math.abs(L.y)>T&&(L.y=(0,Point2D.f)(T,L.y)),O=D;O<G;O++,J.assign(Y),L.assign(F)){if(h.queryPoint2D(O<<1,Y),o.queryPoint2D(O<<1,F),Math.abs(F.y)>T&&(F.y=(0,Point2D.f)(T,F.y)),B=Point2D.P.distance(J,Y),B<r||0===L.y&&0===F.y)continue;ProjectionTransformation.F.geodeticDistance(this.m_a,this.m_eSquared,L.x,L.y,F.x,F.y,m,l,null,this.m_curveType);const e=m.val,t=l.val;for(E.setValues(0,J),f.setValues(1,Y),y=i,c[0].assign(f),d[0]=i,P=0;P>=0;){H=.5*(E.m_factor+f.m_factor),ProjectionTransformation.F.geodeticCoordinate(this.m_a,this.m_eSquared,L.x,L.y,e*H,t,m,l,this.m_curveType),U.x=m.val,U.y=l.val,u[0]=U.x,u[1]=U.y,ProjectionTransformation.Z.geogToProj(R,1,u),j.x=u[0],j.y=u[1];const s=.5*-j.offset(E.m_p_PCS,f.m_p_PCS)*Point2D.P.distance(E.m_p_PCS,f.m_p_PCS);if(C.pe(s),Math.abs(s)>b||Math.abs(s)>0&&y>0)f.setValues(H,j),P++,c[P].assign(f),Math.abs(s)<=b?(y--,d[P-1]=y,d[P]=y):(y=d[P-1],d[P]=y);else{if(P<=0)break;E.assign(f),P--,f.assign(c[P]),y=d[P]}}}return M+=C.getResult(),Math.abs(M)}catch(n){s.error=n,s.hasError=!0}finally{(0,tslib_es6.c)(s)}}executeClippedPolygonGreatEllipticArea(e){const t=[],i=[],s=new Point2D.P,n=new Point2D.P,a=(0,ProjectionTransformation.Q)(1,this.m_eSquared,new Point2D.P(0,.5*Math.PI)),_=new Point2D.K(0),r=new Point2D.K(0),h=new Point2D.K(0),o=new Envelope.h,m=new Envelope.h,l=new Envelope2D.J;e.queryLooseEnvelope(l);let p=0;l.containsCoords(l.xmin,0)||(p=Math.abs(l.ymin)<Math.abs(l.ymax)?l.ymin:l.ymax);const u=new he(this.m_eSquared,o,m,p),c=this.m_a*this.m_a,g=e.getImpl().querySegmentIterator();for(g.stripAttributes();g.nextPath();)for(;g.hasNextSegment();){const e=g.nextSegment();s.assign(e.getStartXY()),n.assign(e.getEndXY()),n.x-s.x>Math.PI?s.x+=2*Math.PI:n.x-s.x<-Math.PI&&(n.x+=2*Math.PI),this.splitSegmentCrossingItegralThreshold(e,t,i);for(let i of t)o.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,i.getStartXY())),m.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,i.getEndXY())),u.setSegmentEndPoints(o,m),this.adaptiveIntegrationWithRomberg(u,_);for(let t of i){let e=t.getStartXY(),i=t.getEndXY(),s=p;e.y<0&&(i=(0,Point2D.b)(e,e=i),e.y=-e.y,i.y=-i.y,s=-s);const n=(0,ProjectionTransformation.Q)(1,this.m_eSquared,e),_=(0,ProjectionTransformation.Q)(1,this.m_eSquared,i),o=Math.min(e.y,i.y),m=(0,ProjectionTransformation.az)(this.m_eSquared,e.x,i.x,s,o);r.pe(m);const l=Math.abs((0,ProjectionTransformation.az)(this.m_eSquared,e.x,i.x,o,Point2D.l)),u=new Envelope.h;u.setSub(n,a);const g=new Envelope.h;g.setSub(_,a);const d=new Envelope.h;d.setCrossProductVector(u,g);let E=c*(l-.5*d.length());E=(0,Point2D.f)(E,i.x-e.x),h.pe(E)}t.length=0,i.length=0}return h.getResult()+c*(.5*(1-this.m_eSquared)*_.getResult()+r.getResult())}getEqualAreaPCSInstance(e,t){const i=t.getCenterX();let a,_;const r=t.height();let h,o;(h=t.ymin>45*Math.PI/180||t.ymax<45*-Math.PI/180)?a=(0,Point2D.f)(.5*Math.PI,t.getCenterY()):(a=t.getCenterY(),_=t.ymin+r*(2/3));const m=(0,ProjectionTransformation.aw)("EqualAreaPCS"),l=e.toString();return o=h?ProjectionTransformation.ax.fromString(ProjectionTransformation.a4.PE_TYPE_PROJCS,`PROJCS["${m}", ${l}, PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["False_Easting",0],PARAMETER["False_Northing", 0],PARAMETER["Central_Meridian", ${i}], PARAMETER["Latitude_of_Origin", ${a}], UNIT["Meter",1.0]]`):ProjectionTransformation.ax.fromString(ProjectionTransformation.a4.PE_TYPE_PROJCS,`PROJCS["${m}", ${l}, PROJECTION["Cylindrical_Equal_Area"],PARAMETER["False_Easting", 0],PARAMETER["False_Northing", 0],PARAMETER["Central_Meridian", ${i}],PARAMETER["Standard_Parallel_1", ${_}],PARAMETER["Latitude_of_Origin", ${a}],UNIT["Meter",1.0]]`),o}splitSegmentCrossingItegralThreshold(e,t,i){const s=100,n=20,a=400,_=(0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,new Point2D.P(0,Point2D.l)),h=(0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,new Point2D.P(0,-Point2D.l)),o=this.splitSegmentPassingThroughPole(e);for(let m of o){const e=m.getStartXY(),o=m.getEndXY(),l=(0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,e),p=(0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,o),u=new Point2D.P,c=new Envelope.h;let g=Envelope.h.sqrDistance(_,l),d=Envelope.h.sqrDistance(l,p);if(g<=s){if(!(d>a)){i.push(new QuadraticBezier.L({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(l.add(c.mul(n))),u.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,c)),i.push(new QuadraticBezier.L({start:e,end:u})),e.assign(u)}if(l.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,e)),g=Envelope.h.sqrDistance(_,p),d=Envelope.h.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new QuadraticBezier.L({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(p.sub(c.mul(n))),u.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,c)),i.push(new QuadraticBezier.L({start:u,end:o})),o.assign(u)}if(l.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,e)),p.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,o)),g=Envelope.h.sqrDistance(h,l),d=Envelope.h.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new QuadraticBezier.L({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(l.add(c.mul(n))),u.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,c)),i.push(new QuadraticBezier.L({start:e,end:u})),e.assign(u)}if(l.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,e)),p.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,o)),g=Envelope.h.sqrDistance(h,p),d=Envelope.h.sqrDistance(l,p),g<=s){if(!(d>a)){i.push(new QuadraticBezier.L({start:e,end:o}));continue}c.assign(p.sub(l)),c.normalizeThis(),c.assign(p.sub(c.mul(n))),u.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,c)),i.push(new QuadraticBezier.L({start:u,end:o})),o.assign(u)}t.push(new QuadraticBezier.L({start:e,end:o}))}}splitSegmentPassingThroughPole(e){const t={stack:[],error:void 0,hasError:!1};try{const i=[],s=new Envelope.h,n=new Envelope.h,a=new Envelope.h,_=new Point2D.P,h=20,o=3.124139361,m=10,l=e.getStartXY(),p=e.getEndXY(),u=(0,tslib_es6.b)(t,new ProjectionTransformation.E,!1);if(ProjectionTransformation.F.geodeticDistance(this.m_a,this.m_eSquared,l.x,l.y,p.x,p.y,u,null,null,2),Math.abs(p.x-l.x)>o&&u.val>h){const e=new Q(new Point2D.P(0,90),l.divide(this.m_rpu),p.divide(this.m_rpu),this.m_inputGCS,2,2);let t=(0,ProjectionTransformation.U)(e.makeFunctor(),0,1,1e-10);if(t.second<=m&&t.first>0&&t.first<1)return s.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,l)),n.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,p)),(0,Point2D.x)(s,n,t.first,a),_.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,a)),i.push(new QuadraticBezier.L({start:l,end:_})),i.push(new QuadraticBezier.L({start:_,end:p})),i;if(e.setPointDistFrom(new Point2D.P(0,-90)),t=(0,ProjectionTransformation.U)(e.makeFunctor(),0,1,1e-10),t.second<=m&&t.first>0&&t.first<1)return s.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,l)),n.assign((0,ProjectionTransformation.Q)(this.m_a,this.m_eSquared,p)),(0,Point2D.x)(s,n,t.first,a),_.assign((0,ProjectionTransformation.Y)(this.m_a,this.m_eSquared,a)),i.push(new QuadraticBezier.L({start:l,end:_})),i.push(new QuadraticBezier.L({start:_,end:p})),i}return i.push(new QuadraticBezier.L({start:l,end:p})),i}catch(i){t.error=i,t.hasError=!0}finally{(0,tslib_es6.c)(t)}}adaptiveIntegrationWithRomberg(e,t){const i=e.makeFunctor();let s=0,n=1,a=i(s),r=i(n);const h=1e-17,o=1e-14;let m=(s+n)/2,l=i(m),p=Math.abs(l-a),u=Math.abs(r-l),c=0;for(;c++<32&&(p/u<.1||u/p<.1);)p<u?(t.pe((0,QuadraticBezier.x)(5,s,m,o,h,i)),s=m,a=l):(t.pe((0,QuadraticBezier.x)(5,m,n,o,h,i)),n=m,r=l),m=(s+n)/2,l=Math.abs(i(m)),p=Math.abs(l-a),u=Math.abs(r-l);t.pe((0,QuadraticBezier.x)(5,s,n,o,h,i))}loxodromeAreaHemi(e,t,i,s,n){const a=i.clone(),_=n.clone();let r,h,o,m,l,p,u,c,g,d,E,f,P,S,A,x;return a.make_negative&&a.changeSign(),_.make_negative&&_.changeSign(),E=s-t,1===Math.abs(a.sin_phi)||1===Math.abs(_.sin_phi)?e.half_qp*E:a.sin_phi===_.sin_phi?(d=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+(0,Point2D.y)(e.e*a.sin_phi))*E,d):(A=Math.log(_.sin_half_phi_pf*a.sin_half_phi_pz/(_.sin_half_phi_pz*a.sin_half_phi_pf)),x=Math.log(_.sin_half_asin_e_sin_phi_pf*a.sin_half_asin_e_sin_phi_pz/(_.sin_half_asin_e_sin_phi_pz*a.sin_half_asin_e_sin_phi_pf)),1===this.m_eSquared?(l=0,r=.5*(A+_.sin_phi/_.one_m_e_2_sin_2_phi-a.sin_phi/a.one_m_e_2_sin_2_phi),h=0):(l=-2*e.atanh_e_over_e*(Math.log(_.one_p_sin_phi/a.one_p_sin_phi)-e.e*x),r=(A-e.e*x)/e.one_m_e_2,h=(Math.log(_.one_m_e_2_sin_2_phi/a.one_m_e_2_sin_2_phi)+l/e.atanh_e_over_e)/e.one_m_e_2),o=-x*(a.atanh_esin_phi+_.atanh_esin_phi),m=1/a.one_m_e_2_sin_2_phi-1/_.one_m_e_2_sin_2_phi,p=(0,Point2D.z)(_.one_m_sin_phi/e.one_p_e,e.e)-(0,Point2D.z)(a.one_m_sin_phi/e.one_p_e,e.e),u=(0,Point2D.z)(_.one_p_sin_phi/e.one_p_e,e.e)-(0,Point2D.z)(a.one_p_sin_phi/e.one_p_e,e.e),c=(0,Point2D.z)(a.one_m_sin_phi/-e.one_m_e,e.e)-(0,Point2D.z)(_.one_m_sin_phi/-e.one_m_e,e.e),g=(0,Point2D.z)(a.one_p_sin_phi/-e.one_m_e,e.e)-(0,Point2D.z)(_.one_p_sin_phi/-e.one_m_e,e.e),d=.25/r*(h+o+m+l+.5*(p+u+c+g)),d+=e.half_qp,f=.5*e.one_m_e_2*a.sin_phi*(1/a.one_m_e_2_sin_2_phi+(0,Point2D.y)(e.e*a.sin_phi)),P=.5*e.one_m_e_2*_.sin_phi*(1/_.one_m_e_2_sin_2_phi+(0,Point2D.y)(e.e*_.sin_phi)),P<f&&(S=f,f=P,P=S),d<f&&(d=f),d>P&&(d=P),d*=E,d)}loxodromeArea(e){const t=Math.PI/180;let i=0;const s=function oe(){return{e:Number.NaN,one_p_e:Number.NaN,one_m_e:Number.NaN,one_m_e_2:Number.NaN,atanh_e_over_e:Number.NaN,half_qp:Number.NaN,f:Number.NaN,z:Number.NaN}}(),n=me(),a=me();s.e=Math.sqrt(this.m_eSquared),s.one_p_e=1+s.e,s.one_m_e=1-s.e,s.one_m_e_2=1-this.m_eSquared,s.atanh_e_over_e=(0,Point2D.y)(s.e),this.m_eSquared>=1?s.half_qp=1:s.half_qp=.5*(1+s.atanh_e_over_e*s.one_m_e_2),s.f=.25*Math.PI,s.z=.75*Math.PI,a.initialize(0,s.e,s.f,s.z);const _=e.getPathCount(),r=new Point2D.P,h=new Point2D.P,o=e.getImpl().getAttributeStreamRef(0);for(let m=0;m<_;m++){const _=e.getPathStart(m),l=e.getPathEnd(m);if(!(l-_<=1)){o.queryPoint2D(2*(l-1),r);for(let e=_;e<l;e++){o.queryPoint2D(2*e,h);const m=r.y*t,l=h.y*t;if(e===_?(n.initialize(m,s.e,s.f,s.z),n.make_negative=!1):n.assign(a),a.initialize(l,s.e,s.f,s.z),a.make_negative=!1,r.y*h.y<0){if(r.y>=90&&h.y<=-90||h.y>=90&&r.y<=-90)return Number.NaN;const e=me();e.initialize(0,s.e,s.f,s.z),e.make_negative=!1;const _=n.atanh_sin_phi-s.e*n.atanh_esin_phi,o=a.atanh_sin_phi-s.e*a.atanh_esin_phi,l=(o*r.x-_*h.x)/(o-_);m<0?(n.make_negative=!0,i-=this.loxodromeAreaHemi(s,r.x*t,n,l*t,e),n.make_negative=!1,i+=this.loxodromeAreaHemi(s,l*t,e,h.x*t,a)):(i+=this.loxodromeAreaHemi(s,r.x*t,n,l*t,e),a.make_negative=!0,i-=this.loxodromeAreaHemi(s,l*t,e,h.x*t,a),a.make_negative=!1)}else r.y>=0?i+=this.loxodromeAreaHemi(s,r.x*t,n,h.x*t,a):(n.make_negative=!0,a.make_negative=!0,i-=this.loxodromeAreaHemi(s,r.x*t,n,h.x*t,a),n.make_negative=!1,a.make_negative=!1);r.assign(h)}}}return this.m_a*i*this.m_a}calculate(e){if(e.isEmpty()||e.getDimension()<2)return 0;if(e.getGeometryType()===Geometry.G.enumEnvelope){const t=new QuadraticBezier.a;return t.addEnvelope(e,!1),this.calculate(t)}return this.m_inputSR!==this.m_inputGCS&&null===this.m_transformPCS2GCS&&(this.m_transformPCS2GCS=(0,ProjectionTransformation.p)(this.m_inputSR,this.m_inputGCS,null)),this.executePolygonGeodeticArea(e)}}class de{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(e,t,i){return!1}canAccelerateGeometry(e){return!1}execute(e,i,s,n){return(0,Geometry.d)(e),4===s?(new ne).execute(e,i,n):new ge(i,s,n).calculate(e)}}},"./node_modules/@arcgis/core/chunks/OperatorGeodeticDensifyByLength.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{OperatorGeodeticDensifyByLength:()=>o,OperatorGeodeticDensifyCursor:()=>a});var _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js"),_Geometry_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js");class o{getOperatorType(){return 10310}supportsCurves(){return!0}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,r,s,n){return new a(e,r,s,t,-1,-1,n)}execute(t,s,n,i,m){const o=new _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.S([t]),a=this.executeMany(o,s,n,i,m).next();return a||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.c)("null output"),a}}class a extends _SimpleGeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__.G{constructor(e,t,r,i,m,o,a){super(),this.m_progressTracker=a,o>0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.b)(""),4!==r&&m>0&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.b)(""),t||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)(""),0===t.getCoordinateSystemType()&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)(""),i>0||m>0||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.t)(""),this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=t,this.m_curveType=r,this.m_maxLengthMeters=i,this.m_maxDeviationMeters=m,this.m_maxAngle=o}next(){{let e;for(;e=this.m_inputGeoms.next();)return(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_1__.d)(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.geodeticDensify(e);return null}}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}geodeticDensify(e){return(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_2__.u)(e,this.m_spatialReference,this.m_curveType,this.m_maxLengthMeters,this.m_maxDeviationMeters,this.m_progressTracker)}}},"./node_modules/@arcgis/core/chunks/OperatorShapePreservingLength.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>w});var _Geometry_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/Geometry.js"),_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/ProjectionTransformation.js"),_QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/QuadraticBezier.js"),_Point2D_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/Point2D.js"),_Envelope_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope.js"),_Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/Envelope2D.js"),_OperatorDensify_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorDensify.js"),_OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/chunks/OperatorClip.js");function x(){return{m_pGcs:new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P,m_xyz:new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.h,m_factor:Number.NaN,m_geoLength:Number.NaN,setValues:d,setLength:P,assign:S}}function d(e,t,s,n){this.m_factor=e,this.m_pGcs.assign(t),this.m_xyz.assign(n),this.m_geoLength=s}function P(e){this.m_geoLength=e}function S(e){this.m_pGcs.assign(e.m_pGcs),this.m_xyz.assign(e.m_xyz),this.m_factor=e.m_factor,this.m_geoLength=e.m_geoLength}class w{getOperatorType(){return 10315}supportsCurves(){return!0}accelerateGeometry(e,t,s){return!1}canAccelerateGeometry(e){return!1}_ExecuteShapePreservingLength(e,t,s,n,a){if(e.hasNonLinearSegments()&&(e=(new _OperatorDensify_js__WEBPACK_IMPORTED_MODULE_6__.O).execute(e,0,t.getTolerance(0),0,a)),t.isPannable()){let n=90,r=-90;if(1===s.getUnit().getUnitToBaseFactor()&&(n*=Math.PI/180,r*=Math.PI/180),2===t.getCoordinateSystemType()){let e=null;const s=[0,0,0,0];e=t.getPECoordSys(),s[0]=0,s[1]=n,s[2]=0,s[3]=r,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.Z.geogToProj(e,2,s),n=s[1],r=s[3]}const i=new _Envelope2D_js__WEBPACK_IMPORTED_MODULE_5__.J;e.queryEnvelope(i),i.ymin=r,i.ymax=n,e=(new _OperatorClip_js__WEBPACK_IMPORTED_MODULE_7__.O).execute(e,i,t,a)}else{const s=t.getPCSHorizon();if((e=(new _ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.f).execute(e,s,t,a))===s){const t=e.clone();e=t}}return e.isEmpty()?0:this._ExecuteIterativeApproach(e,t,s,n,1,a)}_ExecuteIterativeApproach(e,t,s,r,a,i){const c=(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.G)();s.querySpheroidData(c);const g=c.majorSemiAxis,f=c.e2,l=s.getUnit().getUnitToBaseFactor(),d=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_3__.p)(x,40),P=(0,_Point2D_js__WEBPACK_IMPORTED_MODULE_3__.d)(40,Number.NaN),S=x(),w=x();let E;const G=[0,0,0,0],j=t.getPECoordSys(),L=new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P,T=new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P,v=new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P,D=new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P,b=new _Point2D_js__WEBPACK_IMPORTED_MODULE_3__.P;let z=0;const O=e.querySegmentIterator();for(;O.nextPath();)for(;O.hasNextSegment();){const e=O.nextSegment();L.assign(e.getStartXY()),T.assign(e.getEndXY()),2===t.getCoordinateSystemType()?(G[0]=L.x,G[1]=L.y,G[2]=T.x,G[3]=T.y,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.Z.projToGeog(j,2,G),v.x=G[0]*l,v.y=G[1]*l,D.x=G[2]*l,D.y=G[3]*l):(v.setCoordsPoint2D(L),D.setCoordsPoint2D(T),v.scale(l),D.scale(l));const s=new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.h,r=new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.h;N(g,f,v,s),N(g,f,D,r);let i=C(g,s,r);S.setValues(0,v,Number.NaN,s),w.setValues(1,D,i,r),E=a,d[0].assign(w),P[0]=a;let m=0;for(;;){m>128&&(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.c)("iterations exceeded");const s=.5*(S.m_factor+w.m_factor),r=e.getCoord2D(s);2===t.getCoordinateSystemType()?(G[0]=r.x,G[1]=r.y,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.Z.projToGeog(j,1,G),b.x=G[0]*l,b.y=G[1]*l):(b.setCoordsPoint2D(r),b.scale(l)),v.setCoordsPoint2D(S.m_pGcs),D.setCoordsPoint2D(w.m_pGcs);const c=new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.h;N(g,f,b,c);const u=C(g,S.m_xyz,c),p=C(g,w.m_xyz,c);i=w.m_geoLength,Number.isNaN(i)&&(i=C(g,S.m_xyz,w.m_xyz));const h=u+p,x=E===a&&h>=20&&Math.abs(h-i)>1e-8*(i+h);if(m+2<40&&(x||Math.abs(h-i)>0&&E>0))w.setLength(p),d[m].assign(w),w.setValues(s,b,u,c),d[++m].assign(w),x?(E=a,P[m]=a):(E--,P[m-1]=E,P[m]=E);else{if(z+=h,0===m)break;S.assign(w),w.assign(d[--m]),E=P[m]}}}return z}execute(n,o,r){if(o&&0!==o.getCoordinateSystemType()||(0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.t)(""),n.isEmpty()||n.getDimension()<1)return 0;let i=null;const m=o.getGCS();m!==o&&(i=(0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.p)(o,m,null));const u=n.getGeometryType();if(u===_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.G.enumEnvelope){const e=new _QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__.a;return e.addEnvelope(n,!1),this._ExecuteShapePreservingLength(e,o,m,i,r)}if((0,_Geometry_js__WEBPACK_IMPORTED_MODULE_0__.f)(u)){const e=new _QuadraticBezier_js__WEBPACK_IMPORTED_MODULE_2__.P;return e.addSegment(n,!0),this._ExecuteShapePreservingLength(e,o,m,i,r)}return this._ExecuteShapePreservingLength(n,o,m,i,r)}}function N(e,t,s,n){n.assign((0,_ProjectionTransformation_js__WEBPACK_IMPORTED_MODULE_1__.Q)(e,t,s))}function C(e,t,s){const n=e,o=new _Envelope_js__WEBPACK_IMPORTED_MODULE_4__.h;o.setSub(t,s);const r=o.length();return 2*n*Math.asin(r/(2*n))}},"./node_modules/@arcgis/core/chunks/SimpleGeometryCursor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>t,S:()=>s});class t{*[Symbol.iterator](){let t=this.next();for(;t;)yield t,t=this.next()}}class s extends t{constructor(t){super(),this.m_iGeom=-1,this.m_aGeoms=t?t.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){const t=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,t}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}}}]);